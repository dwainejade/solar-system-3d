"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/main/page",{

/***/ "(app-pages-browser)/./app/main/SceneThree.jsx":
/*!*********************************!*\
  !*** ./app/main/SceneThree.jsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/useTexture.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/CameraControls.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/AdaptiveDpr.js\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store/store */ \"(app-pages-browser)/./src/store/store.js\");\n/* harmony import */ var _data_planetsData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/data/planetsData */ \"(app-pages-browser)/./src/data/planetsData.js\");\n/* harmony import */ var _data_moonsData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/data/moonsData */ \"(app-pages-browser)/./src/data/moonsData.js\");\n/* harmony import */ var _components_Sun__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Sun */ \"(app-pages-browser)/./src/components/Sun.jsx\");\n/* harmony import */ var _components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/PlanetBasic */ \"(app-pages-browser)/./src/components/PlanetBasic.jsx\");\n/* harmony import */ var _components_Stars__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Stars */ \"(app-pages-browser)/./src/components/Stars.jsx\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @react-three/fiber */ \"(app-pages-browser)/./node_modules/@react-three/fiber/dist/index-27578f8f.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nconst SceneThree = ()=>{\n    _s();\n    const { sunSettings, simSpeed, setSimSpeed, setPrevSpeed } = (0,_store_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const { planetPositions, selectedPlanet, setSelectedPlanet, moonPositions, selectedMoon, setSelectedMoon, planetsData } = (0,_store_store__WEBPACK_IMPORTED_MODULE_2__.usePlanetStore)();\n    const { satelliteCamera, triggerReset, setTriggerReset, isCameraTransitioning, toggleCameraTransitioning } = (0,_store_store__WEBPACK_IMPORTED_MODULE_2__.useCameraStore)();\n    const cameraControlsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const [minDistance, setMinDistance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(200);\n    const [moonsParent, setMoonsParent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // A simplistic approach to calculate optimal distance\n    const calculateOptimalDistance = (planetRadius)=>{\n        const baseDistance = 4.2;\n        return planetRadius * baseDistance;\n    };\n    const resetCamera = ()=>{\n        if (!cameraControlsRef.current) return;\n        setSelectedPlanet(null);\n        setSelectedMoon(null);\n        setMinDistance(200);\n        // Set the target to the sun's position\n        cameraControlsRef.current.setTarget(sunSettings.position.x, sunSettings.position.y, sunSettings.position.z, true);\n        // Define an isometric position for the camera\n        const isometricPosition = {\n            x: sunSettings.position.x + -2000,\n            y: sunSettings.position.y + 1000,\n            z: sunSettings.position.z + 1000\n        };\n        cameraControlsRef.current.setPosition(isometricPosition.x, isometricPosition.y, isometricPosition.z, true);\n    };\n    // Handle camera adjustments when a planet is selected\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_8__.A)(()=>{\n        if (selectedPlanet && cameraControlsRef.current) {\n            const planetPosition = planetPositions[selectedPlanet.name];\n            if (planetPosition) {\n                const scaledRadius = planetsData[selectedPlanet.name].radius * _data_planetsData__WEBPACK_IMPORTED_MODULE_3__.sizeScaleFactor;\n                const optimalDistance = calculateOptimalDistance(scaledRadius);\n                setMinDistance(optimalDistance / 2);\n                cameraControlsRef.current.setTarget(planetPosition.x, planetPosition.y, planetPosition.z, true);\n                cameraControlsRef.current.dollyTo(optimalDistance, true);\n            }\n            if (selectedPlanet.name === \"Sun\") {\n                setMinDistance(200);\n                cameraControlsRef.current.setTarget(0, 0, 0, true);\n                cameraControlsRef.current.dollyTo(200, true);\n            }\n        }\n    });\n    const getMoonData = (planetName, moonName)=>{\n        const moons = _data_moonsData__WEBPACK_IMPORTED_MODULE_4__.moonsData[planetName];\n        const moon = moons.find((m)=>m.name === moonName);\n        return moon;\n    };\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_8__.A)(()=>{\n        if (selectedMoon && cameraControlsRef.current) {\n            const moonPosition = moonPositions[selectedMoon.name];\n            if (moonPosition) {\n                const moonInfo = getMoonData(moonsParent, selectedMoon.name);\n                const scaledRadius = (moonInfo === null || moonInfo === void 0 ? void 0 : moonInfo.radius) * _data_moonsData__WEBPACK_IMPORTED_MODULE_4__.moonSizeScaleFactor;\n                const optimalDistance = calculateOptimalDistance(scaledRadius);\n                setMinDistance(optimalDistance / 2);\n                cameraControlsRef.current.setTarget(moonPosition.x, moonPosition.y, moonPosition.z, true);\n                cameraControlsRef.current.dollyTo(optimalDistance, true);\n            }\n        }\n    });\n    // Handle resetting the camera from state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (resetCamera) {\n            resetCamera();\n            setTriggerReset(false);\n        }\n    }, [\n        triggerReset\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _cameraControlsRef_current;\n        if (selectedPlanet && selectedPlanet.name !== \"Sun\" && !isCameraTransitioning) {\n            setPrevSpeed(simSpeed);\n            setSimSpeed(0); // Pause the simulation\n            toggleCameraTransitioning(true); // Start the camera transition\n            setMoonsParent(selectedPlanet.name);\n        }\n        if (selectedMoon && !isCameraTransitioning) {\n            setPrevSpeed(simSpeed);\n            setSimSpeed(0);\n            toggleCameraTransitioning(true);\n        }\n        (_cameraControlsRef_current = cameraControlsRef.current) === null || _cameraControlsRef_current === void 0 ? void 0 : _cameraControlsRef_current.camera.updateProjectionMatrix();\n    }, [\n        selectedPlanet,\n        selectedMoon\n    ]);\n    const earthTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/earth/8k_earth_daymap.jpg\",\n        // night: \"../assets/earth/2k_earth_nightmap.jpg\",\n        // normal: \"../assets/earth/8k_earth_normal_map.png\",\n        clouds: \"../assets/earth/8k_earth_clouds.jpg\"\n    });\n    const sunTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/sun/8k_sun.jpg\"\n    });\n    const venusTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/venus/2k_venus_surface.jpg\"\n    });\n    const mercuryTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/mercury/2k_mercury.jpg\"\n    });\n    const marsTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/mars/1k_mars.jpg\"\n    });\n    const jupiterTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/jupiter/8k_jupiter.jpg\"\n    });\n    const saturnTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/saturn/2k_saturn.jpg\",\n        ringTexture: \"../assets/saturn/saturn-rings.png\"\n    });\n    const uranusTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/uranus/2k_uranus.jpg\",\n        ringTexture: \"../assets/uranus/uranus-rings-2.png\"\n    });\n    const neptuneTextures = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture)({\n        map: \"../assets/neptune/2k_neptune.jpg\"\n    });\n    // saturnTextures.ringTexture.wrapS = RepeatWrapping;\n    // saturnTextures.ringTexture.wrapT = ClampToEdgeWrapping;\n    // uranusTextures.ringTexture.wrapS = RepeatWrapping;\n    // uranusTextures.ringTexture.wrapT = ClampToEdgeWrapping;\n    // camera settings\n    const cameraConfig = {\n        maxDistance: 90000,\n        smoothTime: 0.6,\n        polarRotateSpeed: 0.5,\n        azimuthRotateSpeed: 0.5,\n        enableDamping: true,\n        near: 0.001,\n        far: 1000000\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            !satelliteCamera && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_10__.CameraControls, {\n                ref: cameraControlsRef,\n                makeDefault: !satelliteCamera,\n                ...cameraConfig,\n                minDistance: minDistance\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 162,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Stars__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 170,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_11__.AdaptiveDpr, {\n                pixelated: true\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 171,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Earth\",\n                textures: earthTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 173,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Mars\",\n                textures: marsTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 174,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Venus\",\n                textures: venusTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 175,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Mercury\",\n                textures: mercuryTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 176,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Jupiter\",\n                textures: jupiterTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 177,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Saturn\",\n                textures: saturnTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 178,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Uranus\",\n                textures: uranusTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 179,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlanetBasic__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                name: \"Neptune\",\n                textures: neptuneTextures\n            }, void 0, false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 180,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Sun__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                textures: sunTextures,\n                position: sunSettings.position,\n                resetCamera: resetCamera\n            }, \"Sun-plain\", false, {\n                fileName: \"/Users/dmatthew8972/Desktop/strongmind/github/solar-system-interactive/app/main/SceneThree.jsx\",\n                lineNumber: 186,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s(SceneThree, \"Gy/DfyjCERkd3P+2+JVq98dSr5c=\", false, function() {\n    return [\n        _store_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        _store_store__WEBPACK_IMPORTED_MODULE_2__.usePlanetStore,\n        _store_store__WEBPACK_IMPORTED_MODULE_2__.useCameraStore,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_8__.A,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_8__.A,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_9__.useTexture\n    ];\n});\n_c = SceneThree;\n// function ControlledCamera({ selectedPlanet, planetPositions, planetsData, sizeScaleFactor }) {\n//   const orbitRef = useRef();\n//   const { camera, gl } = useThree();\n//   useEffect(() => {\n//     if (selectedPlanet && orbitRef.current) {\n//       const position = planetPositions[selectedPlanet.name];\n//       const data = planetsData[selectedPlanet.name];\n//       const distance = data.radius * sizeScaleFactor * 4.2; // or any other logic to determine the distance\n//       orbitRef.current.target.set(position.x, position.y, position.z);\n//       camera.position.set(position.x + distance, position.y + distance, position.z + distance);\n//       orbitRef.current.update();\n//     }\n//   }, [selectedPlanet, planetPositions, planetsData, sizeScaleFactor, camera]);\n//   return <OrbitControls makeDefault ref={orbitRef} args={[camera, gl.domElement]} />;\n// }\n/* harmony default export */ __webpack_exports__[\"default\"] = (SceneThree);\nvar _c;\n$RefreshReg$(_c, \"SceneThree\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9tYWluL1NjZW5lVGhyZWUuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMkQ7QUFDaUI7QUFDSDtBQUNwQjtBQUNhO0FBQy9CO0FBQ1c7QUFDUjtBQUNRO0FBQ2M7QUFFNUQsTUFBTW1CLGFBQWE7O0lBQ2pCLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxRQUFRLEVBQUVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFLEdBQUdoQix3REFBUUE7SUFDckUsTUFBTSxFQUFFaUIsZUFBZSxFQUFFQyxjQUFjLEVBQUVDLGlCQUFpQixFQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsZUFBZSxFQUFFQyxXQUFXLEVBQUUsR0FBR3JCLDREQUFjQTtJQUN4SSxNQUFNLEVBQUVzQixlQUFlLEVBQUVDLFlBQVksRUFBRUMsZUFBZSxFQUFFQyxxQkFBcUIsRUFBRUMseUJBQXlCLEVBQUUsR0FBRzNCLDREQUFjQTtJQUMzSCxNQUFNNEIsb0JBQW9CbkMsNkNBQU1BO0lBQ2hDLE1BQU0sQ0FBQ29DLGFBQWFDLGVBQWUsR0FBR25DLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ29DLGFBQWFDLGVBQWUsR0FBR3JDLCtDQUFRQSxDQUFDO0lBRS9DLHNEQUFzRDtJQUN0RCxNQUFNc0MsMkJBQTJCLENBQUNDO1FBQ2hDLE1BQU1DLGVBQWU7UUFDckIsT0FBT0QsZUFBZUM7SUFDeEI7SUFHQSxNQUFNQyxjQUFjO1FBQ2xCLElBQUksQ0FBQ1Isa0JBQWtCUyxPQUFPLEVBQUU7UUFDaENuQixrQkFBa0I7UUFDbEJHLGdCQUFnQjtRQUNoQlMsZUFBZTtRQUNmLHVDQUF1QztRQUN2Q0Ysa0JBQWtCUyxPQUFPLENBQUNDLFNBQVMsQ0FBQzFCLFlBQVkyQixRQUFRLENBQUNDLENBQUMsRUFBRTVCLFlBQVkyQixRQUFRLENBQUNFLENBQUMsRUFBRTdCLFlBQVkyQixRQUFRLENBQUNHLENBQUMsRUFBRTtRQUM1Ryw4Q0FBOEM7UUFDOUMsTUFB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QUFFakYsd0ZBQXdGO0FBQ3hGLElBQUk7QUFFSiwrREFBZUEsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvbWFpbi9TY2VuZVRocmVlLmpzeD9mMTY5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBBZGFwdGl2ZURwciwgQ2FtZXJhQ29udHJvbHMsIHVzZVRleHR1cmUgfSBmcm9tIFwiQHJlYWN0LXRocmVlL2RyZWlcIjtcbmltcG9ydCB1c2VTdG9yZSwgeyB1c2VDYW1lcmFTdG9yZSwgdXNlUGxhbmV0U3RvcmUgfSBmcm9tIFwiQC9zdG9yZS9zdG9yZVwiO1xuaW1wb3J0IHsgc2l6ZVNjYWxlRmFjdG9yIH0gZnJvbSBcIkAvZGF0YS9wbGFuZXRzRGF0YVwiO1xuaW1wb3J0IHsgbW9vbnNEYXRhLCBtb29uU2l6ZVNjYWxlRmFjdG9yIH0gZnJvbSBcIkAvZGF0YS9tb29uc0RhdGFcIjtcbmltcG9ydCBTdW4gZnJvbSBcIkAvY29tcG9uZW50cy9TdW5cIjtcbmltcG9ydCBQbGFuZXQgZnJvbSBcIkAvY29tcG9uZW50cy9QbGFuZXRCYXNpY1wiO1xuaW1wb3J0IFN0YXJzIGZyb20gXCJAL2NvbXBvbmVudHMvU3RhcnNcIlxuaW1wb3J0IHsgdXNlRnJhbWUgfSBmcm9tIFwiQHJlYWN0LXRocmVlL2ZpYmVyXCI7XG5pbXBvcnQgeyBSZXBlYXRXcmFwcGluZywgQ2xhbXBUb0VkZ2VXcmFwcGluZyB9IGZyb20gJ3RocmVlJztcblxuY29uc3QgU2NlbmVUaHJlZSA9ICgpID0+IHtcbiAgY29uc3QgeyBzdW5TZXR0aW5ncywgc2ltU3BlZWQsIHNldFNpbVNwZWVkLCBzZXRQcmV2U3BlZWQgfSA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IHsgcGxhbmV0UG9zaXRpb25zLCBzZWxlY3RlZFBsYW5ldCwgc2V0U2VsZWN0ZWRQbGFuZXQsIG1vb25Qb3NpdGlvbnMsIHNlbGVjdGVkTW9vbiwgc2V0U2VsZWN0ZWRNb29uLCBwbGFuZXRzRGF0YSB9ID0gdXNlUGxhbmV0U3RvcmUoKTtcbiAgY29uc3QgeyBzYXRlbGxpdGVDYW1lcmEsIHRyaWdnZXJSZXNldCwgc2V0VHJpZ2dlclJlc2V0LCBpc0NhbWVyYVRyYW5zaXRpb25pbmcsIHRvZ2dsZUNhbWVyYVRyYW5zaXRpb25pbmcgfSA9IHVzZUNhbWVyYVN0b3JlKCk7XG4gIGNvbnN0IGNhbWVyYUNvbnRyb2xzUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IFttaW5EaXN0YW5jZSwgc2V0TWluRGlzdGFuY2VdID0gdXNlU3RhdGUoMjAwKTtcbiAgY29uc3QgW21vb25zUGFyZW50LCBzZXRNb29uc1BhcmVudF0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAvLyBBIHNpbXBsaXN0aWMgYXBwcm9hY2ggdG8gY2FsY3VsYXRlIG9wdGltYWwgZGlzdGFuY2VcbiAgY29uc3QgY2FsY3VsYXRlT3B0aW1hbERpc3RhbmNlID0gKHBsYW5ldFJhZGl1cykgPT4ge1xuICAgIGNvbnN0IGJhc2VEaXN0YW5jZSA9IDQuMjtcbiAgICByZXR1cm4gcGxhbmV0UmFkaXVzICogYmFzZURpc3RhbmNlO1xuICB9XG5cblxuICBjb25zdCByZXNldENhbWVyYSA9ICgpID0+IHtcbiAgICBpZiAoIWNhbWVyYUNvbnRyb2xzUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBzZXRTZWxlY3RlZFBsYW5ldChudWxsKVxuICAgIHNldFNlbGVjdGVkTW9vbihudWxsKVxuICAgIHNldE1pbkRpc3RhbmNlKDIwMCk7XG4gICAgLy8gU2V0IHRoZSB0YXJnZXQgdG8gdGhlIHN1bidzIHBvc2l0aW9uXG4gICAgY2FtZXJhQ29udHJvbHNSZWYuY3VycmVudC5zZXRUYXJnZXQoc3VuU2V0dGluZ3MucG9zaXRpb24ueCwgc3VuU2V0dGluZ3MucG9zaXRpb24ueSwgc3VuU2V0dGluZ3MucG9zaXRpb24ueiwgdHJ1ZSk7XG4gICAgLy8gRGVmaW5lIGFuIGlzb21ldHJpYyBwb3NpdGlvbiBmb3IgdGhlIGNhbWVyYVxuICAgIGNvbnN0IGlzb21ldHJpY1Bvc2l0aW9uID0ge1xuICAgICAgeDogc3VuU2V0dGluZ3MucG9zaXRpb24ueCArIC0yMDAwLFxuICAgICAgeTogc3VuU2V0dGluZ3MucG9zaXRpb24ueSArIDEwMDAsXG4gICAgICB6OiBzdW5TZXR0aW5ncy5wb3NpdGlvbi56ICsgMTAwMCxcbiAgICB9O1xuICAgIGNhbWVyYUNvbnRyb2xzUmVmLmN1cnJlbnQuc2V0UG9zaXRpb24oaXNvbWV0cmljUG9zaXRpb24ueCwgaXNvbWV0cmljUG9zaXRpb24ueSwgaXNvbWV0cmljUG9zaXRpb24ueiwgdHJ1ZSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGNhbWVyYSBhZGp1c3RtZW50cyB3aGVuIGEgcGxhbmV0IGlzIHNlbGVjdGVkXG4gIHVzZUZyYW1lKCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRQbGFuZXQgJiYgY2FtZXJhQ29udHJvbHNSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgcGxhbmV0UG9zaXRpb24gPSBwbGFuZXRQb3NpdGlvbnNbc2VsZWN0ZWRQbGFuZXQubmFtZV07XG4gICAgICBpZiAocGxhbmV0UG9zaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2NhbGVkUmFkaXVzID0gcGxhbmV0c0RhdGFbc2VsZWN0ZWRQbGFuZXQubmFtZV0ucmFkaXVzICogc2l6ZVNjYWxlRmFjdG9yO1xuICAgICAgICBjb25zdCBvcHRpbWFsRGlzdGFuY2UgPSBjYWxjdWxhdGVPcHRpbWFsRGlzdGFuY2Uoc2NhbGVkUmFkaXVzKTtcbiAgICAgICAgc2V0TWluRGlzdGFuY2Uob3B0aW1hbERpc3RhbmNlIC8gMik7XG4gICAgICAgIGNhbWVyYUNvbnRyb2xzUmVmLmN1cnJlbnQuc2V0VGFyZ2V0KHBsYW5ldFBvc2l0aW9uLngsIHBsYW5ldFBvc2l0aW9uLnksIHBsYW5ldFBvc2l0aW9uLnosIHRydWUpO1xuICAgICAgICBjYW1lcmFDb250cm9sc1JlZi5jdXJyZW50LmRvbGx5VG8ob3B0aW1hbERpc3RhbmNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RlZFBsYW5ldC5uYW1lID09PSBcIlN1blwiKSB7XG4gICAgICAgIHNldE1pbkRpc3RhbmNlKDIwMCk7XG4gICAgICAgIGNhbWVyYUNvbnRyb2xzUmVmLmN1cnJlbnQuc2V0VGFyZ2V0KDAsIDAsIDAsIHRydWUpO1xuICAgICAgICBjYW1lcmFDb250cm9sc1JlZi5jdXJyZW50LmRvbGx5VG8oMjAwLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCBnZXRNb29uRGF0YSA9IChwbGFuZXROYW1lLCBtb29uTmFtZSkgPT4ge1xuICAgIGNvbnN0IG1vb25zID0gbW9vbnNEYXRhW3BsYW5ldE5hbWVdO1xuICAgIGNvbnN0IG1vb24gPSBtb29ucy5maW5kKG0gPT4gbS5uYW1lID09PSBtb29uTmFtZSk7XG4gICAgcmV0dXJuIG1vb247XG4gIH07XG4gIHVzZUZyYW1lKCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRNb29uICYmIGNhbWVyYUNvbnRyb2xzUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IG1vb25Qb3NpdGlvbiA9IG1vb25Qb3NpdGlvbnNbc2VsZWN0ZWRNb29uLm5hbWVdO1xuICAgICAgaWYgKG1vb25Qb3NpdGlvbikge1xuICAgICAgICBjb25zdCBtb29uSW5mbyA9IGdldE1vb25EYXRhKG1vb25zUGFyZW50LCBzZWxlY3RlZE1vb24ubmFtZSlcbiAgICAgICAgY29uc3Qgc2NhbGVkUmFkaXVzID0gbW9vbkluZm8/LnJhZGl1cyAqIG1vb25TaXplU2NhbGVGYWN0b3I7XG4gICAgICAgIGNvbnN0IG9wdGltYWxEaXN0YW5jZSA9IGNhbGN1bGF0ZU9wdGltYWxEaXN0YW5jZShzY2FsZWRSYWRpdXMpO1xuICAgICAgICBzZXRNaW5EaXN0YW5jZShvcHRpbWFsRGlzdGFuY2UgLyAyKTtcbiAgICAgICAgY2FtZXJhQ29udHJvbHNSZWYuY3VycmVudC5zZXRUYXJnZXQobW9vblBvc2l0aW9uLngsIG1vb25Qb3NpdGlvbi55LCBtb29uUG9zaXRpb24ueiwgdHJ1ZSk7XG4gICAgICAgIGNhbWVyYUNvbnRyb2xzUmVmLmN1cnJlbnQuZG9sbHlUbyhvcHRpbWFsRGlzdGFuY2UsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gSGFuZGxlIHJlc2V0dGluZyB0aGUgY2FtZXJhIGZyb20gc3RhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVzZXRDYW1lcmEpIHtcbiAgICAgIHJlc2V0Q2FtZXJhKClcbiAgICAgIHNldFRyaWdnZXJSZXNldChmYWxzZSlcbiAgICB9XG4gIH0sIFt0cmlnZ2VyUmVzZXRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgaWYgKHNlbGVjdGVkUGxhbmV0ICYmIHNlbGVjdGVkUGxhbmV0Lm5hbWUgIT09IFwiU3VuXCIgJiYgIWlzQ2FtZXJhVHJhbnNpdGlvbmluZykge1xuICAgICAgc2V0UHJldlNwZWVkKHNpbVNwZWVkKTtcbiAgICAgIHNldFNpbVNwZWVkKDApOyAvLyBQYXVzZSB0aGUgc2ltdWxhdGlvblxuICAgICAgdG9nZ2xlQ2FtZXJhVHJhbnNpdGlvbmluZyh0cnVlKTsgLy8gU3RhcnQgdGhlIGNhbWVyYSB0cmFuc2l0aW9uXG4gICAgICBzZXRNb29uc1BhcmVudChzZWxlY3RlZFBsYW5ldC5uYW1lKTtcbiAgICB9XG4gICAgaWYgKHNlbGVjdGVkTW9vbiAmJiAhaXNDYW1lcmFUcmFuc2l0aW9uaW5nKSB7XG4gICAgICBzZXRQcmV2U3BlZWQoc2ltU3BlZWQpO1xuICAgICAgc2V0U2ltU3BlZWQoMCk7XG4gICAgICB0b2dnbGVDYW1lcmFUcmFuc2l0aW9uaW5nKHRydWUpO1xuICAgIH1cbiAgICBjYW1lcmFDb250cm9sc1JlZi5jdXJyZW50Py5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG4gIH0sIFtzZWxlY3RlZFBsYW5ldCwgc2VsZWN0ZWRNb29uXSk7XG5cblxuICBjb25zdCBlYXJ0aFRleHR1cmVzID0gdXNlVGV4dHVyZSh7XG4gICAgbWFwOiBcIi4uL2Fzc2V0cy9lYXJ0aC84a19lYXJ0aF9kYXltYXAuanBnXCIsXG4gICAgLy8gbmlnaHQ6IFwiLi4vYXNzZXRzL2VhcnRoLzJrX2VhcnRoX25pZ2h0bWFwLmpwZ1wiLFxuICAgIC8vIG5vcm1hbDogXCIuLi9hc3NldHMvZWFydGgvOGtfZWFydGhfbm9ybWFsX21hcC5wbmdcIixcbiAgICBjbG91ZHM6IFwiLi4vYXNzZXRzL2VhcnRoLzhrX2VhcnRoX2Nsb3Vkcy5qcGdcIixcbiAgICAvLyBzcGVjdWxhcjogXCIuLi9hc3NldHMvZWFydGgvMmtfZWFydGhfc3BlY3VsYXJfbWFwLnBuZ1wiLFxuICB9KTtcbiAgY29uc3Qgc3VuVGV4dHVyZXMgPSB1c2VUZXh0dXJlKHtcbiAgICBtYXA6IFwiLi4vYXNzZXRzL3N1bi84a19zdW4uanBnXCIsXG4gIH0pXG4gIGNvbnN0IHZlbnVzVGV4dHVyZXMgPSB1c2VUZXh0dXJlKHtcbiAgICBtYXA6IFwiLi4vYXNzZXRzL3ZlbnVzLzJrX3ZlbnVzX3N1cmZhY2UuanBnXCIsXG4gICAgLy8gY2xvdWRzOiBcIi4uL2Fzc2V0cy92ZW51cy8ya192ZW51c19hdG1vc3BoZXJlLmpwZ1wiLFxuICB9KTtcbiAgY29uc3QgbWVyY3VyeVRleHR1cmVzID0gdXNlVGV4dHVyZSh7XG4gICAgbWFwOiBcIi4uL2Fzc2V0cy9tZXJjdXJ5LzJrX21lcmN1cnkuanBnXCIsXG4gIH0pO1xuICBjb25zdCBtYXJzVGV4dHVyZXMgPSB1c2VUZXh0dXJlKHtcbiAgICBtYXA6IFwiLi4vYXNzZXRzL21hcnMvMWtfbWFycy5qcGdcIixcbiAgfSk7XG4gIGNvbnN0IGp1cGl0ZXJUZXh0dXJlcyA9IHVzZVRleHR1cmUoe1xuICAgIG1hcDogXCIuLi9hc3NldHMvanVwaXRlci84a19qdXBpdGVyLmpwZ1wiLFxuICB9KTtcbiAgY29uc3Qgc2F0dXJuVGV4dHVyZXMgPSB1c2VUZXh0dXJlKHtcbiAgICBtYXA6IFwiLi4vYXNzZXRzL3NhdHVybi8ya19zYXR1cm4uanBnXCIsXG4gICAgcmluZ1RleHR1cmU6IFwiLi4vYXNzZXRzL3NhdHVybi9zYXR1cm4tcmluZ3MucG5nXCJcbiAgfSk7XG4gIGNvbnN0IHVyYW51c1RleHR1cmVzID0gdXNlVGV4dHVyZSh7XG4gICAgbWFwOiBcIi4uL2Fzc2V0cy91cmFudXMvMmtfdXJhbnVzLmpwZ1wiLFxuICAgIHJpbmdUZXh0dXJlOiBcIi4uL2Fzc2V0cy91cmFudXMvdXJhbnVzLXJpbmdzLTIucG5nXCJcbiAgfSk7XG4gIGNvbnN0IG5lcHR1bmVUZXh0dXJlcyA9IHVzZVRleHR1cmUoe1xuICAgIG1hcDogXCIuLi9hc3NldHMvbmVwdHVuZS8ya19uZXB0dW5lLmpwZ1wiLFxuICB9KTtcblxuICAvLyBzYXR1cm5UZXh0dXJlcy5yaW5nVGV4dHVyZS53cmFwUyA9IFJlcGVhdFdyYXBwaW5nO1xuICAvLyBzYXR1cm5UZXh0dXJlcy5yaW5nVGV4dHVyZS53cmFwVCA9IENsYW1wVG9FZGdlV3JhcHBpbmc7XG4gIC8vIHVyYW51c1RleHR1cmVzLnJpbmdUZXh0dXJlLndyYXBTID0gUmVwZWF0V3JhcHBpbmc7XG4gIC8vIHVyYW51c1RleHR1cmVzLnJpbmdUZXh0dXJlLndyYXBUID0gQ2xhbXBUb0VkZ2VXcmFwcGluZztcblxuICAvLyBjYW1lcmEgc2V0dGluZ3NcbiAgY29uc3QgY2FtZXJhQ29uZmlnID0ge1xuICAgIG1heERpc3RhbmNlOiA5MDAwMCxcbiAgICBzbW9vdGhUaW1lOiAwLjYsXG4gICAgcG9sYXJSb3RhdGVTcGVlZDogMC41LFxuICAgIGF6aW11dGhSb3RhdGVTcGVlZDogMC41LFxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXG4gICAgbmVhcjogMC4wMDEsXG4gICAgZmFyOiAxMDAwMDAwXG4gIH07XG5cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7IXNhdGVsbGl0ZUNhbWVyYSAmJiAoXG4gICAgICAgIDxDYW1lcmFDb250cm9sc1xuICAgICAgICAgIHJlZj17Y2FtZXJhQ29udHJvbHNSZWZ9XG4gICAgICAgICAgbWFrZURlZmF1bHQ9eyFzYXRlbGxpdGVDYW1lcmF9XG4gICAgICAgICAgey4uLmNhbWVyYUNvbmZpZ31cbiAgICAgICAgICBtaW5EaXN0YW5jZT17bWluRGlzdGFuY2V9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICA8U3RhcnMgLz5cbiAgICAgIDxBZGFwdGl2ZURwciBwaXhlbGF0ZWQgLz5cblxuICAgICAgPFBsYW5ldCBuYW1lPVwiRWFydGhcIiB0ZXh0dXJlcz17ZWFydGhUZXh0dXJlc30gLz5cbiAgICAgIDxQbGFuZXQgbmFtZT1cIk1hcnNcIiB0ZXh0dXJlcz17bWFyc1RleHR1cmVzfSAvPlxuICAgICAgPFBsYW5ldCBuYW1lPVwiVmVudXNcIiB0ZXh0dXJlcz17dmVudXNUZXh0dXJlc30gLz5cbiAgICAgIDxQbGFuZXQgbmFtZT1cIk1lcmN1cnlcIiB0ZXh0dXJlcz17bWVyY3VyeVRleHR1cmVzfSAvPlxuICAgICAgPFBsYW5ldCBuYW1lPVwiSnVwaXRlclwiIHRleHR1cmVzPXtqdXBpdGVyVGV4dHVyZXN9IC8+XG4gICAgICA8UGxhbmV0IG5hbWU9XCJTYXR1cm5cIiB0ZXh0dXJlcz17c2F0dXJuVGV4dHVyZXN9IC8+XG4gICAgICA8UGxhbmV0IG5hbWU9XCJVcmFudXNcIiB0ZXh0dXJlcz17dXJhbnVzVGV4dHVyZXN9IC8+XG4gICAgICA8UGxhbmV0IG5hbWU9XCJOZXB0dW5lXCIgdGV4dHVyZXM9e25lcHR1bmVUZXh0dXJlc30gLz5cblxuICAgICAgey8qIFJlbmRlciBtb29ucyAqL31cbiAgICAgIHsvKiB7T2JqZWN0LmVudHJpZXMobW9vbnNEYXRhKS5tYXAoKFtwbGFuZXROYW1lXSkgPT4gcmVuZGVyTW9vbnMocGxhbmV0TmFtZSkpfSAqL31cblxuICAgICAgey8qIDxQbGFuZXQgYm9keURhdGE9e3BsYW5ldHNEYXRhLlBsdXRvfSAvPiAqL31cbiAgICAgIDxTdW4ga2V5PXtcIlN1bi1wbGFpblwifSB0ZXh0dXJlcz17c3VuVGV4dHVyZXN9IHBvc2l0aW9uPXtzdW5TZXR0aW5ncy5wb3NpdGlvbn0gcmVzZXRDYW1lcmE9e3Jlc2V0Q2FtZXJhfSAvPlxuICAgIDwvPlxuICApO1xufTtcblxuLy8gZnVuY3Rpb24gQ29udHJvbGxlZENhbWVyYSh7IHNlbGVjdGVkUGxhbmV0LCBwbGFuZXRQb3NpdGlvbnMsIHBsYW5ldHNEYXRhLCBzaXplU2NhbGVGYWN0b3IgfSkge1xuLy8gICBjb25zdCBvcmJpdFJlZiA9IHVzZVJlZigpO1xuLy8gICBjb25zdCB7IGNhbWVyYSwgZ2wgfSA9IHVzZVRocmVlKCk7XG5cbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcbi8vICAgICBpZiAoc2VsZWN0ZWRQbGFuZXQgJiYgb3JiaXRSZWYuY3VycmVudCkge1xuLy8gICAgICAgY29uc3QgcG9zaXRpb24gPSBwbGFuZXRQb3NpdGlvbnNbc2VsZWN0ZWRQbGFuZXQubmFtZV07XG4vLyAgICAgICBjb25zdCBkYXRhID0gcGxhbmV0c0RhdGFbc2VsZWN0ZWRQbGFuZXQubmFtZV07XG4vLyAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRhdGEucmFkaXVzICogc2l6ZVNjYWxlRmFjdG9yICogNC4yOyAvLyBvciBhbnkgb3RoZXIgbG9naWMgdG8gZGV0ZXJtaW5lIHRoZSBkaXN0YW5jZVxuXG4vLyAgICAgICBvcmJpdFJlZi5jdXJyZW50LnRhcmdldC5zZXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueik7XG4vLyAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KHBvc2l0aW9uLnggKyBkaXN0YW5jZSwgcG9zaXRpb24ueSArIGRpc3RhbmNlLCBwb3NpdGlvbi56ICsgZGlzdGFuY2UpO1xuLy8gICAgICAgb3JiaXRSZWYuY3VycmVudC51cGRhdGUoKTtcbi8vICAgICB9XG4vLyAgIH0sIFtzZWxlY3RlZFBsYW5ldCwgcGxhbmV0UG9zaXRpb25zLCBwbGFuZXRzRGF0YSwgc2l6ZVNjYWxlRmFjdG9yLCBjYW1lcmFdKTtcblxuLy8gICByZXR1cm4gPE9yYml0Q29udHJvbHMgbWFrZURlZmF1bHQgcmVmPXtvcmJpdFJlZn0gYXJncz17W2NhbWVyYSwgZ2wuZG9tRWxlbWVudF19IC8+O1xuLy8gfVxuXG5leHBvcnQgZGVmYXVsdCBTY2VuZVRocmVlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJBZGFwdGl2ZURwciIsIkNhbWVyYUNvbnRyb2xzIiwidXNlVGV4dHVyZSIsInVzZVN0b3JlIiwidXNlQ2FtZXJhU3RvcmUiLCJ1c2VQbGFuZXRTdG9yZSIsInNpemVTY2FsZUZhY3RvciIsIm1vb25zRGF0YSIsIm1vb25TaXplU2NhbGVGYWN0b3IiLCJTdW4iLCJQbGFuZXQiLCJTdGFycyIsInVzZUZyYW1lIiwiUmVwZWF0V3JhcHBpbmciLCJDbGFtcFRvRWRnZVdyYXBwaW5nIiwiU2NlbmVUaHJlZSIsInN1blNldHRpbmdzIiwic2ltU3BlZWQiLCJzZXRTaW1TcGVlZCIsInNldFByZXZTcGVlZCIsInBsYW5ldFBvc2l0aW9ucyIsInNlbGVjdGVkUGxhbmV0Iiwic2V0U2VsZWN0ZWRQbGFuZXQiLCJtb29uUG9zaXRpb25zIiwic2VsZWN0ZWRNb29uIiwic2V0U2VsZWN0ZWRNb29uIiwicGxhbmV0c0RhdGEiLCJzYXRlbGxpdGVDYW1lcmEiLCJ0cmlnZ2VyUmVzZXQiLCJzZXRUcmlnZ2VyUmVzZXQiLCJpc0NhbWVyYVRyYW5zaXRpb25pbmciLCJ0b2dnbGVDYW1lcmFUcmFuc2l0aW9uaW5nIiwiY2FtZXJhQ29udHJvbHNSZWYiLCJtaW5EaXN0YW5jZSIsInNldE1pbkRpc3RhbmNlIiwibW9vbnNQYXJlbnQiLCJzZXRNb29uc1BhcmVudCIsImNhbGN1bGF0ZU9wdGltYWxEaXN0YW5jZSIsInBsYW5ldFJhZGl1cyIsImJhc2VEaXN0YW5jZSIsInJlc2V0Q2FtZXJhIiwiY3VycmVudCIsInNldFRhcmdldCIsInBvc2l0aW9uIiwieCIsInkiLCJ6IiwiaXNvbWV0cmljUG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsInBsYW5ldFBvc2l0aW9uIiwibmFtZSIsInNjYWxlZFJhZGl1cyIsInJhZGl1cyIsIm9wdGltYWxEaXN0YW5jZSIsImRvbGx5VG8iLCJnZXRNb29uRGF0YSIsInBsYW5ldE5hbWUiLCJtb29uTmFtZSIsIm1vb25zIiwibW9vbiIsImZpbmQiLCJtIiwibW9vblBvc2l0aW9uIiwibW9vbkluZm8iLCJjYW1lcmEiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiZWFydGhUZXh0dXJlcyIsIm1hcCIsImNsb3VkcyIsInN1blRleHR1cmVzIiwidmVudXNUZXh0dXJlcyIsIm1lcmN1cnlUZXh0dXJlcyIsIm1hcnNUZXh0dXJlcyIsImp1cGl0ZXJUZXh0dXJlcyIsInNhdHVyblRleHR1cmVzIiwicmluZ1RleHR1cmUiLCJ1cmFudXNUZXh0dXJlcyIsIm5lcHR1bmVUZXh0dXJlcyIsImNhbWVyYUNvbmZpZyIsIm1heERpc3RhbmNlIiwic21vb3RoVGltZSIsInBvbGFyUm90YXRlU3BlZWQiLCJhemltdXRoUm90YXRlU3BlZWQiLCJlbmFibGVEYW1waW5nIiwibmVhciIsImZhciIsInJlZiIsIm1ha2VEZWZhdWx0IiwicGl4ZWxhdGVkIiwidGV4dHVyZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/main/SceneThree.jsx\n"));

/***/ })

});