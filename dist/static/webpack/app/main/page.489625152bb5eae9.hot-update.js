"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/main/page",{

/***/ "(app-pages-browser)/./src/components/UI/PlanetSelector.jsx":
/*!**********************************************!*\
  !*** ./src/components/UI/PlanetSelector.jsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_Dropdown_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styles/Dropdown.css */ \"(app-pages-browser)/./src/styles/Dropdown.css\");\n\nvar _s = $RefreshSig$();\n\n\nconst MenuItem = (param)=>{\n    let { label, isActive, hasSubmenu, onSelect, children, showSubmenu, onMouseEnter, onMouseLeave, isSubmenuItem = false, isHighlighted = false, onKeyDown, tabIndex, isFocused = false, \"aria-expanded\": ariaExpanded } = param;\n    const handleItemMouseLeave = (e)=>{\n        // If this is a submenu item, don't trigger the regular mouseleave\n        if (isSubmenuItem) {\n            e.stopPropagation();\n            return;\n        }\n        onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(e);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"planet-selector-item \\n                       \".concat(isActive ? \"active\" : \"\", \" \\n                       \").concat(isSubmenuItem ? \"submenu-item\" : \"\", \" \\n                       \").concat(isHighlighted ? \"highlight\" : \"\", \"\\n                       \").concat(isFocused ? \"hover\" : \"\"),\n        onClick: onSelect,\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: handleItemMouseLeave,\n        onKeyDown: onKeyDown,\n        role: \"menuitem\",\n        tabIndex: tabIndex,\n        \"aria-haspopup\": hasSubmenu,\n        \"aria-expanded\": hasSubmenu ? ariaExpanded : undefined,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, undefined),\n            hasSubmenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"planet-selector-item-chevron\",\n                children: \"➤\"\n            }, void 0, false, {\n                fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                lineNumber: 46,\n                columnNumber: 22\n            }, undefined),\n            hasSubmenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"planet-selector-submenu \".concat(showSubmenu ? \"visible\" : \"\"),\n                role: \"menu\",\n                \"aria-label\": \"\".concat(label, \" submenu\"),\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                lineNumber: 48,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, undefined);\n};\n_c = MenuItem;\nconst PlanetSelector = (param)=>{\n    let { planetsData, moonsData, activeCamera, onPlanetSelect, onMoonSelect, onAsteroidBeltSelect, onSolarSystemSelect } = param;\n    _s();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeSubmenu, setActiveSubmenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [focusedIndex, setFocusedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [focusedSubmenuIndex, setFocusedSubmenuIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const menuItems = [\n        {\n            label: \"Solar System\",\n            onSelect: ()=>{\n                onSolarSystemSelect();\n                setIsOpen(false);\n                setActiveSubmenu(null);\n            }\n        },\n        ...Object.keys(planetsData).map((planetName)=>{\n            var _moonsData_planetName, _moonsData_planetName1;\n            return {\n                label: planetName,\n                onSelect: ()=>handlePlanetClick(planetName),\n                hasSubmenu: ((_moonsData_planetName = moonsData[planetName]) === null || _moonsData_planetName === void 0 ? void 0 : _moonsData_planetName.length) > 0,\n                submenuItems: (_moonsData_planetName1 = moonsData[planetName]) === null || _moonsData_planetName1 === void 0 ? void 0 : _moonsData_planetName1.map((moon)=>({\n                        label: moon.name,\n                        onSelect: (e)=>handleMoonClick(planetName, moon.name, e)\n                    }))\n            };\n        }),\n        {\n            label: \"Asteroid Belt\",\n            onSelect: ()=>{\n                onAsteroidBeltSelect();\n                setIsOpen(false);\n                setActiveSubmenu(null);\n            }\n        }\n    ];\n    // Modified to only find parent planet without setting submenu\n    const findParentPlanet = ()=>{\n        if (!activeCamera || activeCamera.type !== \"moon\") return null;\n        for (const [planetName, moons] of Object.entries(moonsData)){\n            if (moons.some((moon)=>moon.name === activeCamera.name)) {\n                return planetName;\n            }\n        }\n        return null;\n    };\n    // Find the index of the active item in the menu\n    const findActiveItemIndex = ()=>{\n        if (activeCamera.type === \"orbit\" && activeCamera.name === \"default\") return 0;\n        if (activeCamera.type === \"asteroid\" && activeCamera.name === \"Asteroid Belt\") return menuItems.length - 1;\n        const planetIndex = Object.keys(planetsData).findIndex((planetName)=>planetName === activeCamera.name);\n        if (planetIndex !== -1) return planetIndex + 1;\n        return -1;\n    };\n    const parentPlanet = findParentPlanet();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            if (activeCamera.type === \"moon\") {\n                // If a moon is selected, find its parent planet and open that submenu\n                const parentPlanet = findParentPlanet();\n                if (parentPlanet) {\n                    var _moonsData_parentPlanet;\n                    setActiveSubmenu(parentPlanet);\n                    const planetIndex = Object.keys(planetsData).findIndex((name)=>name === parentPlanet) + 1; // Add 1 for Solar System offset\n                    setFocusedIndex(planetIndex);\n                    // Find and set the moon's index in the submenu\n                    const moonIndex = (_moonsData_parentPlanet = moonsData[parentPlanet]) === null || _moonsData_parentPlanet === void 0 ? void 0 : _moonsData_parentPlanet.findIndex((moon)=>moon.name === activeCamera.name);\n                    if (moonIndex !== -1) {\n                        setFocusedSubmenuIndex(moonIndex);\n                    }\n                }\n            } else {\n                // Find the correct index based on the active camera\n                const activeIndex = findActiveItemIndex();\n                if (activeIndex >= 0) {\n                    setFocusedIndex(activeIndex);\n                }\n                setFocusedSubmenuIndex(-1);\n                setActiveSubmenu(null);\n            }\n        } else {\n            setFocusedIndex(-1);\n            setFocusedSubmenuIndex(-1);\n            setActiveSubmenu(null);\n        }\n    }, [\n        isOpen,\n        activeCamera,\n        planetsData,\n        moonsData\n    ]);\n    const handleKeyDown = (event)=>{\n        if (!isOpen && event.key === \"Enter\") {\n            setIsOpen(true);\n            return;\n        }\n        if (!isOpen) return;\n        switch(event.key){\n            case \"ArrowDown\":\n                event.preventDefault();\n                if (activeSubmenu && focusedSubmenuIndex >= 0) {\n                    const submenuItems = moonsData[activeSubmenu] || [];\n                    setFocusedSubmenuIndex((prev)=>prev < submenuItems.length - 1 ? prev + 1 : prev);\n                } else {\n                    setFocusedIndex((prev)=>prev < menuItems.length - 1 ? prev + 1 : prev);\n                }\n                break;\n            case \"ArrowUp\":\n                event.preventDefault();\n                if (activeSubmenu && focusedSubmenuIndex >= 0) {\n                    setFocusedSubmenuIndex((prev)=>prev > 0 ? prev - 1 : prev);\n                } else {\n                    setFocusedIndex((prev)=>prev > 0 ? prev - 1 : prev);\n                }\n                break;\n            case \"ArrowRight\":\n                event.preventDefault();\n                const currentItem = menuItems[focusedIndex];\n                if (currentItem === null || currentItem === void 0 ? void 0 : currentItem.hasSubmenu) {\n                    setActiveSubmenu(currentItem.label);\n                    setFocusedSubmenuIndex(0);\n                }\n                break;\n            case \"ArrowLeft\":\n                event.preventDefault();\n                if (activeSubmenu) {\n                    setActiveSubmenu(null);\n                    setFocusedSubmenuIndex(-1);\n                }\n                break;\n            case \"Enter\":\n            case \" \":\n                event.preventDefault();\n                if (activeSubmenu && focusedSubmenuIndex >= 0) {\n                    const submenuItems = moonsData[activeSubmenu] || [];\n                    const selectedMoon = submenuItems[focusedSubmenuIndex];\n                    if (selectedMoon) {\n                        handleMoonClick(activeSubmenu, selectedMoon.name, event);\n                    }\n                } else {\n                    const selectedItem = menuItems[focusedIndex];\n                    if (selectedItem) {\n                        selectedItem.onSelect(event);\n                    }\n                }\n                break;\n            case \"Escape\":\n                event.preventDefault();\n                if (activeSubmenu) {\n                    setActiveSubmenu(null);\n                    setFocusedSubmenuIndex(-1);\n                } else {\n                    setIsOpen(false);\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    const handlePlanetClick = (planetName)=>{\n        onPlanetSelect(planetName);\n        setIsOpen(false);\n        setActiveSubmenu(null);\n    };\n    const handleMoonClick = (planetName, moonName, event)=>{\n        event.stopPropagation();\n        onMoonSelect(planetName, moonName);\n        setIsOpen(false);\n        setActiveSubmenu(null);\n    };\n    const handleSubmenuItemHover = (moonIndex)=>{\n        setFocusedSubmenuIndex(moonIndex);\n    };\n    const handleMouseLeave = (event)=>{\n        var _dropdownRef_current, _dropdownRef_current1;\n        // Only remove active submenu if we're leaving the menu entirely\n        const menuElement = (_dropdownRef_current = dropdownRef.current) === null || _dropdownRef_current === void 0 ? void 0 : _dropdownRef_current.querySelector(\".planet-selector-menu\");\n        const submenuElement = (_dropdownRef_current1 = dropdownRef.current) === null || _dropdownRef_current1 === void 0 ? void 0 : _dropdownRef_current1.querySelector(\".planet-selector-submenu.visible\");\n        if (menuElement) {\n            const menuRect = menuElement.getBoundingClientRect();\n            const mouseX = event.clientX;\n            const mouseY = event.clientY;\n            // If still within menu bounds, don't close submenu\n            if (mouseX >= menuRect.left && mouseX <= menuRect.right && mouseY >= menuRect.top && mouseY <= menuRect.bottom) {\n                // If there's a visible submenu, check if we're within its bounds\n                if (submenuElement) {\n                    const submenuRect = submenuElement.getBoundingClientRect();\n                    if (mouseX >= submenuRect.left && mouseX <= submenuRect.right && mouseY >= submenuRect.top && mouseY <= submenuRect.bottom) {\n                        return;\n                    }\n                }\n                return;\n            }\n        }\n        setActiveSubmenu(null);\n    };\n    const handleItemHover = function(index) {\n        let planetName = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n        var _moonsData_planetName;\n        setFocusedIndex(index);\n        if (planetName && ((_moonsData_planetName = moonsData[planetName]) === null || _moonsData_planetName === void 0 ? void 0 : _moonsData_planetName.length) > 0) {\n            setActiveSubmenu(planetName);\n            setFocusedSubmenuIndex(-1);\n        }\n    };\n    const getActiveLabel = ()=>{\n        if (activeCamera.type === \"orbit\" && activeCamera.name === \"default\") return \"Solar System\";\n        if (activeCamera.type === \"asteroid\") return \"Asteroid Belt\";\n        return activeCamera.name;\n    };\n    // Close dropdown if clicked outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function handleClickOutside(event) {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setIsOpen(false);\n            }\n        }\n        // Attach the event listener\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            // Clean up the event listener\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        dropdownRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: dropdownRef,\n        className: \"planet-selector\",\n        onKeyDown: handleKeyDown,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"planet-selector-button\",\n                onClick: ()=>setIsOpen(!isOpen),\n                \"aria-haspopup\": \"true\",\n                \"aria-expanded\": isOpen,\n                children: getActiveLabel()\n            }, void 0, false, {\n                fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                lineNumber: 304,\n                columnNumber: 7\n            }, undefined),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"planet-selector-menu\",\n                role: \"menu\",\n                \"aria-label\": \"Planet selection menu\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                        label: \"Solar System\",\n                        isActive: activeCamera.name === \"default\",\n                        onSelect: menuItems[0].onSelect,\n                        onMouseEnter: ()=>handleItemHover(0),\n                        onMouseLeave: handleMouseLeave,\n                        tabIndex: focusedIndex === 0 ? 0 : -1,\n                        isFocused: focusedIndex === 0\n                    }, void 0, false, {\n                        fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                        lineNumber: 310,\n                        columnNumber: 11\n                    }, undefined),\n                    Object.keys(planetsData).map((planetName, index)=>{\n                        var _moonsData_planetName, _moonsData_planetName1;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                            label: planetName,\n                            isActive: activeCamera.name === planetName,\n                            isHighlighted: planetName === parentPlanet,\n                            hasSubmenu: ((_moonsData_planetName = moonsData[planetName]) === null || _moonsData_planetName === void 0 ? void 0 : _moonsData_planetName.length) > 0,\n                            onSelect: ()=>handlePlanetClick(planetName),\n                            onMouseEnter: ()=>handleItemHover(index + 1, planetName),\n                            onMouseLeave: handleMouseLeave,\n                            showSubmenu: activeSubmenu === planetName,\n                            tabIndex: focusedIndex === index + 1 ? 0 : -1,\n                            isFocused: focusedIndex === index + 1,\n                            \"aria-expanded\": activeSubmenu === planetName,\n                            children: (_moonsData_planetName1 = moonsData[planetName]) === null || _moonsData_planetName1 === void 0 ? void 0 : _moonsData_planetName1.map((moon, moonIndex)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: moon.name,\n                                    isActive: activeCamera.type === \"moon\" && moon.name === activeCamera.name,\n                                    isSubmenuItem: true,\n                                    onSelect: (e)=>handleMoonClick(planetName, moon.name, e),\n                                    onMouseEnter: ()=>handleSubmenuItemHover(moonIndex),\n                                    onMouseLeave: handleMouseLeave,\n                                    tabIndex: activeSubmenu === planetName && focusedSubmenuIndex === moonIndex ? 0 : -1,\n                                    isFocused: activeSubmenu === planetName && focusedSubmenuIndex === moonIndex\n                                }, moon.name, false, {\n                                    fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                                    lineNumber: 336,\n                                    columnNumber: 17\n                                }, undefined))\n                        }, planetName, false, {\n                            fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                            lineNumber: 321,\n                            columnNumber: 13\n                        }, undefined);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                        label: \"Asteroid Belt\",\n                        isActive: activeCamera.name === \"Asteroid Belt\",\n                        onSelect: menuItems[menuItems.length - 1].onSelect,\n                        onMouseEnter: ()=>handleItemHover(menuItems.length - 1),\n                        onMouseLeave: handleMouseLeave,\n                        tabIndex: focusedIndex === menuItems.length - 1 ? 0 : -1,\n                        isFocused: focusedIndex === menuItems.length - 1\n                    }, void 0, false, {\n                        fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                        lineNumber: 351,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n                lineNumber: 309,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/michaeltakeuchi/solar-system-interactive/src/components/UI/PlanetSelector.jsx\",\n        lineNumber: 303,\n        columnNumber: 5\n    }, undefined);\n};\n_s(PlanetSelector, \"DGzwVsy2GVcbpFto+ltwsdC0nxM=\");\n_c1 = PlanetSelector;\n/* harmony default export */ __webpack_exports__[\"default\"] = (PlanetSelector);\nvar _c, _c1;\n$RefreshReg$(_c, \"MenuItem\");\n$RefreshReg$(_c1, \"PlanetSelector\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1VJL1BsYW5ldFNlbGVjdG9yLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ3hCO0FBRW5DLE1BQU1JLFdBQVc7UUFBQyxFQUNoQkMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLFVBQVUsRUFDVkMsUUFBUSxFQUNSQyxRQUFRLEVBQ1JDLFdBQVcsRUFDWEMsWUFBWSxFQUNaQyxZQUFZLEVBQ1pDLGdCQUFnQixLQUFLLEVBQ3JCQyxnQkFBZ0IsS0FBSyxFQUNyQkMsU0FBUyxFQUNUQyxRQUFRLEVBQ1JDLFlBQVksS0FBSyxFQUNqQixpQkFBaUJDLFlBQVksRUFDOUI7SUFDQyxNQUFNQyx1QkFBdUJDLENBQUFBO1FBQzNCLGtFQUFrRTtRQUNsRSxJQUFJUCxlQUFlO1lBQ2pCTyxFQUFFQyxlQUFlO1lBQ2pCO1FBQ0Y7UUFDQVQseUJBQUFBLG1DQUFBQSxhQUFlUTtJQUNqQjtJQUVBLHFCQUNFLDhEQUFDRTtRQUNDQyxXQUFXLGlEQUVRVixPQURBUCxXQUFXLFdBQVcsSUFBRyw4QkFFekJRLE9BREFELGdCQUFnQixpQkFBaUIsSUFBRyw4QkFFcENJLE9BREFILGdCQUFnQixjQUFjLElBQUcsNkJBQ1IsT0FBekJHLFlBQVksVUFBVTtRQUN6Q08sU0FBU2hCO1FBQ1RHLGNBQWNBO1FBQ2RDLGNBQWNPO1FBQ2RKLFdBQVdBO1FBQ1hVLE1BQUs7UUFDTFQsVUFBVUE7UUFDVlUsaUJBQWVuQjtRQUNmb0IsaUJBQWVwQixhQUFhVyxlQUFlVTs7MEJBRTNDLDhEQUFDQzswQkFBTXhCOzs7Ozs7WUFDTkUsNEJBQWMsOERBQUNzQjtnQkFBS04sV0FBVTswQkFBK0I7Ozs7OztZQUM3RGhCLDRCQUNDLDhEQUFDZTtnQkFBSUMsV0FBVywyQkFBd0QsT0FBN0JiLGNBQWMsWUFBWTtnQkFBTWUsTUFBSztnQkFBT0ssY0FBWSxHQUFTLE9BQU56QixPQUFNOzBCQUN6R0k7Ozs7Ozs7Ozs7OztBQUtYO0tBbERNTDtB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RCxXQUFXd0Isa0JBQWtCVyxjQUFjUCx3QkFBd0J1QjttQ0FSOURaLEtBQUtDLElBQUk7Ozs7OzJCQWZiTDs7Ozs7O2tDQTZCVCw4REFBQ2hEO3dCQUNDQyxPQUFNO3dCQUNOQyxVQUFVNEIsYUFBYXVCLElBQUksS0FBSzt3QkFDaENqRCxVQUFVd0MsU0FBUyxDQUFDQSxVQUFVTSxNQUFNLEdBQUcsRUFBRSxDQUFDOUMsUUFBUTt3QkFDbERHLGNBQWMsSUFBTXFGLGdCQUFnQmhELFVBQVVNLE1BQU0sR0FBRzt3QkFDdkQxQyxjQUFjb0U7d0JBQ2RoRSxVQUFVMkIsaUJBQWlCSyxVQUFVTSxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUM7d0JBQ3ZEckMsV0FBVzBCLGlCQUFpQkssVUFBVU0sTUFBTSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNM0Q7R0FwVE12QjtNQUFBQTtBQXNUTiwrREFBZUEsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9VSS9QbGFuZXRTZWxlY3Rvci5qc3g/MDlkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgXCIuLi8uLi9zdHlsZXMvRHJvcGRvd24uY3NzXCI7XG5cbmNvbnN0IE1lbnVJdGVtID0gKHtcbiAgbGFiZWwsXG4gIGlzQWN0aXZlLFxuICBoYXNTdWJtZW51LFxuICBvblNlbGVjdCxcbiAgY2hpbGRyZW4sXG4gIHNob3dTdWJtZW51LFxuICBvbk1vdXNlRW50ZXIsXG4gIG9uTW91c2VMZWF2ZSxcbiAgaXNTdWJtZW51SXRlbSA9IGZhbHNlLFxuICBpc0hpZ2hsaWdodGVkID0gZmFsc2UsXG4gIG9uS2V5RG93bixcbiAgdGFiSW5kZXgsXG4gIGlzRm9jdXNlZCA9IGZhbHNlLFxuICBcImFyaWEtZXhwYW5kZWRcIjogYXJpYUV4cGFuZGVkLFxufSkgPT4ge1xuICBjb25zdCBoYW5kbGVJdGVtTW91c2VMZWF2ZSA9IGUgPT4ge1xuICAgIC8vIElmIHRoaXMgaXMgYSBzdWJtZW51IGl0ZW0sIGRvbid0IHRyaWdnZXIgdGhlIHJlZ3VsYXIgbW91c2VsZWF2ZVxuICAgIGlmIChpc1N1Ym1lbnVJdGVtKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvbk1vdXNlTGVhdmU/LihlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17YHBsYW5ldC1zZWxlY3Rvci1pdGVtIFxuICAgICAgICAgICAgICAgICAgICAgICAke2lzQWN0aXZlID8gXCJhY3RpdmVcIiA6IFwiXCJ9IFxuICAgICAgICAgICAgICAgICAgICAgICAke2lzU3VibWVudUl0ZW0gPyBcInN1Ym1lbnUtaXRlbVwiIDogXCJcIn0gXG4gICAgICAgICAgICAgICAgICAgICAgICR7aXNIaWdobGlnaHRlZCA/IFwiaGlnaGxpZ2h0XCIgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAke2lzRm9jdXNlZCA/IFwiaG92ZXJcIiA6IFwiXCJ9YH1cbiAgICAgIG9uQ2xpY2s9e29uU2VsZWN0fVxuICAgICAgb25Nb3VzZUVudGVyPXtvbk1vdXNlRW50ZXJ9XG4gICAgICBvbk1vdXNlTGVhdmU9e2hhbmRsZUl0ZW1Nb3VzZUxlYXZlfVxuICAgICAgb25LZXlEb3duPXtvbktleURvd259XG4gICAgICByb2xlPSdtZW51aXRlbSdcbiAgICAgIHRhYkluZGV4PXt0YWJJbmRleH1cbiAgICAgIGFyaWEtaGFzcG9wdXA9e2hhc1N1Ym1lbnV9XG4gICAgICBhcmlhLWV4cGFuZGVkPXtoYXNTdWJtZW51ID8gYXJpYUV4cGFuZGVkIDogdW5kZWZpbmVkfVxuICAgID5cbiAgICAgIDxzcGFuPntsYWJlbH08L3NwYW4+XG4gICAgICB7aGFzU3VibWVudSAmJiA8c3BhbiBjbGFzc05hbWU9J3BsYW5ldC1zZWxlY3Rvci1pdGVtLWNoZXZyb24nPuKepDwvc3Bhbj59XG4gICAgICB7aGFzU3VibWVudSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcGxhbmV0LXNlbGVjdG9yLXN1Ym1lbnUgJHtzaG93U3VibWVudSA/IFwidmlzaWJsZVwiIDogXCJcIn1gfSByb2xlPSdtZW51JyBhcmlhLWxhYmVsPXtgJHtsYWJlbH0gc3VibWVudWB9PlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuY29uc3QgUGxhbmV0U2VsZWN0b3IgPSAoe1xuICBwbGFuZXRzRGF0YSxcbiAgbW9vbnNEYXRhLFxuICBhY3RpdmVDYW1lcmEsXG4gIG9uUGxhbmV0U2VsZWN0LFxuICBvbk1vb25TZWxlY3QsXG4gIG9uQXN0ZXJvaWRCZWx0U2VsZWN0LFxuICBvblNvbGFyU3lzdGVtU2VsZWN0LFxufSkgPT4ge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWN0aXZlU3VibWVudSwgc2V0QWN0aXZlU3VibWVudV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2ZvY3VzZWRJbmRleCwgc2V0Rm9jdXNlZEluZGV4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2ZvY3VzZWRTdWJtZW51SW5kZXgsIHNldEZvY3VzZWRTdWJtZW51SW5kZXhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBkcm9wZG93blJlZiA9IHVzZVJlZihudWxsKTtcblxuICBjb25zdCBtZW51SXRlbXMgPSBbXG4gICAge1xuICAgICAgbGFiZWw6IFwiU29sYXIgU3lzdGVtXCIsXG4gICAgICBvblNlbGVjdDogKCkgPT4ge1xuICAgICAgICBvblNvbGFyU3lzdGVtU2VsZWN0KCk7XG4gICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgIHNldEFjdGl2ZVN1Ym1lbnUobnVsbCk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgLi4uT2JqZWN0LmtleXMocGxhbmV0c0RhdGEpLm1hcChwbGFuZXROYW1lID0+ICh7XG4gICAgICBsYWJlbDogcGxhbmV0TmFtZSxcbiAgICAgIG9uU2VsZWN0OiAoKSA9PiBoYW5kbGVQbGFuZXRDbGljayhwbGFuZXROYW1lKSxcbiAgICAgIGhhc1N1Ym1lbnU6IG1vb25zRGF0YVtwbGFuZXROYW1lXT8ubGVuZ3RoID4gMCxcbiAgICAgIHN1Ym1lbnVJdGVtczogbW9vbnNEYXRhW3BsYW5ldE5hbWVdPy5tYXAobW9vbiA9PiAoe1xuICAgICAgICBsYWJlbDogbW9vbi5uYW1lLFxuICAgICAgICBvblNlbGVjdDogZSA9PiBoYW5kbGVNb29uQ2xpY2socGxhbmV0TmFtZSwgbW9vbi5uYW1lLCBlKSxcbiAgICAgIH0pKSxcbiAgICB9KSksXG4gICAge1xuICAgICAgbGFiZWw6IFwiQXN0ZXJvaWQgQmVsdFwiLFxuICAgICAgb25TZWxlY3Q6ICgpID0+IHtcbiAgICAgICAgb25Bc3Rlcm9pZEJlbHRTZWxlY3QoKTtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgICAgc2V0QWN0aXZlU3VibWVudShudWxsKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcblxuICAvLyBNb2RpZmllZCB0byBvbmx5IGZpbmQgcGFyZW50IHBsYW5ldCB3aXRob3V0IHNldHRpbmcgc3VibWVudVxuICBjb25zdCBmaW5kUGFyZW50UGxhbmV0ID0gKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2FtZXJhIHx8IGFjdGl2ZUNhbWVyYS50eXBlICE9PSBcIm1vb25cIikgcmV0dXJuIG51bGw7XG5cbiAgICBmb3IgKGNvbnN0IFtwbGFuZXROYW1lLCBtb29uc10gb2YgT2JqZWN0LmVudHJpZXMobW9vbnNEYXRhKSkge1xuICAgICAgaWYgKG1vb25zLnNvbWUobW9vbiA9PiBtb29uLm5hbWUgPT09IGFjdGl2ZUNhbWVyYS5uYW1lKSkge1xuICAgICAgICByZXR1cm4gcGxhbmV0TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGFjdGl2ZSBpdGVtIGluIHRoZSBtZW51XG4gIGNvbnN0IGZpbmRBY3RpdmVJdGVtSW5kZXggPSAoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUNhbWVyYS50eXBlID09PSBcIm9yYml0XCIgJiYgYWN0aXZlQ2FtZXJhLm5hbWUgPT09IFwiZGVmYXVsdFwiKSByZXR1cm4gMDtcbiAgICBpZiAoYWN0aXZlQ2FtZXJhLnR5cGUgPT09IFwiYXN0ZXJvaWRcIiAmJiBhY3RpdmVDYW1lcmEubmFtZSA9PT0gXCJBc3Rlcm9pZCBCZWx0XCIpIHJldHVybiBtZW51SXRlbXMubGVuZ3RoIC0gMTtcblxuICAgIGNvbnN0IHBsYW5ldEluZGV4ID0gT2JqZWN0LmtleXMocGxhbmV0c0RhdGEpLmZpbmRJbmRleChwbGFuZXROYW1lID0+IHBsYW5ldE5hbWUgPT09IGFjdGl2ZUNhbWVyYS5uYW1lKTtcbiAgICBpZiAocGxhbmV0SW5kZXggIT09IC0xKSByZXR1cm4gcGxhbmV0SW5kZXggKyAxO1xuXG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIGNvbnN0IHBhcmVudFBsYW5ldCA9IGZpbmRQYXJlbnRQbGFuZXQoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIGlmIChhY3RpdmVDYW1lcmEudHlwZSA9PT0gXCJtb29uXCIpIHtcbiAgICAgICAgLy8gSWYgYSBtb29uIGlzIHNlbGVjdGVkLCBmaW5kIGl0cyBwYXJlbnQgcGxhbmV0IGFuZCBvcGVuIHRoYXQgc3VibWVudVxuICAgICAgICBjb25zdCBwYXJlbnRQbGFuZXQgPSBmaW5kUGFyZW50UGxhbmV0KCk7XG4gICAgICAgIGlmIChwYXJlbnRQbGFuZXQpIHtcbiAgICAgICAgICBzZXRBY3RpdmVTdWJtZW51KHBhcmVudFBsYW5ldCk7XG4gICAgICAgICAgY29uc3QgcGxhbmV0SW5kZXggPSBPYmplY3Qua2V5cyhwbGFuZXRzRGF0YSkuZmluZEluZGV4KG5hbWUgPT4gbmFtZSA9PT0gcGFyZW50UGxhbmV0KSArIDE7IC8vIEFkZCAxIGZvciBTb2xhciBTeXN0ZW0gb2Zmc2V0XG4gICAgICAgICAgc2V0Rm9jdXNlZEluZGV4KHBsYW5ldEluZGV4KTtcbiAgICAgICAgICAvLyBGaW5kIGFuZCBzZXQgdGhlIG1vb24ncyBpbmRleCBpbiB0aGUgc3VibWVudVxuICAgICAgICAgIGNvbnN0IG1vb25JbmRleCA9IG1vb25zRGF0YVtwYXJlbnRQbGFuZXRdPy5maW5kSW5kZXgobW9vbiA9PiBtb29uLm5hbWUgPT09IGFjdGl2ZUNhbWVyYS5uYW1lKTtcbiAgICAgICAgICBpZiAobW9vbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgc2V0Rm9jdXNlZFN1Ym1lbnVJbmRleChtb29uSW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmluZCB0aGUgY29ycmVjdCBpbmRleCBiYXNlZCBvbiB0aGUgYWN0aXZlIGNhbWVyYVxuICAgICAgICBjb25zdCBhY3RpdmVJbmRleCA9IGZpbmRBY3RpdmVJdGVtSW5kZXgoKTtcbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ID49IDApIHtcbiAgICAgICAgICBzZXRGb2N1c2VkSW5kZXgoYWN0aXZlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHNldEZvY3VzZWRTdWJtZW51SW5kZXgoLTEpO1xuICAgICAgICBzZXRBY3RpdmVTdWJtZW51KG51bGwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRGb2N1c2VkSW5kZXgoLTEpO1xuICAgICAgc2V0Rm9jdXNlZFN1Ym1lbnVJbmRleCgtMSk7XG4gICAgICBzZXRBY3RpdmVTdWJtZW51KG51bGwpO1xuICAgIH1cbiAgfSwgW2lzT3BlbiwgYWN0aXZlQ2FtZXJhLCBwbGFuZXRzRGF0YSwgbW9vbnNEYXRhXSk7XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IGV2ZW50ID0+IHtcbiAgICBpZiAoIWlzT3BlbiAmJiBldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgc2V0SXNPcGVuKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXNPcGVuKSByZXR1cm47XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoYWN0aXZlU3VibWVudSAmJiBmb2N1c2VkU3VibWVudUluZGV4ID49IDApIHtcbiAgICAgICAgICBjb25zdCBzdWJtZW51SXRlbXMgPSBtb29uc0RhdGFbYWN0aXZlU3VibWVudV0gfHwgW107XG4gICAgICAgICAgc2V0Rm9jdXNlZFN1Ym1lbnVJbmRleChwcmV2ID0+IChwcmV2IDwgc3VibWVudUl0ZW1zLmxlbmd0aCAtIDEgPyBwcmV2ICsgMSA6IHByZXYpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRGb2N1c2VkSW5kZXgocHJldiA9PiAocHJldiA8IG1lbnVJdGVtcy5sZW5ndGggLSAxID8gcHJldiArIDEgOiBwcmV2KSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChhY3RpdmVTdWJtZW51ICYmIGZvY3VzZWRTdWJtZW51SW5kZXggPj0gMCkge1xuICAgICAgICAgIHNldEZvY3VzZWRTdWJtZW51SW5kZXgocHJldiA9PiAocHJldiA+IDAgPyBwcmV2IC0gMSA6IHByZXYpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRGb2N1c2VkSW5kZXgocHJldiA9PiAocHJldiA+IDAgPyBwcmV2IC0gMSA6IHByZXYpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBtZW51SXRlbXNbZm9jdXNlZEluZGV4XTtcbiAgICAgICAgaWYgKGN1cnJlbnRJdGVtPy5oYXNTdWJtZW51KSB7XG4gICAgICAgICAgc2V0QWN0aXZlU3VibWVudShjdXJyZW50SXRlbS5sYWJlbCk7XG4gICAgICAgICAgc2V0Rm9jdXNlZFN1Ym1lbnVJbmRleCgwKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoYWN0aXZlU3VibWVudSkge1xuICAgICAgICAgIHNldEFjdGl2ZVN1Ym1lbnUobnVsbCk7XG4gICAgICAgICAgc2V0Rm9jdXNlZFN1Ym1lbnVJbmRleCgtMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGFjdGl2ZVN1Ym1lbnUgJiYgZm9jdXNlZFN1Ym1lbnVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgY29uc3Qgc3VibWVudUl0ZW1zID0gbW9vbnNEYXRhW2FjdGl2ZVN1Ym1lbnVdIHx8IFtdO1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTW9vbiA9IHN1Ym1lbnVJdGVtc1tmb2N1c2VkU3VibWVudUluZGV4XTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRNb29uKSB7XG4gICAgICAgICAgICBoYW5kbGVNb29uQ2xpY2soYWN0aXZlU3VibWVudSwgc2VsZWN0ZWRNb29uLm5hbWUsIGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gbWVudUl0ZW1zW2ZvY3VzZWRJbmRleF07XG4gICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtLm9uU2VsZWN0KGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJFc2NhcGVcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGFjdGl2ZVN1Ym1lbnUpIHtcbiAgICAgICAgICBzZXRBY3RpdmVTdWJtZW51KG51bGwpO1xuICAgICAgICAgIHNldEZvY3VzZWRTdWJtZW51SW5kZXgoLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQbGFuZXRDbGljayA9IHBsYW5ldE5hbWUgPT4ge1xuICAgIG9uUGxhbmV0U2VsZWN0KHBsYW5ldE5hbWUpO1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgc2V0QWN0aXZlU3VibWVudShudWxsKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVNb29uQ2xpY2sgPSAocGxhbmV0TmFtZSwgbW9vbk5hbWUsIGV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgb25Nb29uU2VsZWN0KHBsYW5ldE5hbWUsIG1vb25OYW1lKTtcbiAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgIHNldEFjdGl2ZVN1Ym1lbnUobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWVudUl0ZW1Ib3ZlciA9IG1vb25JbmRleCA9PiB7XG4gICAgc2V0Rm9jdXNlZFN1Ym1lbnVJbmRleChtb29uSW5kZXgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSBldmVudCA9PiB7XG4gICAgLy8gT25seSByZW1vdmUgYWN0aXZlIHN1Ym1lbnUgaWYgd2UncmUgbGVhdmluZyB0aGUgbWVudSBlbnRpcmVseVxuICAgIGNvbnN0IG1lbnVFbGVtZW50ID0gZHJvcGRvd25SZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcihcIi5wbGFuZXQtc2VsZWN0b3ItbWVudVwiKTtcbiAgICBjb25zdCBzdWJtZW51RWxlbWVudCA9IGRyb3Bkb3duUmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIucGxhbmV0LXNlbGVjdG9yLXN1Ym1lbnUudmlzaWJsZVwiKTtcblxuICAgIGlmIChtZW51RWxlbWVudCkge1xuICAgICAgY29uc3QgbWVudVJlY3QgPSBtZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICBjb25zdCBtb3VzZVkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgICAvLyBJZiBzdGlsbCB3aXRoaW4gbWVudSBib3VuZHMsIGRvbid0IGNsb3NlIHN1Ym1lbnVcbiAgICAgIGlmIChtb3VzZVggPj0gbWVudVJlY3QubGVmdCAmJiBtb3VzZVggPD0gbWVudVJlY3QucmlnaHQgJiYgbW91c2VZID49IG1lbnVSZWN0LnRvcCAmJiBtb3VzZVkgPD0gbWVudVJlY3QuYm90dG9tKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSB2aXNpYmxlIHN1Ym1lbnUsIGNoZWNrIGlmIHdlJ3JlIHdpdGhpbiBpdHMgYm91bmRzXG4gICAgICAgIGlmIChzdWJtZW51RWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IHN1Ym1lbnVSZWN0ID0gc3VibWVudUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgaWYgKG1vdXNlWCA+PSBzdWJtZW51UmVjdC5sZWZ0ICYmIG1vdXNlWCA8PSBzdWJtZW51UmVjdC5yaWdodCAmJiBtb3VzZVkgPj0gc3VibWVudVJlY3QudG9wICYmIG1vdXNlWSA8PSBzdWJtZW51UmVjdC5ib3R0b20pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRBY3RpdmVTdWJtZW51KG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUl0ZW1Ib3ZlciA9IChpbmRleCwgcGxhbmV0TmFtZSA9IG51bGwpID0+IHtcbiAgICBzZXRGb2N1c2VkSW5kZXgoaW5kZXgpO1xuICAgIGlmIChwbGFuZXROYW1lICYmIG1vb25zRGF0YVtwbGFuZXROYW1lXT8ubGVuZ3RoID4gMCkge1xuICAgICAgc2V0QWN0aXZlU3VibWVudShwbGFuZXROYW1lKTtcbiAgICAgIHNldEZvY3VzZWRTdWJtZW51SW5kZXgoLTEpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0QWN0aXZlTGFiZWwgPSAoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUNhbWVyYS50eXBlID09PSBcIm9yYml0XCIgJiYgYWN0aXZlQ2FtZXJhLm5hbWUgPT09IFwiZGVmYXVsdFwiKSByZXR1cm4gXCJTb2xhciBTeXN0ZW1cIjtcbiAgICBpZiAoYWN0aXZlQ2FtZXJhLnR5cGUgPT09IFwiYXN0ZXJvaWRcIikgcmV0dXJuIFwiQXN0ZXJvaWQgQmVsdFwiO1xuICAgIHJldHVybiBhY3RpdmVDYW1lcmEubmFtZTtcbiAgfTtcblxuICAvLyBDbG9zZSBkcm9wZG93biBpZiBjbGlja2VkIG91dHNpZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICAgIGlmIChkcm9wZG93blJlZi5jdXJyZW50ICYmICFkcm9wZG93blJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQXR0YWNoIHRoZSBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gQ2xlYW4gdXAgdGhlIGV2ZW50IGxpc3RlbmVyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW2Ryb3Bkb3duUmVmXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17ZHJvcGRvd25SZWZ9IGNsYXNzTmFtZT0ncGxhbmV0LXNlbGVjdG9yJyBvbktleURvd249e2hhbmRsZUtleURvd259PlxuICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3BsYW5ldC1zZWxlY3Rvci1idXR0b24nIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX0gYXJpYS1oYXNwb3B1cD0ndHJ1ZScgYXJpYS1leHBhbmRlZD17aXNPcGVufT5cbiAgICAgICAge2dldEFjdGl2ZUxhYmVsKCl9XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwbGFuZXQtc2VsZWN0b3ItbWVudScgcm9sZT0nbWVudScgYXJpYS1sYWJlbD0nUGxhbmV0IHNlbGVjdGlvbiBtZW51Jz5cbiAgICAgICAgICA8TWVudUl0ZW1cbiAgICAgICAgICAgIGxhYmVsPSdTb2xhciBTeXN0ZW0nXG4gICAgICAgICAgICBpc0FjdGl2ZT17YWN0aXZlQ2FtZXJhLm5hbWUgPT09IFwiZGVmYXVsdFwifVxuICAgICAgICAgICAgb25TZWxlY3Q9e21lbnVJdGVtc1swXS5vblNlbGVjdH1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gaGFuZGxlSXRlbUhvdmVyKDApfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxuICAgICAgICAgICAgdGFiSW5kZXg9e2ZvY3VzZWRJbmRleCA9PT0gMCA/IDAgOiAtMX1cbiAgICAgICAgICAgIGlzRm9jdXNlZD17Zm9jdXNlZEluZGV4ID09PSAwfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7T2JqZWN0LmtleXMocGxhbmV0c0RhdGEpLm1hcCgocGxhbmV0TmFtZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxNZW51SXRlbVxuICAgICAgICAgICAgICBrZXk9e3BsYW5ldE5hbWV9XG4gICAgICAgICAgICAgIGxhYmVsPXtwbGFuZXROYW1lfVxuICAgICAgICAgICAgICBpc0FjdGl2ZT17YWN0aXZlQ2FtZXJhLm5hbWUgPT09IHBsYW5ldE5hbWV9XG4gICAgICAgICAgICAgIGlzSGlnaGxpZ2h0ZWQ9e3BsYW5ldE5hbWUgPT09IHBhcmVudFBsYW5ldH1cbiAgICAgICAgICAgICAgaGFzU3VibWVudT17bW9vbnNEYXRhW3BsYW5ldE5hbWVdPy5sZW5ndGggPiAwfVxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4gaGFuZGxlUGxhbmV0Q2xpY2socGxhbmV0TmFtZSl9XG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gaGFuZGxlSXRlbUhvdmVyKGluZGV4ICsgMSwgcGxhbmV0TmFtZSl9XG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cbiAgICAgICAgICAgICAgc2hvd1N1Ym1lbnU9e2FjdGl2ZVN1Ym1lbnUgPT09IHBsYW5ldE5hbWV9XG4gICAgICAgICAgICAgIHRhYkluZGV4PXtmb2N1c2VkSW5kZXggPT09IGluZGV4ICsgMSA/IDAgOiAtMX1cbiAgICAgICAgICAgICAgaXNGb2N1c2VkPXtmb2N1c2VkSW5kZXggPT09IGluZGV4ICsgMX1cbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD17YWN0aXZlU3VibWVudSA9PT0gcGxhbmV0TmFtZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge21vb25zRGF0YVtwbGFuZXROYW1lXT8ubWFwKChtb29uLCBtb29uSW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8TWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT17bW9vbi5uYW1lfVxuICAgICAgICAgICAgICAgICAgbGFiZWw9e21vb24ubmFtZX1cbiAgICAgICAgICAgICAgICAgIGlzQWN0aXZlPXthY3RpdmVDYW1lcmEudHlwZSA9PT0gXCJtb29uXCIgJiYgbW9vbi5uYW1lID09PSBhY3RpdmVDYW1lcmEubmFtZX1cbiAgICAgICAgICAgICAgICAgIGlzU3VibWVudUl0ZW09e3RydWV9XG4gICAgICAgICAgICAgICAgICBvblNlbGVjdD17ZSA9PiBoYW5kbGVNb29uQ2xpY2socGxhbmV0TmFtZSwgbW9vbi5uYW1lLCBlKX1cbiAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gaGFuZGxlU3VibWVudUl0ZW1Ib3Zlcihtb29uSW5kZXgpfVxuICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9e2FjdGl2ZVN1Ym1lbnUgPT09IHBsYW5ldE5hbWUgJiYgZm9jdXNlZFN1Ym1lbnVJbmRleCA9PT0gbW9vbkluZGV4ID8gMCA6IC0xfVxuICAgICAgICAgICAgICAgICAgaXNGb2N1c2VkPXthY3RpdmVTdWJtZW51ID09PSBwbGFuZXROYW1lICYmIGZvY3VzZWRTdWJtZW51SW5kZXggPT09IG1vb25JbmRleH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICAgKSl9XG5cbiAgICAgICAgICA8TWVudUl0ZW1cbiAgICAgICAgICAgIGxhYmVsPSdBc3Rlcm9pZCBCZWx0J1xuICAgICAgICAgICAgaXNBY3RpdmU9e2FjdGl2ZUNhbWVyYS5uYW1lID09PSBcIkFzdGVyb2lkIEJlbHRcIn1cbiAgICAgICAgICAgIG9uU2VsZWN0PXttZW51SXRlbXNbbWVudUl0ZW1zLmxlbmd0aCAtIDFdLm9uU2VsZWN0fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBoYW5kbGVJdGVtSG92ZXIobWVudUl0ZW1zLmxlbmd0aCAtIDEpfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxuICAgICAgICAgICAgdGFiSW5kZXg9e2ZvY3VzZWRJbmRleCA9PT0gbWVudUl0ZW1zLmxlbmd0aCAtIDEgPyAwIDogLTF9XG4gICAgICAgICAgICBpc0ZvY3VzZWQ9e2ZvY3VzZWRJbmRleCA9PT0gbWVudUl0ZW1zLmxlbmd0aCAtIDF9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxhbmV0U2VsZWN0b3I7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIk1lbnVJdGVtIiwibGFiZWwiLCJpc0FjdGl2ZSIsImhhc1N1Ym1lbnUiLCJvblNlbGVjdCIsImNoaWxkcmVuIiwic2hvd1N1Ym1lbnUiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJpc1N1Ym1lbnVJdGVtIiwiaXNIaWdobGlnaHRlZCIsIm9uS2V5RG93biIsInRhYkluZGV4IiwiaXNGb2N1c2VkIiwiYXJpYUV4cGFuZGVkIiwiaGFuZGxlSXRlbU1vdXNlTGVhdmUiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsInJvbGUiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsInVuZGVmaW5lZCIsInNwYW4iLCJhcmlhLWxhYmVsIiwiUGxhbmV0U2VsZWN0b3IiLCJwbGFuZXRzRGF0YSIsIm1vb25zRGF0YSIsImFjdGl2ZUNhbWVyYSIsIm9uUGxhbmV0U2VsZWN0Iiwib25Nb29uU2VsZWN0Iiwib25Bc3Rlcm9pZEJlbHRTZWxlY3QiLCJvblNvbGFyU3lzdGVtU2VsZWN0IiwiaXNPcGVuIiwic2V0SXNPcGVuIiwiYWN0aXZlU3VibWVudSIsInNldEFjdGl2ZVN1Ym1lbnUiLCJmb2N1c2VkSW5kZXgiLCJzZXRGb2N1c2VkSW5kZXgiLCJmb2N1c2VkU3VibWVudUluZGV4Iiwic2V0Rm9jdXNlZFN1Ym1lbnVJbmRleCIsImRyb3Bkb3duUmVmIiwibWVudUl0ZW1zIiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsInBsYW5ldE5hbWUiLCJoYW5kbGVQbGFuZXRDbGljayIsImxlbmd0aCIsInN1Ym1lbnVJdGVtcyIsIm1vb24iLCJuYW1lIiwiaGFuZGxlTW9vbkNsaWNrIiwiZmluZFBhcmVudFBsYW5ldCIsInR5cGUiLCJtb29ucyIsImVudHJpZXMiLCJzb21lIiwiZmluZEFjdGl2ZUl0ZW1JbmRleCIsInBsYW5ldEluZGV4IiwiZmluZEluZGV4IiwicGFyZW50UGxhbmV0IiwibW9vbkluZGV4IiwiYWN0aXZlSW5kZXgiLCJoYW5kbGVLZXlEb3duIiwiZXZlbnQiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsInByZXYiLCJjdXJyZW50SXRlbSIsInNlbGVjdGVkTW9vbiIsInNlbGVjdGVkSXRlbSIsIm1vb25OYW1lIiwiaGFuZGxlU3VibWVudUl0ZW1Ib3ZlciIsImhhbmRsZU1vdXNlTGVhdmUiLCJtZW51RWxlbWVudCIsImN1cnJlbnQiLCJxdWVyeVNlbGVjdG9yIiwic3VibWVudUVsZW1lbnQiLCJtZW51UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1vdXNlWCIsImNsaWVudFgiLCJtb3VzZVkiLCJjbGllbnRZIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwic3VibWVudVJlY3QiLCJoYW5kbGVJdGVtSG92ZXIiLCJpbmRleCIsImdldEFjdGl2ZUxhYmVsIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVmIiwiYnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/UI/PlanetSelector.jsx\n"));

/***/ })

});