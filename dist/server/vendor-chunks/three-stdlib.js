"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/three-stdlib";
exports.ids = ["vendor-chunks/three-stdlib"];
exports.modules = {

/***/ "(ssr)/./node_modules/three-stdlib/_polyfill/constants.js":
/*!**********************************************************!*\
  !*** ./node_modules/three-stdlib/_polyfill/constants.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst version = parseInt(three__WEBPACK_IMPORTED_MODULE_0__.REVISION.replace(/\\D+/g, \"\"));\n\n//# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL19wb2x5ZmlsbC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUM7QUFDakMseUJBQXlCLDJDQUFRO0FBRy9CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb2xhci1zeXN0ZW0taW50ZXJhY3RpdmUvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL19wb2x5ZmlsbC9jb25zdGFudHMuanM/YWRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSRVZJU0lPTiB9IGZyb20gXCJ0aHJlZVwiO1xuY29uc3QgdmVyc2lvbiA9IHBhcnNlSW50KFJFVklTSU9OLnJlcGxhY2UoL1xcRCsvZywgXCJcIikpO1xuZXhwb3J0IHtcbiAgdmVyc2lvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/_polyfill/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/_polyfill/uv1.js":
/*!****************************************************!*\
  !*** ./node_modules/three-stdlib/_polyfill/uv1.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UV1: () => (/* binding */ UV1)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/three-stdlib/_polyfill/constants.js\");\n\nconst UV1 = _constants_js__WEBPACK_IMPORTED_MODULE_0__.version >= 125 ? \"uv1\" : \"uv2\";\n\n//# sourceMappingURL=uv1.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL19wb2x5ZmlsbC91djEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7QUFDekMsWUFBWSxrREFBTztBQUdqQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29sYXItc3lzdGVtLWludGVyYWN0aXZlLy4vbm9kZV9tb2R1bGVzL3RocmVlLXN0ZGxpYi9fcG9seWZpbGwvdXYxLmpzPzIwMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuY29uc3QgVVYxID0gdmVyc2lvbiA+PSAxMjUgPyBcInV2MVwiIDogXCJ1djJcIjtcbmV4cG9ydCB7XG4gIFVWMVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV2MS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/_polyfill/uv1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/lines/Line2.js":
/*!**************************************************!*\
  !*** ./node_modules/three-stdlib/lines/Line2.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Line2: () => (/* binding */ Line2)\n/* harmony export */ });\n/* harmony import */ var _LineSegments2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LineSegments2.js */ \"(ssr)/./node_modules/three-stdlib/lines/LineSegments2.js\");\n/* harmony import */ var _LineGeometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LineGeometry.js */ \"(ssr)/./node_modules/three-stdlib/lines/LineGeometry.js\");\n/* harmony import */ var _LineMaterial_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LineMaterial.js */ \"(ssr)/./node_modules/three-stdlib/lines/LineMaterial.js\");\n\n\n\nclass Line2 extends _LineSegments2_js__WEBPACK_IMPORTED_MODULE_0__.LineSegments2 {\n  constructor(geometry = new _LineGeometry_js__WEBPACK_IMPORTED_MODULE_1__.LineGeometry(), material = new _LineMaterial_js__WEBPACK_IMPORTED_MODULE_2__.LineMaterial({ color: Math.random() * 16777215 })) {\n    super(geometry, material);\n    this.isLine2 = true;\n    this.type = \"Line2\";\n  }\n}\n\n//# sourceMappingURL=Line2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2xpbmVzL0xpbmUyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBbUQ7QUFDRjtBQUNBO0FBQ2pELG9CQUFvQiw0REFBYTtBQUNqQyw2QkFBNkIsMERBQVksbUJBQW1CLDBEQUFZLEdBQUcsaUNBQWlDO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29sYXItc3lzdGVtLWludGVyYWN0aXZlLy4vbm9kZV9tb2R1bGVzL3RocmVlLXN0ZGxpYi9saW5lcy9MaW5lMi5qcz8xM2FjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpbmVTZWdtZW50czIgfSBmcm9tIFwiLi9MaW5lU2VnbWVudHMyLmpzXCI7XG5pbXBvcnQgeyBMaW5lR2VvbWV0cnkgfSBmcm9tIFwiLi9MaW5lR2VvbWV0cnkuanNcIjtcbmltcG9ydCB7IExpbmVNYXRlcmlhbCB9IGZyb20gXCIuL0xpbmVNYXRlcmlhbC5qc1wiO1xuY2xhc3MgTGluZTIgZXh0ZW5kcyBMaW5lU2VnbWVudHMyIHtcbiAgY29uc3RydWN0b3IoZ2VvbWV0cnkgPSBuZXcgTGluZUdlb21ldHJ5KCksIG1hdGVyaWFsID0gbmV3IExpbmVNYXRlcmlhbCh7IGNvbG9yOiBNYXRoLnJhbmRvbSgpICogMTY3NzcyMTUgfSkpIHtcbiAgICBzdXBlcihnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgIHRoaXMuaXNMaW5lMiA9IHRydWU7XG4gICAgdGhpcy50eXBlID0gXCJMaW5lMlwiO1xuICB9XG59XG5leHBvcnQge1xuICBMaW5lMlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmUyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/lines/Line2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/lines/LineGeometry.js":
/*!*********************************************************!*\
  !*** ./node_modules/three-stdlib/lines/LineGeometry.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineGeometry: () => (/* binding */ LineGeometry)\n/* harmony export */ });\n/* harmony import */ var _LineSegmentsGeometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LineSegmentsGeometry.js */ \"(ssr)/./node_modules/three-stdlib/lines/LineSegmentsGeometry.js\");\n\nclass LineGeometry extends _LineSegmentsGeometry_js__WEBPACK_IMPORTED_MODULE_0__.LineSegmentsGeometry {\n  constructor() {\n    super();\n    this.isLineGeometry = true;\n    this.type = \"LineGeometry\";\n  }\n  setPositions(array) {\n    const length = array.length - 3;\n    const points = new Float32Array(2 * length);\n    for (let i = 0; i < length; i += 3) {\n      points[2 * i] = array[i];\n      points[2 * i + 1] = array[i + 1];\n      points[2 * i + 2] = array[i + 2];\n      points[2 * i + 3] = array[i + 3];\n      points[2 * i + 4] = array[i + 4];\n      points[2 * i + 5] = array[i + 5];\n    }\n    super.setPositions(points);\n    return this;\n  }\n  setColors(array, itemSize = 3) {\n    const length = array.length - itemSize;\n    const colors = new Float32Array(2 * length);\n    if (itemSize === 3) {\n      for (let i = 0; i < length; i += itemSize) {\n        colors[2 * i] = array[i];\n        colors[2 * i + 1] = array[i + 1];\n        colors[2 * i + 2] = array[i + 2];\n        colors[2 * i + 3] = array[i + 3];\n        colors[2 * i + 4] = array[i + 4];\n        colors[2 * i + 5] = array[i + 5];\n      }\n    } else {\n      for (let i = 0; i < length; i += itemSize) {\n        colors[2 * i] = array[i];\n        colors[2 * i + 1] = array[i + 1];\n        colors[2 * i + 2] = array[i + 2];\n        colors[2 * i + 3] = array[i + 3];\n        colors[2 * i + 4] = array[i + 4];\n        colors[2 * i + 5] = array[i + 5];\n        colors[2 * i + 6] = array[i + 6];\n        colors[2 * i + 7] = array[i + 7];\n      }\n    }\n    super.setColors(colors, itemSize);\n    return this;\n  }\n  fromLine(line) {\n    const geometry = line.geometry;\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n}\n\n//# sourceMappingURL=LineGeometry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2xpbmVzL0xpbmVHZW9tZXRyeS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRTtBQUNqRSwyQkFBMkIsMEVBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFlBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sc0JBQXNCLFlBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29sYXItc3lzdGVtLWludGVyYWN0aXZlLy4vbm9kZV9tb2R1bGVzL3RocmVlLXN0ZGxpYi9saW5lcy9MaW5lR2VvbWV0cnkuanM/YTZkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaW5lU2VnbWVudHNHZW9tZXRyeSB9IGZyb20gXCIuL0xpbmVTZWdtZW50c0dlb21ldHJ5LmpzXCI7XG5jbGFzcyBMaW5lR2VvbWV0cnkgZXh0ZW5kcyBMaW5lU2VnbWVudHNHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc0xpbmVHZW9tZXRyeSA9IHRydWU7XG4gICAgdGhpcy50eXBlID0gXCJMaW5lR2VvbWV0cnlcIjtcbiAgfVxuICBzZXRQb3NpdGlvbnMoYXJyYXkpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggLSAzO1xuICAgIGNvbnN0IHBvaW50cyA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuICAgICAgcG9pbnRzWzIgKiBpXSA9IGFycmF5W2ldO1xuICAgICAgcG9pbnRzWzIgKiBpICsgMV0gPSBhcnJheVtpICsgMV07XG4gICAgICBwb2ludHNbMiAqIGkgKyAyXSA9IGFycmF5W2kgKyAyXTtcbiAgICAgIHBvaW50c1syICogaSArIDNdID0gYXJyYXlbaSArIDNdO1xuICAgICAgcG9pbnRzWzIgKiBpICsgNF0gPSBhcnJheVtpICsgNF07XG4gICAgICBwb2ludHNbMiAqIGkgKyA1XSA9IGFycmF5W2kgKyA1XTtcbiAgICB9XG4gICAgc3VwZXIuc2V0UG9zaXRpb25zKHBvaW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0Q29sb3JzKGFycmF5LCBpdGVtU2l6ZSA9IDMpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggLSBpdGVtU2l6ZTtcbiAgICBjb25zdCBjb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBsZW5ndGgpO1xuICAgIGlmIChpdGVtU2l6ZSA9PT0gMykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gaXRlbVNpemUpIHtcbiAgICAgICAgY29sb3JzWzIgKiBpXSA9IGFycmF5W2ldO1xuICAgICAgICBjb2xvcnNbMiAqIGkgKyAxXSA9IGFycmF5W2kgKyAxXTtcbiAgICAgICAgY29sb3JzWzIgKiBpICsgMl0gPSBhcnJheVtpICsgMl07XG4gICAgICAgIGNvbG9yc1syICogaSArIDNdID0gYXJyYXlbaSArIDNdO1xuICAgICAgICBjb2xvcnNbMiAqIGkgKyA0XSA9IGFycmF5W2kgKyA0XTtcbiAgICAgICAgY29sb3JzWzIgKiBpICsgNV0gPSBhcnJheVtpICsgNV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGl0ZW1TaXplKSB7XG4gICAgICAgIGNvbG9yc1syICogaV0gPSBhcnJheVtpXTtcbiAgICAgICAgY29sb3JzWzIgKiBpICsgMV0gPSBhcnJheVtpICsgMV07XG4gICAgICAgIGNvbG9yc1syICogaSArIDJdID0gYXJyYXlbaSArIDJdO1xuICAgICAgICBjb2xvcnNbMiAqIGkgKyAzXSA9IGFycmF5W2kgKyAzXTtcbiAgICAgICAgY29sb3JzWzIgKiBpICsgNF0gPSBhcnJheVtpICsgNF07XG4gICAgICAgIGNvbG9yc1syICogaSArIDVdID0gYXJyYXlbaSArIDVdO1xuICAgICAgICBjb2xvcnNbMiAqIGkgKyA2XSA9IGFycmF5W2kgKyA2XTtcbiAgICAgICAgY29sb3JzWzIgKiBpICsgN10gPSBhcnJheVtpICsgN107XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLnNldENvbG9ycyhjb2xvcnMsIGl0ZW1TaXplKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBmcm9tTGluZShsaW5lKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBsaW5lLmdlb21ldHJ5O1xuICAgIHRoaXMuc2V0UG9zaXRpb25zKGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5leHBvcnQge1xuICBMaW5lR2VvbWV0cnlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lR2VvbWV0cnkuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/lines/LineGeometry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/lines/LineMaterial.js":
/*!*********************************************************!*\
  !*** ./node_modules/three-stdlib/lines/LineMaterial.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineMaterial: () => (/* binding */ LineMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nclass LineMaterial extends three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial {\n  constructor(parameters) {\n    super({\n      type: \"LineMaterial\",\n      uniforms: three__WEBPACK_IMPORTED_MODULE_0__.UniformsUtils.clone(\n        three__WEBPACK_IMPORTED_MODULE_0__.UniformsUtils.merge([\n          three__WEBPACK_IMPORTED_MODULE_0__.UniformsLib.common,\n          three__WEBPACK_IMPORTED_MODULE_0__.UniformsLib.fog,\n          {\n            worldUnits: { value: 1 },\n            linewidth: { value: 1 },\n            resolution: { value: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(1, 1) },\n            dashOffset: { value: 0 },\n            dashScale: { value: 1 },\n            dashSize: { value: 1 },\n            gapSize: { value: 1 }\n            // todo FIX - maybe change to totalSize\n          }\n        ])\n      ),\n      vertexShader: (\n        /* glsl */\n        `\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_vertex>\n\t\t\t\t#include <logdepthbuf_pars_vertex>\n\t\t\t\t#include <clipping_planes_pars_vertex>\n\n\t\t\t\tuniform float linewidth;\n\t\t\t\tuniform vec2 resolution;\n\n\t\t\t\tattribute vec3 instanceStart;\n\t\t\t\tattribute vec3 instanceEnd;\n\n\t\t\t\t#ifdef USE_COLOR\n\t\t\t\t\t#ifdef USE_LINE_COLOR_ALPHA\n\t\t\t\t\t\tvarying vec4 vLineColor;\n\t\t\t\t\t\tattribute vec4 instanceColorStart;\n\t\t\t\t\t\tattribute vec4 instanceColorEnd;\n\t\t\t\t\t#else\n\t\t\t\t\t\tvarying vec3 vLineColor;\n\t\t\t\t\t\tattribute vec3 instanceColorStart;\n\t\t\t\t\t\tattribute vec3 instanceColorEnd;\n\t\t\t\t\t#endif\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\tvarying vec4 worldPos;\n\t\t\t\t\tvarying vec3 worldStart;\n\t\t\t\t\tvarying vec3 worldEnd;\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#else\n\n\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\tuniform float dashScale;\n\t\t\t\t\tattribute float instanceDistanceStart;\n\t\t\t\t\tattribute float instanceDistanceEnd;\n\t\t\t\t\tvarying float vLineDistance;\n\n\t\t\t\t#endif\n\n\t\t\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t\t\t// conservative estimate of the near plane\n\t\t\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#ifdef USE_COLOR\n\n\t\t\t\t\t\tvLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\t\t\tvUv = uv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t\t\t// camera space\n\t\t\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\tworldStart = start.xyz;\n\t\t\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tvUv = uv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\t\t\tif ( perspective ) {\n\n\t\t\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// clip space\n\t\t\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t\t\t// ndc space\n\t\t\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t\t\t// direction\n\t\t\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t\t\t// account for clip-space aspect ratio\n\t\t\t\t\tdir.x *= aspect;\n\t\t\t\t\tdir = normalize( dir );\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\t\t\tvec3 offset;\n\t\t\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// sign flip\n\t\t\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// endcaps\n\t\t\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// adjust for linewidth\n\t\t\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t\t\t// set the world position\n\t\t\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t\t\t// project the worldpos\n\t\t\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t\t\t// segments overlap neatly\n\t\t\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\t\t\tdir.x /= aspect;\n\t\t\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t\t\t// sign flip\n\t\t\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t\t\t// endcaps\n\t\t\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\t\t\toffset += - dir;\n\n\t\t\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\t\t\toffset += dir;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// adjust for linewidth\n\t\t\t\t\t\toffset *= linewidth;\n\n\t\t\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t\t\t// select end\n\t\t\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t\t\t// back to clip space\n\t\t\t\t\t\toffset *= clip.w;\n\n\t\t\t\t\t\tclip.xy += offset;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tgl_Position = clip;\n\n\t\t\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t\t#include <clipping_planes_vertex>\n\t\t\t\t\t#include <fog_vertex>\n\n\t\t\t\t}\n\t\t\t`\n      ),\n      fragmentShader: (\n        /* glsl */\n        `\n\t\t\t\tuniform vec3 diffuse;\n\t\t\t\tuniform float opacity;\n\t\t\t\tuniform float linewidth;\n\n\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\tuniform float dashOffset;\n\t\t\t\t\tuniform float dashSize;\n\t\t\t\t\tuniform float gapSize;\n\n\t\t\t\t#endif\n\n\t\t\t\tvarying float vLineDistance;\n\n\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\tvarying vec4 worldPos;\n\t\t\t\t\tvarying vec3 worldStart;\n\t\t\t\t\tvarying vec3 worldEnd;\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#else\n\n\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t#endif\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_fragment>\n\t\t\t\t#include <logdepthbuf_pars_fragment>\n\t\t\t\t#include <clipping_planes_pars_fragment>\n\n\t\t\t\t#ifdef USE_COLOR\n\t\t\t\t\t#ifdef USE_LINE_COLOR_ALPHA\n\t\t\t\t\t\tvarying vec4 vLineColor;\n\t\t\t\t\t#else\n\t\t\t\t\t\tvarying vec3 vLineColor;\n\t\t\t\t\t#endif\n\t\t\t\t#endif\n\n\t\t\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\t\t\tfloat mua;\n\t\t\t\t\tfloat mub;\n\n\t\t\t\t\tvec3 p13 = p1 - p3;\n\t\t\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\t\t\tmua = numer / denom;\n\t\t\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\t\t\treturn vec2( mua, mub );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat alpha = opacity;\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\t\t\tfloat len = length( delta );\n\t\t\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t\t\t#else\n\n\t\t\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t#else\n\n\t\t\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\t\t\t\t\t#ifdef USE_COLOR\n\t\t\t\t\t\t#ifdef USE_LINE_COLOR_ALPHA\n\t\t\t\t\t\t\tdiffuseColor *= vLineColor;\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tdiffuseColor.rgb *= vLineColor;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\t\t\tgl_FragColor = diffuseColor;\n\n\t\t\t\t\t#include <tonemapping_fragment>\n\t\t\t\t\t#include <${parseInt(three__WEBPACK_IMPORTED_MODULE_0__.REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n\t\t\t\t\t#include <fog_fragment>\n\t\t\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t\t\t}\n\t\t\t`\n      ),\n      clipping: true\n      // required for clipping support\n    });\n    this.isLineMaterial = true;\n    this.onBeforeCompile = function() {\n      if (this.transparent) {\n        this.defines.USE_LINE_COLOR_ALPHA = \"1\";\n      } else {\n        delete this.defines.USE_LINE_COLOR_ALPHA;\n      }\n    };\n    Object.defineProperties(this, {\n      color: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.diffuse.value;\n        },\n        set: function(value) {\n          this.uniforms.diffuse.value = value;\n        }\n      },\n      worldUnits: {\n        enumerable: true,\n        get: function() {\n          return \"WORLD_UNITS\" in this.defines;\n        },\n        set: function(value) {\n          if (value === true) {\n            this.defines.WORLD_UNITS = \"\";\n          } else {\n            delete this.defines.WORLD_UNITS;\n          }\n        }\n      },\n      linewidth: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.linewidth.value;\n        },\n        set: function(value) {\n          this.uniforms.linewidth.value = value;\n        }\n      },\n      dashed: {\n        enumerable: true,\n        get: function() {\n          return Boolean(\"USE_DASH\" in this.defines);\n        },\n        set(value) {\n          if (Boolean(value) !== Boolean(\"USE_DASH\" in this.defines)) {\n            this.needsUpdate = true;\n          }\n          if (value === true) {\n            this.defines.USE_DASH = \"\";\n          } else {\n            delete this.defines.USE_DASH;\n          }\n        }\n      },\n      dashScale: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.dashScale.value;\n        },\n        set: function(value) {\n          this.uniforms.dashScale.value = value;\n        }\n      },\n      dashSize: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.dashSize.value;\n        },\n        set: function(value) {\n          this.uniforms.dashSize.value = value;\n        }\n      },\n      dashOffset: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.dashOffset.value;\n        },\n        set: function(value) {\n          this.uniforms.dashOffset.value = value;\n        }\n      },\n      gapSize: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.gapSize.value;\n        },\n        set: function(value) {\n          this.uniforms.gapSize.value = value;\n        }\n      },\n      opacity: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.opacity.value;\n        },\n        set: function(value) {\n          this.uniforms.opacity.value = value;\n        }\n      },\n      resolution: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.resolution.value;\n        },\n        set: function(value) {\n          this.uniforms.resolution.value.copy(value);\n        }\n      },\n      alphaToCoverage: {\n        enumerable: true,\n        get: function() {\n          return Boolean(\"USE_ALPHA_TO_COVERAGE\" in this.defines);\n        },\n        set: function(value) {\n          if (Boolean(value) !== Boolean(\"USE_ALPHA_TO_COVERAGE\" in this.defines)) {\n            this.needsUpdate = true;\n          }\n          if (value === true) {\n            this.defines.USE_ALPHA_TO_COVERAGE = \"\";\n            this.extensions.derivatives = true;\n          } else {\n            delete this.defines.USE_ALPHA_TO_COVERAGE;\n            this.extensions.derivatives = false;\n          }\n        }\n      }\n    });\n    this.setValues(parameters);\n  }\n}\n\n//# sourceMappingURL=LineMaterial.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2xpbmVzL0xpbmVNYXRlcmlhbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzRjtBQUN0RiwyQkFBMkIsaURBQWM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFhO0FBQzdCLFFBQVEsZ0RBQWE7QUFDckIsVUFBVSw4Q0FBVztBQUNyQixVQUFVLDhDQUFXO0FBQ3JCO0FBQ0EsMEJBQTBCLFVBQVU7QUFDcEMseUJBQXlCLFVBQVU7QUFDbkMsMEJBQTBCLFdBQVcsMENBQU8sUUFBUTtBQUNwRCwwQkFBMEIsVUFBVTtBQUNwQyx5QkFBeUIsVUFBVTtBQUNuQyx3QkFBd0IsVUFBVTtBQUNsQyx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0MsMkNBQTJDO0FBQzNDOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWlFOztBQUVqRTs7QUFFQTs7QUFFQTs7QUFFQSxRQUFROztBQUVSOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUTs7QUFFUjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUTs7QUFFUjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLDJEQUEyRDs7QUFFM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLG1EQUFtRDs7QUFFbkQsdUZBQXVGOztBQUV2Rjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLGlCQUFpQixTQUFTLDJDQUFRLDRFQUE0RTtBQUM5RztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb2xhci1zeXN0ZW0taW50ZXJhY3RpdmUvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2xpbmVzL0xpbmVNYXRlcmlhbC5qcz82OGQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNoYWRlck1hdGVyaWFsLCBVbmlmb3Jtc1V0aWxzLCBVbmlmb3Jtc0xpYiwgVmVjdG9yMiwgUkVWSVNJT04gfSBmcm9tIFwidGhyZWVcIjtcbmNsYXNzIExpbmVNYXRlcmlhbCBleHRlbmRzIFNoYWRlck1hdGVyaWFsIHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFwiTGluZU1hdGVyaWFsXCIsXG4gICAgICB1bmlmb3JtczogVW5pZm9ybXNVdGlscy5jbG9uZShcbiAgICAgICAgVW5pZm9ybXNVdGlscy5tZXJnZShbXG4gICAgICAgICAgVW5pZm9ybXNMaWIuY29tbW9uLFxuICAgICAgICAgIFVuaWZvcm1zTGliLmZvZyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3b3JsZFVuaXRzOiB7IHZhbHVlOiAxIH0sXG4gICAgICAgICAgICBsaW5ld2lkdGg6IHsgdmFsdWU6IDEgfSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHsgdmFsdWU6IG5ldyBWZWN0b3IyKDEsIDEpIH0sXG4gICAgICAgICAgICBkYXNoT2Zmc2V0OiB7IHZhbHVlOiAwIH0sXG4gICAgICAgICAgICBkYXNoU2NhbGU6IHsgdmFsdWU6IDEgfSxcbiAgICAgICAgICAgIGRhc2hTaXplOiB7IHZhbHVlOiAxIH0sXG4gICAgICAgICAgICBnYXBTaXplOiB7IHZhbHVlOiAxIH1cbiAgICAgICAgICAgIC8vIHRvZG8gRklYIC0gbWF5YmUgY2hhbmdlIHRvIHRvdGFsU2l6ZVxuICAgICAgICAgIH1cbiAgICAgICAgXSlcbiAgICAgICksXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IChcbiAgICAgICAgLyogZ2xzbCAqL1xuICAgICAgICBgXG5cdFx0XHRcdCNpbmNsdWRlIDxjb21tb24+XG5cdFx0XHRcdCNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG5cdFx0XHRcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cblx0XHRcdFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cblxuXHRcdFx0XHR1bmlmb3JtIGZsb2F0IGxpbmV3aWR0aDtcblx0XHRcdFx0dW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XG5cblx0XHRcdFx0YXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTdGFydDtcblx0XHRcdFx0YXR0cmlidXRlIHZlYzMgaW5zdGFuY2VFbmQ7XG5cblx0XHRcdFx0I2lmZGVmIFVTRV9DT0xPUlxuXHRcdFx0XHRcdCNpZmRlZiBVU0VfTElORV9DT0xPUl9BTFBIQVxuXHRcdFx0XHRcdFx0dmFyeWluZyB2ZWM0IHZMaW5lQ29sb3I7XG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9yU3RhcnQ7XG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9yRW5kO1xuXHRcdFx0XHRcdCNlbHNlXG5cdFx0XHRcdFx0XHR2YXJ5aW5nIHZlYzMgdkxpbmVDb2xvcjtcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlQ29sb3JTdGFydDtcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlQ29sb3JFbmQ7XG5cdFx0XHRcdFx0I2VuZGlmXG5cdFx0XHRcdCNlbmRpZlxuXG5cdFx0XHRcdCNpZmRlZiBXT1JMRF9VTklUU1xuXG5cdFx0XHRcdFx0dmFyeWluZyB2ZWM0IHdvcmxkUG9zO1xuXHRcdFx0XHRcdHZhcnlpbmcgdmVjMyB3b3JsZFN0YXJ0O1xuXHRcdFx0XHRcdHZhcnlpbmcgdmVjMyB3b3JsZEVuZDtcblxuXHRcdFx0XHRcdCNpZmRlZiBVU0VfREFTSFxuXG5cdFx0XHRcdFx0XHR2YXJ5aW5nIHZlYzIgdlV2O1xuXG5cdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0I2Vsc2VcblxuXHRcdFx0XHRcdHZhcnlpbmcgdmVjMiB2VXY7XG5cblx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0I2lmZGVmIFVTRV9EQVNIXG5cblx0XHRcdFx0XHR1bmlmb3JtIGZsb2F0IGRhc2hTY2FsZTtcblx0XHRcdFx0XHRhdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VEaXN0YW5jZVN0YXJ0O1xuXHRcdFx0XHRcdGF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZURpc3RhbmNlRW5kO1xuXHRcdFx0XHRcdHZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcblxuXHRcdFx0XHQjZW5kaWZcblxuXHRcdFx0XHR2b2lkIHRyaW1TZWdtZW50KCBjb25zdCBpbiB2ZWM0IHN0YXJ0LCBpbm91dCB2ZWM0IGVuZCApIHtcblxuXHRcdFx0XHRcdC8vIHRyaW0gZW5kIHNlZ21lbnQgc28gaXQgdGVybWluYXRlcyBiZXR3ZWVuIHRoZSBjYW1lcmEgcGxhbmUgYW5kIHRoZSBuZWFyIHBsYW5lXG5cblx0XHRcdFx0XHQvLyBjb25zZXJ2YXRpdmUgZXN0aW1hdGUgb2YgdGhlIG5lYXIgcGxhbmVcblx0XHRcdFx0XHRmbG9hdCBhID0gcHJvamVjdGlvbk1hdHJpeFsgMiBdWyAyIF07IC8vIDNuZCBlbnRyeSBpbiAzdGggY29sdW1uXG5cdFx0XHRcdFx0ZmxvYXQgYiA9IHByb2plY3Rpb25NYXRyaXhbIDMgXVsgMiBdOyAvLyAzbmQgZW50cnkgaW4gNHRoIGNvbHVtblxuXHRcdFx0XHRcdGZsb2F0IG5lYXJFc3RpbWF0ZSA9IC0gMC41ICogYiAvIGE7XG5cblx0XHRcdFx0XHRmbG9hdCBhbHBoYSA9ICggbmVhckVzdGltYXRlIC0gc3RhcnQueiApIC8gKCBlbmQueiAtIHN0YXJ0LnogKTtcblxuXHRcdFx0XHRcdGVuZC54eXogPSBtaXgoIHN0YXJ0Lnh5eiwgZW5kLnh5eiwgYWxwaGEgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dm9pZCBtYWluKCkge1xuXG5cdFx0XHRcdFx0I2lmZGVmIFVTRV9DT0xPUlxuXG5cdFx0XHRcdFx0XHR2TGluZUNvbG9yID0gKCBwb3NpdGlvbi55IDwgMC41ICkgPyBpbnN0YW5jZUNvbG9yU3RhcnQgOiBpbnN0YW5jZUNvbG9yRW5kO1xuXG5cdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0XHQjaWZkZWYgVVNFX0RBU0hcblxuXHRcdFx0XHRcdFx0dkxpbmVEaXN0YW5jZSA9ICggcG9zaXRpb24ueSA8IDAuNSApID8gZGFzaFNjYWxlICogaW5zdGFuY2VEaXN0YW5jZVN0YXJ0IDogZGFzaFNjYWxlICogaW5zdGFuY2VEaXN0YW5jZUVuZDtcblx0XHRcdFx0XHRcdHZVdiA9IHV2O1xuXG5cdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0XHRmbG9hdCBhc3BlY3QgPSByZXNvbHV0aW9uLnggLyByZXNvbHV0aW9uLnk7XG5cblx0XHRcdFx0XHQvLyBjYW1lcmEgc3BhY2Vcblx0XHRcdFx0XHR2ZWM0IHN0YXJ0ID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggaW5zdGFuY2VTdGFydCwgMS4wICk7XG5cdFx0XHRcdFx0dmVjNCBlbmQgPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBpbnN0YW5jZUVuZCwgMS4wICk7XG5cblx0XHRcdFx0XHQjaWZkZWYgV09STERfVU5JVFNcblxuXHRcdFx0XHRcdFx0d29ybGRTdGFydCA9IHN0YXJ0Lnh5ejtcblx0XHRcdFx0XHRcdHdvcmxkRW5kID0gZW5kLnh5ejtcblxuXHRcdFx0XHRcdCNlbHNlXG5cblx0XHRcdFx0XHRcdHZVdiA9IHV2O1xuXG5cdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0XHQvLyBzcGVjaWFsIGNhc2UgZm9yIHBlcnNwZWN0aXZlIHByb2plY3Rpb24sIGFuZCBzZWdtZW50cyB0aGF0IHRlcm1pbmF0ZSBlaXRoZXIgaW4sIG9yIGJlaGluZCwgdGhlIGNhbWVyYSBwbGFuZVxuXHRcdFx0XHRcdC8vIGNsZWFybHkgdGhlIGdwdSBmaXJtd2FyZSBoYXMgYSB3YXkgb2YgYWRkcmVzc2luZyB0aGlzIGlzc3VlIHdoZW4gcHJvamVjdGluZyBpbnRvIG5kYyBzcGFjZVxuXHRcdFx0XHRcdC8vIGJ1dCB3ZSBuZWVkIHRvIHBlcmZvcm0gbmRjLXNwYWNlIGNhbGN1bGF0aW9ucyBpbiB0aGUgc2hhZGVyLCBzbyB3ZSBtdXN0IGFkZHJlc3MgdGhpcyBpc3N1ZSBkaXJlY3RseVxuXHRcdFx0XHRcdC8vIHBlcmhhcHMgdGhlcmUgaXMgYSBtb3JlIGVsZWdhbnQgc29sdXRpb24gLS0gV2VzdExhbmdsZXlcblxuXHRcdFx0XHRcdGJvb2wgcGVyc3BlY3RpdmUgPSAoIHByb2plY3Rpb25NYXRyaXhbIDIgXVsgMyBdID09IC0gMS4wICk7IC8vIDR0aCBlbnRyeSBpbiB0aGUgM3JkIGNvbHVtblxuXG5cdFx0XHRcdFx0aWYgKCBwZXJzcGVjdGl2ZSApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBzdGFydC56IDwgMC4wICYmIGVuZC56ID49IDAuMCApIHtcblxuXHRcdFx0XHRcdFx0XHR0cmltU2VnbWVudCggc3RhcnQsIGVuZCApO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBlbmQueiA8IDAuMCAmJiBzdGFydC56ID49IDAuMCApIHtcblxuXHRcdFx0XHRcdFx0XHR0cmltU2VnbWVudCggZW5kLCBzdGFydCApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBjbGlwIHNwYWNlXG5cdFx0XHRcdFx0dmVjNCBjbGlwU3RhcnQgPSBwcm9qZWN0aW9uTWF0cml4ICogc3RhcnQ7XG5cdFx0XHRcdFx0dmVjNCBjbGlwRW5kID0gcHJvamVjdGlvbk1hdHJpeCAqIGVuZDtcblxuXHRcdFx0XHRcdC8vIG5kYyBzcGFjZVxuXHRcdFx0XHRcdHZlYzMgbmRjU3RhcnQgPSBjbGlwU3RhcnQueHl6IC8gY2xpcFN0YXJ0Lnc7XG5cdFx0XHRcdFx0dmVjMyBuZGNFbmQgPSBjbGlwRW5kLnh5eiAvIGNsaXBFbmQudztcblxuXHRcdFx0XHRcdC8vIGRpcmVjdGlvblxuXHRcdFx0XHRcdHZlYzIgZGlyID0gbmRjRW5kLnh5IC0gbmRjU3RhcnQueHk7XG5cblx0XHRcdFx0XHQvLyBhY2NvdW50IGZvciBjbGlwLXNwYWNlIGFzcGVjdCByYXRpb1xuXHRcdFx0XHRcdGRpci54ICo9IGFzcGVjdDtcblx0XHRcdFx0XHRkaXIgPSBub3JtYWxpemUoIGRpciApO1xuXG5cdFx0XHRcdFx0I2lmZGVmIFdPUkxEX1VOSVRTXG5cblx0XHRcdFx0XHRcdC8vIGdldCB0aGUgb2Zmc2V0IGRpcmVjdGlvbiBhcyBwZXJwZW5kaWN1bGFyIHRvIHRoZSB2aWV3IHZlY3RvclxuXHRcdFx0XHRcdFx0dmVjMyB3b3JsZERpciA9IG5vcm1hbGl6ZSggZW5kLnh5eiAtIHN0YXJ0Lnh5eiApO1xuXHRcdFx0XHRcdFx0dmVjMyBvZmZzZXQ7XG5cdFx0XHRcdFx0XHRpZiAoIHBvc2l0aW9uLnkgPCAwLjUgKSB7XG5cblx0XHRcdFx0XHRcdFx0b2Zmc2V0ID0gbm9ybWFsaXplKCBjcm9zcyggc3RhcnQueHl6LCB3b3JsZERpciApICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0b2Zmc2V0ID0gbm9ybWFsaXplKCBjcm9zcyggZW5kLnh5eiwgd29ybGREaXIgKSApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHNpZ24gZmxpcFxuXHRcdFx0XHRcdFx0aWYgKCBwb3NpdGlvbi54IDwgMC4wICkgb2Zmc2V0ICo9IC0gMS4wO1xuXG5cdFx0XHRcdFx0XHRmbG9hdCBmb3J3YXJkT2Zmc2V0ID0gZG90KCB3b3JsZERpciwgdmVjMyggMC4wLCAwLjAsIDEuMCApICk7XG5cblx0XHRcdFx0XHRcdC8vIGRvbid0IGV4dGVuZCB0aGUgbGluZSBpZiB3ZSdyZSByZW5kZXJpbmcgZGFzaGVzIGJlY2F1c2Ugd2Vcblx0XHRcdFx0XHRcdC8vIHdvbid0IGJlIHJlbmRlcmluZyB0aGUgZW5kY2Fwc1xuXHRcdFx0XHRcdFx0I2lmbmRlZiBVU0VfREFTSFxuXG5cdFx0XHRcdFx0XHRcdC8vIGV4dGVuZCB0aGUgbGluZSBib3VuZHMgdG8gZW5jb21wYXNzICBlbmRjYXBzXG5cdFx0XHRcdFx0XHRcdHN0YXJ0Lnh5eiArPSAtIHdvcmxkRGlyICogbGluZXdpZHRoICogMC41O1xuXHRcdFx0XHRcdFx0XHRlbmQueHl6ICs9IHdvcmxkRGlyICogbGluZXdpZHRoICogMC41O1xuXG5cdFx0XHRcdFx0XHRcdC8vIHNoaWZ0IHRoZSBwb3NpdGlvbiBvZiB0aGUgcXVhZCBzbyBpdCBodWdzIHRoZSBmb3J3YXJkIGVkZ2Ugb2YgdGhlIGxpbmVcblx0XHRcdFx0XHRcdFx0b2Zmc2V0Lnh5IC09IGRpciAqIGZvcndhcmRPZmZzZXQ7XG5cdFx0XHRcdFx0XHRcdG9mZnNldC56ICs9IDAuNTtcblxuXHRcdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0XHRcdC8vIGVuZGNhcHNcblx0XHRcdFx0XHRcdGlmICggcG9zaXRpb24ueSA+IDEuMCB8fCBwb3NpdGlvbi55IDwgMC4wICkge1xuXG5cdFx0XHRcdFx0XHRcdG9mZnNldC54eSArPSBkaXIgKiAyLjAgKiBmb3J3YXJkT2Zmc2V0O1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGFkanVzdCBmb3IgbGluZXdpZHRoXG5cdFx0XHRcdFx0XHRvZmZzZXQgKj0gbGluZXdpZHRoICogMC41O1xuXG5cdFx0XHRcdFx0XHQvLyBzZXQgdGhlIHdvcmxkIHBvc2l0aW9uXG5cdFx0XHRcdFx0XHR3b3JsZFBvcyA9ICggcG9zaXRpb24ueSA8IDAuNSApID8gc3RhcnQgOiBlbmQ7XG5cdFx0XHRcdFx0XHR3b3JsZFBvcy54eXogKz0gb2Zmc2V0O1xuXG5cdFx0XHRcdFx0XHQvLyBwcm9qZWN0IHRoZSB3b3JsZHBvc1xuXHRcdFx0XHRcdFx0dmVjNCBjbGlwID0gcHJvamVjdGlvbk1hdHJpeCAqIHdvcmxkUG9zO1xuXG5cdFx0XHRcdFx0XHQvLyBzaGlmdCB0aGUgZGVwdGggb2YgdGhlIHByb2plY3RlZCBwb2ludHMgc28gdGhlIGxpbmVcblx0XHRcdFx0XHRcdC8vIHNlZ21lbnRzIG92ZXJsYXAgbmVhdGx5XG5cdFx0XHRcdFx0XHR2ZWMzIGNsaXBQb3NlID0gKCBwb3NpdGlvbi55IDwgMC41ICkgPyBuZGNTdGFydCA6IG5kY0VuZDtcblx0XHRcdFx0XHRcdGNsaXAueiA9IGNsaXBQb3NlLnogKiBjbGlwLnc7XG5cblx0XHRcdFx0XHQjZWxzZVxuXG5cdFx0XHRcdFx0XHR2ZWMyIG9mZnNldCA9IHZlYzIoIGRpci55LCAtIGRpci54ICk7XG5cdFx0XHRcdFx0XHQvLyB1bmRvIGFzcGVjdCByYXRpbyBhZGp1c3RtZW50XG5cdFx0XHRcdFx0XHRkaXIueCAvPSBhc3BlY3Q7XG5cdFx0XHRcdFx0XHRvZmZzZXQueCAvPSBhc3BlY3Q7XG5cblx0XHRcdFx0XHRcdC8vIHNpZ24gZmxpcFxuXHRcdFx0XHRcdFx0aWYgKCBwb3NpdGlvbi54IDwgMC4wICkgb2Zmc2V0ICo9IC0gMS4wO1xuXG5cdFx0XHRcdFx0XHQvLyBlbmRjYXBzXG5cdFx0XHRcdFx0XHRpZiAoIHBvc2l0aW9uLnkgPCAwLjAgKSB7XG5cblx0XHRcdFx0XHRcdFx0b2Zmc2V0ICs9IC0gZGlyO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBwb3NpdGlvbi55ID4gMS4wICkge1xuXG5cdFx0XHRcdFx0XHRcdG9mZnNldCArPSBkaXI7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gYWRqdXN0IGZvciBsaW5ld2lkdGhcblx0XHRcdFx0XHRcdG9mZnNldCAqPSBsaW5ld2lkdGg7XG5cblx0XHRcdFx0XHRcdC8vIGFkanVzdCBmb3IgY2xpcC1zcGFjZSB0byBzY3JlZW4tc3BhY2UgY29udmVyc2lvbiAvLyBtYXliZSByZXNvbHV0aW9uIHNob3VsZCBiZSBiYXNlZCBvbiB2aWV3cG9ydCAuLi5cblx0XHRcdFx0XHRcdG9mZnNldCAvPSByZXNvbHV0aW9uLnk7XG5cblx0XHRcdFx0XHRcdC8vIHNlbGVjdCBlbmRcblx0XHRcdFx0XHRcdHZlYzQgY2xpcCA9ICggcG9zaXRpb24ueSA8IDAuNSApID8gY2xpcFN0YXJ0IDogY2xpcEVuZDtcblxuXHRcdFx0XHRcdFx0Ly8gYmFjayB0byBjbGlwIHNwYWNlXG5cdFx0XHRcdFx0XHRvZmZzZXQgKj0gY2xpcC53O1xuXG5cdFx0XHRcdFx0XHRjbGlwLnh5ICs9IG9mZnNldDtcblxuXHRcdFx0XHRcdCNlbmRpZlxuXG5cdFx0XHRcdFx0Z2xfUG9zaXRpb24gPSBjbGlwO1xuXG5cdFx0XHRcdFx0dmVjNCBtdlBvc2l0aW9uID0gKCBwb3NpdGlvbi55IDwgMC41ICkgPyBzdGFydCA6IGVuZDsgLy8gdGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uXG5cblx0XHRcdFx0XHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHRcdFx0XHRcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHRcdFx0XHRcdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxuXG5cdFx0XHRcdH1cblx0XHRcdGBcbiAgICAgICksXG4gICAgICBmcmFnbWVudFNoYWRlcjogKFxuICAgICAgICAvKiBnbHNsICovXG4gICAgICAgIGBcblx0XHRcdFx0dW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG5cdFx0XHRcdHVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcblx0XHRcdFx0dW5pZm9ybSBmbG9hdCBsaW5ld2lkdGg7XG5cblx0XHRcdFx0I2lmZGVmIFVTRV9EQVNIXG5cblx0XHRcdFx0XHR1bmlmb3JtIGZsb2F0IGRhc2hPZmZzZXQ7XG5cdFx0XHRcdFx0dW5pZm9ybSBmbG9hdCBkYXNoU2l6ZTtcblx0XHRcdFx0XHR1bmlmb3JtIGZsb2F0IGdhcFNpemU7XG5cblx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0dmFyeWluZyBmbG9hdCB2TGluZURpc3RhbmNlO1xuXG5cdFx0XHRcdCNpZmRlZiBXT1JMRF9VTklUU1xuXG5cdFx0XHRcdFx0dmFyeWluZyB2ZWM0IHdvcmxkUG9zO1xuXHRcdFx0XHRcdHZhcnlpbmcgdmVjMyB3b3JsZFN0YXJ0O1xuXHRcdFx0XHRcdHZhcnlpbmcgdmVjMyB3b3JsZEVuZDtcblxuXHRcdFx0XHRcdCNpZmRlZiBVU0VfREFTSFxuXG5cdFx0XHRcdFx0XHR2YXJ5aW5nIHZlYzIgdlV2O1xuXG5cdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0I2Vsc2VcblxuXHRcdFx0XHRcdHZhcnlpbmcgdmVjMiB2VXY7XG5cblx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0I2luY2x1ZGUgPGNvbW1vbj5cblx0XHRcdFx0I2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuXHRcdFx0XHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cblx0XHRcdFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PlxuXG5cdFx0XHRcdCNpZmRlZiBVU0VfQ09MT1Jcblx0XHRcdFx0XHQjaWZkZWYgVVNFX0xJTkVfQ09MT1JfQUxQSEFcblx0XHRcdFx0XHRcdHZhcnlpbmcgdmVjNCB2TGluZUNvbG9yO1xuXHRcdFx0XHRcdCNlbHNlXG5cdFx0XHRcdFx0XHR2YXJ5aW5nIHZlYzMgdkxpbmVDb2xvcjtcblx0XHRcdFx0XHQjZW5kaWZcblx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0dmVjMiBjbG9zZXN0TGluZVRvTGluZSh2ZWMzIHAxLCB2ZWMzIHAyLCB2ZWMzIHAzLCB2ZWMzIHA0KSB7XG5cblx0XHRcdFx0XHRmbG9hdCBtdWE7XG5cdFx0XHRcdFx0ZmxvYXQgbXViO1xuXG5cdFx0XHRcdFx0dmVjMyBwMTMgPSBwMSAtIHAzO1xuXHRcdFx0XHRcdHZlYzMgcDQzID0gcDQgLSBwMztcblxuXHRcdFx0XHRcdHZlYzMgcDIxID0gcDIgLSBwMTtcblxuXHRcdFx0XHRcdGZsb2F0IGQxMzQzID0gZG90KCBwMTMsIHA0MyApO1xuXHRcdFx0XHRcdGZsb2F0IGQ0MzIxID0gZG90KCBwNDMsIHAyMSApO1xuXHRcdFx0XHRcdGZsb2F0IGQxMzIxID0gZG90KCBwMTMsIHAyMSApO1xuXHRcdFx0XHRcdGZsb2F0IGQ0MzQzID0gZG90KCBwNDMsIHA0MyApO1xuXHRcdFx0XHRcdGZsb2F0IGQyMTIxID0gZG90KCBwMjEsIHAyMSApO1xuXG5cdFx0XHRcdFx0ZmxvYXQgZGVub20gPSBkMjEyMSAqIGQ0MzQzIC0gZDQzMjEgKiBkNDMyMTtcblxuXHRcdFx0XHRcdGZsb2F0IG51bWVyID0gZDEzNDMgKiBkNDMyMSAtIGQxMzIxICogZDQzNDM7XG5cblx0XHRcdFx0XHRtdWEgPSBudW1lciAvIGRlbm9tO1xuXHRcdFx0XHRcdG11YSA9IGNsYW1wKCBtdWEsIDAuMCwgMS4wICk7XG5cdFx0XHRcdFx0bXViID0gKCBkMTM0MyArIGQ0MzIxICogKCBtdWEgKSApIC8gZDQzNDM7XG5cdFx0XHRcdFx0bXViID0gY2xhbXAoIG11YiwgMC4wLCAxLjAgKTtcblxuXHRcdFx0XHRcdHJldHVybiB2ZWMyKCBtdWEsIG11YiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0XHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXG5cdFx0XHRcdFx0I2lmZGVmIFVTRV9EQVNIXG5cblx0XHRcdFx0XHRcdGlmICggdlV2LnkgPCAtIDEuMCB8fCB2VXYueSA+IDEuMCApIGRpc2NhcmQ7IC8vIGRpc2NhcmQgZW5kY2Fwc1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1vZCggdkxpbmVEaXN0YW5jZSArIGRhc2hPZmZzZXQsIGRhc2hTaXplICsgZ2FwU2l6ZSApID4gZGFzaFNpemUgKSBkaXNjYXJkOyAvLyB0b2RvIC0gRklYXG5cblx0XHRcdFx0XHQjZW5kaWZcblxuXHRcdFx0XHRcdGZsb2F0IGFscGhhID0gb3BhY2l0eTtcblxuXHRcdFx0XHRcdCNpZmRlZiBXT1JMRF9VTklUU1xuXG5cdFx0XHRcdFx0XHQvLyBGaW5kIHRoZSBjbG9zZXN0IHBvaW50cyBvbiB0aGUgdmlldyByYXkgYW5kIHRoZSBsaW5lIHNlZ21lbnRcblx0XHRcdFx0XHRcdHZlYzMgcmF5RW5kID0gbm9ybWFsaXplKCB3b3JsZFBvcy54eXogKSAqIDFlNTtcblx0XHRcdFx0XHRcdHZlYzMgbGluZURpciA9IHdvcmxkRW5kIC0gd29ybGRTdGFydDtcblx0XHRcdFx0XHRcdHZlYzIgcGFyYW1zID0gY2xvc2VzdExpbmVUb0xpbmUoIHdvcmxkU3RhcnQsIHdvcmxkRW5kLCB2ZWMzKCAwLjAsIDAuMCwgMC4wICksIHJheUVuZCApO1xuXG5cdFx0XHRcdFx0XHR2ZWMzIHAxID0gd29ybGRTdGFydCArIGxpbmVEaXIgKiBwYXJhbXMueDtcblx0XHRcdFx0XHRcdHZlYzMgcDIgPSByYXlFbmQgKiBwYXJhbXMueTtcblx0XHRcdFx0XHRcdHZlYzMgZGVsdGEgPSBwMSAtIHAyO1xuXHRcdFx0XHRcdFx0ZmxvYXQgbGVuID0gbGVuZ3RoKCBkZWx0YSApO1xuXHRcdFx0XHRcdFx0ZmxvYXQgbm9ybSA9IGxlbiAvIGxpbmV3aWR0aDtcblxuXHRcdFx0XHRcdFx0I2lmbmRlZiBVU0VfREFTSFxuXG5cdFx0XHRcdFx0XHRcdCNpZmRlZiBVU0VfQUxQSEFfVE9fQ09WRVJBR0VcblxuXHRcdFx0XHRcdFx0XHRcdGZsb2F0IGRub3JtID0gZndpZHRoKCBub3JtICk7XG5cdFx0XHRcdFx0XHRcdFx0YWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKCAwLjUgLSBkbm9ybSwgMC41ICsgZG5vcm0sIG5vcm0gKTtcblxuXHRcdFx0XHRcdFx0XHQjZWxzZVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub3JtID4gMC41ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNjYXJkO1xuXG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdCNlbmRpZlxuXG5cdFx0XHRcdFx0XHQjZW5kaWZcblxuXHRcdFx0XHRcdCNlbHNlXG5cblx0XHRcdFx0XHRcdCNpZmRlZiBVU0VfQUxQSEFfVE9fQ09WRVJBR0VcblxuXHRcdFx0XHRcdFx0XHQvLyBhcnRpZmFjdHMgYXBwZWFyIG9uIHNvbWUgaGFyZHdhcmUgaWYgYSBkZXJpdmF0aXZlIGlzIHRha2VuIHdpdGhpbiBhIGNvbmRpdGlvbmFsXG5cdFx0XHRcdFx0XHRcdGZsb2F0IGEgPSB2VXYueDtcblx0XHRcdFx0XHRcdFx0ZmxvYXQgYiA9ICggdlV2LnkgPiAwLjAgKSA/IHZVdi55IC0gMS4wIDogdlV2LnkgKyAxLjA7XG5cdFx0XHRcdFx0XHRcdGZsb2F0IGxlbjIgPSBhICogYSArIGIgKiBiO1xuXHRcdFx0XHRcdFx0XHRmbG9hdCBkbGVuID0gZndpZHRoKCBsZW4yICk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCBhYnMoIHZVdi55ICkgPiAxLjAgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRhbHBoYSA9IDEuMCAtIHNtb290aHN0ZXAoIDEuMCAtIGRsZW4sIDEuMCArIGRsZW4sIGxlbjIgKTtcblxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdCNlbHNlXG5cblx0XHRcdFx0XHRcdFx0aWYgKCBhYnMoIHZVdi55ICkgPiAxLjAgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRmbG9hdCBhID0gdlV2Lng7XG5cdFx0XHRcdFx0XHRcdFx0ZmxvYXQgYiA9ICggdlV2LnkgPiAwLjAgKSA/IHZVdi55IC0gMS4wIDogdlV2LnkgKyAxLjA7XG5cdFx0XHRcdFx0XHRcdFx0ZmxvYXQgbGVuMiA9IGEgKiBhICsgYiAqIGI7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIGxlbjIgPiAxLjAgKSBkaXNjYXJkO1xuXG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0XHQjZW5kaWZcblxuXHRcdFx0XHRcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgYWxwaGEgKTtcblx0XHRcdFx0XHQjaWZkZWYgVVNFX0NPTE9SXG5cdFx0XHRcdFx0XHQjaWZkZWYgVVNFX0xJTkVfQ09MT1JfQUxQSEFcblx0XHRcdFx0XHRcdFx0ZGlmZnVzZUNvbG9yICo9IHZMaW5lQ29sb3I7XG5cdFx0XHRcdFx0XHQjZWxzZVxuXHRcdFx0XHRcdFx0XHRkaWZmdXNlQ29sb3IucmdiICo9IHZMaW5lQ29sb3I7XG5cdFx0XHRcdFx0XHQjZW5kaWZcblx0XHRcdFx0XHQjZW5kaWZcblxuXHRcdFx0XHRcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblxuXHRcdFx0XHRcdGdsX0ZyYWdDb2xvciA9IGRpZmZ1c2VDb2xvcjtcblxuXHRcdFx0XHRcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0XHRcdFx0XHQjaW5jbHVkZSA8JHtwYXJzZUludChSRVZJU0lPTi5yZXBsYWNlKC9cXEQrL2csIFwiXCIpKSA+PSAxNTQgPyBcImNvbG9yc3BhY2VfZnJhZ21lbnRcIiA6IFwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxuXHRcdFx0XHRcdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdFx0XHRcdFx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cblx0XHRcdFx0fVxuXHRcdFx0YFxuICAgICAgKSxcbiAgICAgIGNsaXBwaW5nOiB0cnVlXG4gICAgICAvLyByZXF1aXJlZCBmb3IgY2xpcHBpbmcgc3VwcG9ydFxuICAgIH0pO1xuICAgIHRoaXMuaXNMaW5lTWF0ZXJpYWwgPSB0cnVlO1xuICAgIHRoaXMub25CZWZvcmVDb21waWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy50cmFuc3BhcmVudCkge1xuICAgICAgICB0aGlzLmRlZmluZXMuVVNFX0xJTkVfQ09MT1JfQUxQSEEgPSBcIjFcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX0xJTkVfQ09MT1JfQUxQSEE7XG4gICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICBjb2xvcjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLmRpZmZ1c2UudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVuaWZvcm1zLmRpZmZ1c2UudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHdvcmxkVW5pdHM6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCJXT1JMRF9VTklUU1wiIGluIHRoaXMuZGVmaW5lcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLldPUkxEX1VOSVRTID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5XT1JMRF9VTklUUztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsaW5ld2lkdGg6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5saW5ld2lkdGgudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVuaWZvcm1zLmxpbmV3aWR0aC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGFzaGVkOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIEJvb2xlYW4oXCJVU0VfREFTSFwiIGluIHRoaXMuZGVmaW5lcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgIGlmIChCb29sZWFuKHZhbHVlKSAhPT0gQm9vbGVhbihcIlVTRV9EQVNIXCIgaW4gdGhpcy5kZWZpbmVzKSkge1xuICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9EQVNIID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfREFTSDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkYXNoU2NhbGU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5kYXNoU2NhbGUudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVuaWZvcm1zLmRhc2hTY2FsZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGFzaFNpemU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5kYXNoU2l6ZS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHRoaXMudW5pZm9ybXMuZGFzaFNpemUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRhc2hPZmZzZXQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5kYXNoT2Zmc2V0LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy51bmlmb3Jtcy5kYXNoT2Zmc2V0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnYXBTaXplOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMuZ2FwU2l6ZS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHRoaXMudW5pZm9ybXMuZ2FwU2l6ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb3BhY2l0eToge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm9wYWNpdHkudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVuaWZvcm1zLm9wYWNpdHkudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlc29sdXRpb246IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWxwaGFUb0NvdmVyYWdlOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIEJvb2xlYW4oXCJVU0VfQUxQSEFfVE9fQ09WRVJBR0VcIiBpbiB0aGlzLmRlZmluZXMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKEJvb2xlYW4odmFsdWUpICE9PSBCb29sZWFuKFwiVVNFX0FMUEhBX1RPX0NPVkVSQUdFXCIgaW4gdGhpcy5kZWZpbmVzKSkge1xuICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9BTFBIQV9UT19DT1ZFUkFHRSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9BTFBIQV9UT19DT1ZFUkFHRTtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO1xuICB9XG59XG5leHBvcnQge1xuICBMaW5lTWF0ZXJpYWxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lTWF0ZXJpYWwuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/lines/LineMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/lines/LineSegments2.js":
/*!**********************************************************!*\
  !*** ./node_modules/three-stdlib/lines/LineSegments2.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineSegments2: () => (/* binding */ LineSegments2)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _LineSegmentsGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LineSegmentsGeometry.js */ \"(ssr)/./node_modules/three-stdlib/lines/LineSegmentsGeometry.js\");\n/* harmony import */ var _LineMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LineMaterial.js */ \"(ssr)/./node_modules/three-stdlib/lines/LineMaterial.js\");\n/* harmony import */ var _polyfill_uv1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_polyfill/uv1.js */ \"(ssr)/./node_modules/three-stdlib/_polyfill/uv1.js\");\n\n\n\n\nconst _viewport = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();\nconst _start = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _end = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _start4 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();\nconst _end4 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();\nconst _ssOrigin = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();\nconst _ssOrigin3 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _mvMatrix = new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\nconst _line = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\nconst _closestPoint = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _box = new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\nconst _sphere = new three__WEBPACK_IMPORTED_MODULE_0__.Sphere();\nconst _clipToWorldVector = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();\nlet _ray, _lineWidth;\nfunction getWorldSpaceHalfWidth(camera, distance, resolution) {\n  _clipToWorldVector.set(0, 0, -distance, 1).applyMatrix4(camera.projectionMatrix);\n  _clipToWorldVector.multiplyScalar(1 / _clipToWorldVector.w);\n  _clipToWorldVector.x = _lineWidth / resolution.width;\n  _clipToWorldVector.y = _lineWidth / resolution.height;\n  _clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse);\n  _clipToWorldVector.multiplyScalar(1 / _clipToWorldVector.w);\n  return Math.abs(Math.max(_clipToWorldVector.x, _clipToWorldVector.y));\n}\nfunction raycastWorldUnits(lineSegments, intersects) {\n  const matrixWorld = lineSegments.matrixWorld;\n  const geometry = lineSegments.geometry;\n  const instanceStart = geometry.attributes.instanceStart;\n  const instanceEnd = geometry.attributes.instanceEnd;\n  const segmentCount = Math.min(geometry.instanceCount, instanceStart.count);\n  for (let i = 0, l = segmentCount; i < l; i++) {\n    _line.start.fromBufferAttribute(instanceStart, i);\n    _line.end.fromBufferAttribute(instanceEnd, i);\n    _line.applyMatrix4(matrixWorld);\n    const pointOnLine = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const point = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    _ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine);\n    const isInside = point.distanceTo(pointOnLine) < _lineWidth * 0.5;\n    if (isInside) {\n      intersects.push({\n        point,\n        pointOnLine,\n        distance: _ray.origin.distanceTo(point),\n        object: lineSegments,\n        face: null,\n        faceIndex: i,\n        uv: null,\n        [_polyfill_uv1_js__WEBPACK_IMPORTED_MODULE_1__.UV1]: null\n      });\n    }\n  }\n}\nfunction raycastScreenSpace(lineSegments, camera, intersects) {\n  const projectionMatrix = camera.projectionMatrix;\n  const material = lineSegments.material;\n  const resolution = material.resolution;\n  const matrixWorld = lineSegments.matrixWorld;\n  const geometry = lineSegments.geometry;\n  const instanceStart = geometry.attributes.instanceStart;\n  const instanceEnd = geometry.attributes.instanceEnd;\n  const segmentCount = Math.min(geometry.instanceCount, instanceStart.count);\n  const near = -camera.near;\n  _ray.at(1, _ssOrigin);\n  _ssOrigin.w = 1;\n  _ssOrigin.applyMatrix4(camera.matrixWorldInverse);\n  _ssOrigin.applyMatrix4(projectionMatrix);\n  _ssOrigin.multiplyScalar(1 / _ssOrigin.w);\n  _ssOrigin.x *= resolution.x / 2;\n  _ssOrigin.y *= resolution.y / 2;\n  _ssOrigin.z = 0;\n  _ssOrigin3.copy(_ssOrigin);\n  _mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\n  for (let i = 0, l = segmentCount; i < l; i++) {\n    _start4.fromBufferAttribute(instanceStart, i);\n    _end4.fromBufferAttribute(instanceEnd, i);\n    _start4.w = 1;\n    _end4.w = 1;\n    _start4.applyMatrix4(_mvMatrix);\n    _end4.applyMatrix4(_mvMatrix);\n    const isBehindCameraNear = _start4.z > near && _end4.z > near;\n    if (isBehindCameraNear) {\n      continue;\n    }\n    if (_start4.z > near) {\n      const deltaDist = _start4.z - _end4.z;\n      const t = (_start4.z - near) / deltaDist;\n      _start4.lerp(_end4, t);\n    } else if (_end4.z > near) {\n      const deltaDist = _end4.z - _start4.z;\n      const t = (_end4.z - near) / deltaDist;\n      _end4.lerp(_start4, t);\n    }\n    _start4.applyMatrix4(projectionMatrix);\n    _end4.applyMatrix4(projectionMatrix);\n    _start4.multiplyScalar(1 / _start4.w);\n    _end4.multiplyScalar(1 / _end4.w);\n    _start4.x *= resolution.x / 2;\n    _start4.y *= resolution.y / 2;\n    _end4.x *= resolution.x / 2;\n    _end4.y *= resolution.y / 2;\n    _line.start.copy(_start4);\n    _line.start.z = 0;\n    _line.end.copy(_end4);\n    _line.end.z = 0;\n    const param = _line.closestPointToPointParameter(_ssOrigin3, true);\n    _line.at(param, _closestPoint);\n    const zPos = three__WEBPACK_IMPORTED_MODULE_0__.MathUtils.lerp(_start4.z, _end4.z, param);\n    const isInClipSpace = zPos >= -1 && zPos <= 1;\n    const isInside = _ssOrigin3.distanceTo(_closestPoint) < _lineWidth * 0.5;\n    if (isInClipSpace && isInside) {\n      _line.start.fromBufferAttribute(instanceStart, i);\n      _line.end.fromBufferAttribute(instanceEnd, i);\n      _line.start.applyMatrix4(matrixWorld);\n      _line.end.applyMatrix4(matrixWorld);\n      const pointOnLine = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n      const point = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n      _ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine);\n      intersects.push({\n        point,\n        pointOnLine,\n        distance: _ray.origin.distanceTo(point),\n        object: lineSegments,\n        face: null,\n        faceIndex: i,\n        uv: null,\n        [_polyfill_uv1_js__WEBPACK_IMPORTED_MODULE_1__.UV1]: null\n      });\n    }\n  }\n}\nclass LineSegments2 extends three__WEBPACK_IMPORTED_MODULE_0__.Mesh {\n  constructor(geometry = new _LineSegmentsGeometry_js__WEBPACK_IMPORTED_MODULE_2__.LineSegmentsGeometry(), material = new _LineMaterial_js__WEBPACK_IMPORTED_MODULE_3__.LineMaterial({ color: Math.random() * 16777215 })) {\n    super(geometry, material);\n    this.isLineSegments2 = true;\n    this.type = \"LineSegments2\";\n  }\n  // for backwards-compatibility, but could be a method of LineSegmentsGeometry...\n  computeLineDistances() {\n    const geometry = this.geometry;\n    const instanceStart = geometry.attributes.instanceStart;\n    const instanceEnd = geometry.attributes.instanceEnd;\n    const lineDistances = new Float32Array(2 * instanceStart.count);\n    for (let i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\n      _start.fromBufferAttribute(instanceStart, i);\n      _end.fromBufferAttribute(instanceEnd, i);\n      lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n      lineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end);\n    }\n    const instanceDistanceBuffer = new three__WEBPACK_IMPORTED_MODULE_0__.InstancedInterleavedBuffer(lineDistances, 2, 1);\n    geometry.setAttribute(\"instanceDistanceStart\", new three__WEBPACK_IMPORTED_MODULE_0__.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0));\n    geometry.setAttribute(\"instanceDistanceEnd\", new three__WEBPACK_IMPORTED_MODULE_0__.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1));\n    return this;\n  }\n  raycast(raycaster, intersects) {\n    const worldUnits = this.material.worldUnits;\n    const camera = raycaster.camera;\n    if (camera === null && !worldUnits) {\n      console.error(\n        'LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.'\n      );\n    }\n    const threshold = raycaster.params.Line2 !== void 0 ? raycaster.params.Line2.threshold || 0 : 0;\n    _ray = raycaster.ray;\n    const matrixWorld = this.matrixWorld;\n    const geometry = this.geometry;\n    const material = this.material;\n    _lineWidth = material.linewidth + threshold;\n    if (geometry.boundingSphere === null) {\n      geometry.computeBoundingSphere();\n    }\n    _sphere.copy(geometry.boundingSphere).applyMatrix4(matrixWorld);\n    let sphereMargin;\n    if (worldUnits) {\n      sphereMargin = _lineWidth * 0.5;\n    } else {\n      const distanceToSphere = Math.max(camera.near, _sphere.distanceToPoint(_ray.origin));\n      sphereMargin = getWorldSpaceHalfWidth(camera, distanceToSphere, material.resolution);\n    }\n    _sphere.radius += sphereMargin;\n    if (_ray.intersectsSphere(_sphere) === false) {\n      return;\n    }\n    if (geometry.boundingBox === null) {\n      geometry.computeBoundingBox();\n    }\n    _box.copy(geometry.boundingBox).applyMatrix4(matrixWorld);\n    let boxMargin;\n    if (worldUnits) {\n      boxMargin = _lineWidth * 0.5;\n    } else {\n      const distanceToBox = Math.max(camera.near, _box.distanceToPoint(_ray.origin));\n      boxMargin = getWorldSpaceHalfWidth(camera, distanceToBox, material.resolution);\n    }\n    _box.expandByScalar(boxMargin);\n    if (_ray.intersectsBox(_box) === false) {\n      return;\n    }\n    if (worldUnits) {\n      raycastWorldUnits(this, intersects);\n    } else {\n      raycastScreenSpace(this, camera, intersects);\n    }\n  }\n  onBeforeRender(renderer) {\n    const uniforms = this.material.uniforms;\n    if (uniforms && uniforms.resolution) {\n      renderer.getViewport(_viewport);\n      this.material.uniforms.resolution.value.set(_viewport.z, _viewport.w);\n    }\n  }\n}\n\n//# sourceMappingURL=LineSegments2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2xpbmVzL0xpbmVTZWdtZW50czIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0o7QUFDL0U7QUFDaEI7QUFDUDtBQUMxQyxzQkFBc0IsMENBQU87QUFDN0IsbUJBQW1CLDBDQUFPO0FBQzFCLGlCQUFpQiwwQ0FBTztBQUN4QixvQkFBb0IsMENBQU87QUFDM0Isa0JBQWtCLDBDQUFPO0FBQ3pCLHNCQUFzQiwwQ0FBTztBQUM3Qix1QkFBdUIsMENBQU87QUFDOUIsc0JBQXNCLDBDQUFPO0FBQzdCLGtCQUFrQix3Q0FBSztBQUN2QiwwQkFBMEIsMENBQU87QUFDakMsaUJBQWlCLHVDQUFJO0FBQ3JCLG9CQUFvQix5Q0FBTTtBQUMxQiwrQkFBK0IsMENBQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMENBQU87QUFDbkMsc0JBQXNCLDBDQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlEQUFHO0FBQ1osT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0Q0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwQ0FBTztBQUNyQyx3QkFBd0IsMENBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpREFBRztBQUNaLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUNBQUk7QUFDaEMsNkJBQTZCLDBFQUFvQixtQkFBbUIsMERBQVksR0FBRyxpQ0FBaUM7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsT0FBTztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDZEQUEwQjtBQUNqRSx1REFBdUQsNkRBQTBCO0FBQ2pGLHFEQUFxRCw2REFBMEI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NvbGFyLXN5c3RlbS1pbnRlcmFjdGl2ZS8uL25vZGVfbW9kdWxlcy90aHJlZS1zdGRsaWIvbGluZXMvTGluZVNlZ21lbnRzMi5qcz80NTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlY3RvcjQsIFZlY3RvcjMsIE1hdHJpeDQsIExpbmUzLCBCb3gzLCBTcGhlcmUsIE1lc2gsIEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyLCBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSwgTWF0aFV0aWxzIH0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBMaW5lU2VnbWVudHNHZW9tZXRyeSB9IGZyb20gXCIuL0xpbmVTZWdtZW50c0dlb21ldHJ5LmpzXCI7XG5pbXBvcnQgeyBMaW5lTWF0ZXJpYWwgfSBmcm9tIFwiLi9MaW5lTWF0ZXJpYWwuanNcIjtcbmltcG9ydCB7IFVWMSB9IGZyb20gXCIuLi9fcG9seWZpbGwvdXYxLmpzXCI7XG5jb25zdCBfdmlld3BvcnQgPSBuZXcgVmVjdG9yNCgpO1xuY29uc3QgX3N0YXJ0ID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9lbmQgPSBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3N0YXJ0NCA9IG5ldyBWZWN0b3I0KCk7XG5jb25zdCBfZW5kNCA9IG5ldyBWZWN0b3I0KCk7XG5jb25zdCBfc3NPcmlnaW4gPSBuZXcgVmVjdG9yNCgpO1xuY29uc3QgX3NzT3JpZ2luMyA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbXZNYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuY29uc3QgX2xpbmUgPSBuZXcgTGluZTMoKTtcbmNvbnN0IF9jbG9zZXN0UG9pbnQgPSBuZXcgVmVjdG9yMygpO1xuY29uc3QgX2JveCA9IG5ldyBCb3gzKCk7XG5jb25zdCBfc3BoZXJlID0gbmV3IFNwaGVyZSgpO1xuY29uc3QgX2NsaXBUb1dvcmxkVmVjdG9yID0gbmV3IFZlY3RvcjQoKTtcbmxldCBfcmF5LCBfbGluZVdpZHRoO1xuZnVuY3Rpb24gZ2V0V29ybGRTcGFjZUhhbGZXaWR0aChjYW1lcmEsIGRpc3RhbmNlLCByZXNvbHV0aW9uKSB7XG4gIF9jbGlwVG9Xb3JsZFZlY3Rvci5zZXQoMCwgMCwgLWRpc3RhbmNlLCAxKS5hcHBseU1hdHJpeDQoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO1xuICBfY2xpcFRvV29ybGRWZWN0b3IubXVsdGlwbHlTY2FsYXIoMSAvIF9jbGlwVG9Xb3JsZFZlY3Rvci53KTtcbiAgX2NsaXBUb1dvcmxkVmVjdG9yLnggPSBfbGluZVdpZHRoIC8gcmVzb2x1dGlvbi53aWR0aDtcbiAgX2NsaXBUb1dvcmxkVmVjdG9yLnkgPSBfbGluZVdpZHRoIC8gcmVzb2x1dGlvbi5oZWlnaHQ7XG4gIF9jbGlwVG9Xb3JsZFZlY3Rvci5hcHBseU1hdHJpeDQoY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKTtcbiAgX2NsaXBUb1dvcmxkVmVjdG9yLm11bHRpcGx5U2NhbGFyKDEgLyBfY2xpcFRvV29ybGRWZWN0b3Iudyk7XG4gIHJldHVybiBNYXRoLmFicyhNYXRoLm1heChfY2xpcFRvV29ybGRWZWN0b3IueCwgX2NsaXBUb1dvcmxkVmVjdG9yLnkpKTtcbn1cbmZ1bmN0aW9uIHJheWNhc3RXb3JsZFVuaXRzKGxpbmVTZWdtZW50cywgaW50ZXJzZWN0cykge1xuICBjb25zdCBtYXRyaXhXb3JsZCA9IGxpbmVTZWdtZW50cy5tYXRyaXhXb3JsZDtcbiAgY29uc3QgZ2VvbWV0cnkgPSBsaW5lU2VnbWVudHMuZ2VvbWV0cnk7XG4gIGNvbnN0IGluc3RhbmNlU3RhcnQgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLmluc3RhbmNlU3RhcnQ7XG4gIGNvbnN0IGluc3RhbmNlRW5kID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5pbnN0YW5jZUVuZDtcbiAgY29uc3Qgc2VnbWVudENvdW50ID0gTWF0aC5taW4oZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCwgaW5zdGFuY2VTdGFydC5jb3VudCk7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gc2VnbWVudENvdW50OyBpIDwgbDsgaSsrKSB7XG4gICAgX2xpbmUuc3RhcnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpbnN0YW5jZVN0YXJ0LCBpKTtcbiAgICBfbGluZS5lbmQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpbnN0YW5jZUVuZCwgaSk7XG4gICAgX2xpbmUuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtcbiAgICBjb25zdCBwb2ludE9uTGluZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgY29uc3QgcG9pbnQgPSBuZXcgVmVjdG9yMygpO1xuICAgIF9yYXkuZGlzdGFuY2VTcVRvU2VnbWVudChfbGluZS5zdGFydCwgX2xpbmUuZW5kLCBwb2ludCwgcG9pbnRPbkxpbmUpO1xuICAgIGNvbnN0IGlzSW5zaWRlID0gcG9pbnQuZGlzdGFuY2VUbyhwb2ludE9uTGluZSkgPCBfbGluZVdpZHRoICogMC41O1xuICAgIGlmIChpc0luc2lkZSkge1xuICAgICAgaW50ZXJzZWN0cy5wdXNoKHtcbiAgICAgICAgcG9pbnQsXG4gICAgICAgIHBvaW50T25MaW5lLFxuICAgICAgICBkaXN0YW5jZTogX3JheS5vcmlnaW4uZGlzdGFuY2VUbyhwb2ludCksXG4gICAgICAgIG9iamVjdDogbGluZVNlZ21lbnRzLFxuICAgICAgICBmYWNlOiBudWxsLFxuICAgICAgICBmYWNlSW5kZXg6IGksXG4gICAgICAgIHV2OiBudWxsLFxuICAgICAgICBbVVYxXTogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiByYXljYXN0U2NyZWVuU3BhY2UobGluZVNlZ21lbnRzLCBjYW1lcmEsIGludGVyc2VjdHMpIHtcbiAgY29uc3QgcHJvamVjdGlvbk1hdHJpeCA9IGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4O1xuICBjb25zdCBtYXRlcmlhbCA9IGxpbmVTZWdtZW50cy5tYXRlcmlhbDtcbiAgY29uc3QgcmVzb2x1dGlvbiA9IG1hdGVyaWFsLnJlc29sdXRpb247XG4gIGNvbnN0IG1hdHJpeFdvcmxkID0gbGluZVNlZ21lbnRzLm1hdHJpeFdvcmxkO1xuICBjb25zdCBnZW9tZXRyeSA9IGxpbmVTZWdtZW50cy5nZW9tZXRyeTtcbiAgY29uc3QgaW5zdGFuY2VTdGFydCA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuaW5zdGFuY2VTdGFydDtcbiAgY29uc3QgaW5zdGFuY2VFbmQgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLmluc3RhbmNlRW5kO1xuICBjb25zdCBzZWdtZW50Q291bnQgPSBNYXRoLm1pbihnZW9tZXRyeS5pbnN0YW5jZUNvdW50LCBpbnN0YW5jZVN0YXJ0LmNvdW50KTtcbiAgY29uc3QgbmVhciA9IC1jYW1lcmEubmVhcjtcbiAgX3JheS5hdCgxLCBfc3NPcmlnaW4pO1xuICBfc3NPcmlnaW4udyA9IDE7XG4gIF9zc09yaWdpbi5hcHBseU1hdHJpeDQoY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSk7XG4gIF9zc09yaWdpbi5hcHBseU1hdHJpeDQocHJvamVjdGlvbk1hdHJpeCk7XG4gIF9zc09yaWdpbi5tdWx0aXBseVNjYWxhcigxIC8gX3NzT3JpZ2luLncpO1xuICBfc3NPcmlnaW4ueCAqPSByZXNvbHV0aW9uLnggLyAyO1xuICBfc3NPcmlnaW4ueSAqPSByZXNvbHV0aW9uLnkgLyAyO1xuICBfc3NPcmlnaW4ueiA9IDA7XG4gIF9zc09yaWdpbjMuY29weShfc3NPcmlnaW4pO1xuICBfbXZNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlLCBtYXRyaXhXb3JsZCk7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gc2VnbWVudENvdW50OyBpIDwgbDsgaSsrKSB7XG4gICAgX3N0YXJ0NC5mcm9tQnVmZmVyQXR0cmlidXRlKGluc3RhbmNlU3RhcnQsIGkpO1xuICAgIF9lbmQ0LmZyb21CdWZmZXJBdHRyaWJ1dGUoaW5zdGFuY2VFbmQsIGkpO1xuICAgIF9zdGFydDQudyA9IDE7XG4gICAgX2VuZDQudyA9IDE7XG4gICAgX3N0YXJ0NC5hcHBseU1hdHJpeDQoX212TWF0cml4KTtcbiAgICBfZW5kNC5hcHBseU1hdHJpeDQoX212TWF0cml4KTtcbiAgICBjb25zdCBpc0JlaGluZENhbWVyYU5lYXIgPSBfc3RhcnQ0LnogPiBuZWFyICYmIF9lbmQ0LnogPiBuZWFyO1xuICAgIGlmIChpc0JlaGluZENhbWVyYU5lYXIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoX3N0YXJ0NC56ID4gbmVhcikge1xuICAgICAgY29uc3QgZGVsdGFEaXN0ID0gX3N0YXJ0NC56IC0gX2VuZDQuejtcbiAgICAgIGNvbnN0IHQgPSAoX3N0YXJ0NC56IC0gbmVhcikgLyBkZWx0YURpc3Q7XG4gICAgICBfc3RhcnQ0LmxlcnAoX2VuZDQsIHQpO1xuICAgIH0gZWxzZSBpZiAoX2VuZDQueiA+IG5lYXIpIHtcbiAgICAgIGNvbnN0IGRlbHRhRGlzdCA9IF9lbmQ0LnogLSBfc3RhcnQ0Lno7XG4gICAgICBjb25zdCB0ID0gKF9lbmQ0LnogLSBuZWFyKSAvIGRlbHRhRGlzdDtcbiAgICAgIF9lbmQ0LmxlcnAoX3N0YXJ0NCwgdCk7XG4gICAgfVxuICAgIF9zdGFydDQuYXBwbHlNYXRyaXg0KHByb2plY3Rpb25NYXRyaXgpO1xuICAgIF9lbmQ0LmFwcGx5TWF0cml4NChwcm9qZWN0aW9uTWF0cml4KTtcbiAgICBfc3RhcnQ0Lm11bHRpcGx5U2NhbGFyKDEgLyBfc3RhcnQ0LncpO1xuICAgIF9lbmQ0Lm11bHRpcGx5U2NhbGFyKDEgLyBfZW5kNC53KTtcbiAgICBfc3RhcnQ0LnggKj0gcmVzb2x1dGlvbi54IC8gMjtcbiAgICBfc3RhcnQ0LnkgKj0gcmVzb2x1dGlvbi55IC8gMjtcbiAgICBfZW5kNC54ICo9IHJlc29sdXRpb24ueCAvIDI7XG4gICAgX2VuZDQueSAqPSByZXNvbHV0aW9uLnkgLyAyO1xuICAgIF9saW5lLnN0YXJ0LmNvcHkoX3N0YXJ0NCk7XG4gICAgX2xpbmUuc3RhcnQueiA9IDA7XG4gICAgX2xpbmUuZW5kLmNvcHkoX2VuZDQpO1xuICAgIF9saW5lLmVuZC56ID0gMDtcbiAgICBjb25zdCBwYXJhbSA9IF9saW5lLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoX3NzT3JpZ2luMywgdHJ1ZSk7XG4gICAgX2xpbmUuYXQocGFyYW0sIF9jbG9zZXN0UG9pbnQpO1xuICAgIGNvbnN0IHpQb3MgPSBNYXRoVXRpbHMubGVycChfc3RhcnQ0LnosIF9lbmQ0LnosIHBhcmFtKTtcbiAgICBjb25zdCBpc0luQ2xpcFNwYWNlID0gelBvcyA+PSAtMSAmJiB6UG9zIDw9IDE7XG4gICAgY29uc3QgaXNJbnNpZGUgPSBfc3NPcmlnaW4zLmRpc3RhbmNlVG8oX2Nsb3Nlc3RQb2ludCkgPCBfbGluZVdpZHRoICogMC41O1xuICAgIGlmIChpc0luQ2xpcFNwYWNlICYmIGlzSW5zaWRlKSB7XG4gICAgICBfbGluZS5zdGFydC5mcm9tQnVmZmVyQXR0cmlidXRlKGluc3RhbmNlU3RhcnQsIGkpO1xuICAgICAgX2xpbmUuZW5kLmZyb21CdWZmZXJBdHRyaWJ1dGUoaW5zdGFuY2VFbmQsIGkpO1xuICAgICAgX2xpbmUuc3RhcnQuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtcbiAgICAgIF9saW5lLmVuZC5hcHBseU1hdHJpeDQobWF0cml4V29ybGQpO1xuICAgICAgY29uc3QgcG9pbnRPbkxpbmUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgY29uc3QgcG9pbnQgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgX3JheS5kaXN0YW5jZVNxVG9TZWdtZW50KF9saW5lLnN0YXJ0LCBfbGluZS5lbmQsIHBvaW50LCBwb2ludE9uTGluZSk7XG4gICAgICBpbnRlcnNlY3RzLnB1c2goe1xuICAgICAgICBwb2ludCxcbiAgICAgICAgcG9pbnRPbkxpbmUsXG4gICAgICAgIGRpc3RhbmNlOiBfcmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHBvaW50KSxcbiAgICAgICAgb2JqZWN0OiBsaW5lU2VnbWVudHMsXG4gICAgICAgIGZhY2U6IG51bGwsXG4gICAgICAgIGZhY2VJbmRleDogaSxcbiAgICAgICAgdXY6IG51bGwsXG4gICAgICAgIFtVVjFdOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIExpbmVTZWdtZW50czIgZXh0ZW5kcyBNZXNoIHtcbiAgY29uc3RydWN0b3IoZ2VvbWV0cnkgPSBuZXcgTGluZVNlZ21lbnRzR2VvbWV0cnkoKSwgbWF0ZXJpYWwgPSBuZXcgTGluZU1hdGVyaWFsKHsgY29sb3I6IE1hdGgucmFuZG9tKCkgKiAxNjc3NzIxNSB9KSkge1xuICAgIHN1cGVyKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgdGhpcy5pc0xpbmVTZWdtZW50czIgPSB0cnVlO1xuICAgIHRoaXMudHlwZSA9IFwiTGluZVNlZ21lbnRzMlwiO1xuICB9XG4gIC8vIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSwgYnV0IGNvdWxkIGJlIGEgbWV0aG9kIG9mIExpbmVTZWdtZW50c0dlb21ldHJ5Li4uXG4gIGNvbXB1dGVMaW5lRGlzdGFuY2VzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCBpbnN0YW5jZVN0YXJ0ID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5pbnN0YW5jZVN0YXJ0O1xuICAgIGNvbnN0IGluc3RhbmNlRW5kID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5pbnN0YW5jZUVuZDtcbiAgICBjb25zdCBsaW5lRGlzdGFuY2VzID0gbmV3IEZsb2F0MzJBcnJheSgyICogaW5zdGFuY2VTdGFydC5jb3VudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBsID0gaW5zdGFuY2VTdGFydC5jb3VudDsgaSA8IGw7IGkrKywgaiArPSAyKSB7XG4gICAgICBfc3RhcnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpbnN0YW5jZVN0YXJ0LCBpKTtcbiAgICAgIF9lbmQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpbnN0YW5jZUVuZCwgaSk7XG4gICAgICBsaW5lRGlzdGFuY2VzW2pdID0gaiA9PT0gMCA/IDAgOiBsaW5lRGlzdGFuY2VzW2ogLSAxXTtcbiAgICAgIGxpbmVEaXN0YW5jZXNbaiArIDFdID0gbGluZURpc3RhbmNlc1tqXSArIF9zdGFydC5kaXN0YW5jZVRvKF9lbmQpO1xuICAgIH1cbiAgICBjb25zdCBpbnN0YW5jZURpc3RhbmNlQnVmZmVyID0gbmV3IEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyKGxpbmVEaXN0YW5jZXMsIDIsIDEpO1xuICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZShcImluc3RhbmNlRGlzdGFuY2VTdGFydFwiLCBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoaW5zdGFuY2VEaXN0YW5jZUJ1ZmZlciwgMSwgMCkpO1xuICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZShcImluc3RhbmNlRGlzdGFuY2VFbmRcIiwgbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKGluc3RhbmNlRGlzdGFuY2VCdWZmZXIsIDEsIDEpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByYXljYXN0KHJheWNhc3RlciwgaW50ZXJzZWN0cykge1xuICAgIGNvbnN0IHdvcmxkVW5pdHMgPSB0aGlzLm1hdGVyaWFsLndvcmxkVW5pdHM7XG4gICAgY29uc3QgY2FtZXJhID0gcmF5Y2FzdGVyLmNhbWVyYTtcbiAgICBpZiAoY2FtZXJhID09PSBudWxsICYmICF3b3JsZFVuaXRzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnTGluZVNlZ21lbnRzMjogXCJSYXljYXN0ZXIuY2FtZXJhXCIgbmVlZHMgdG8gYmUgc2V0IGluIG9yZGVyIHRvIHJheWNhc3QgYWdhaW5zdCBMaW5lU2VnbWVudHMyIHdoaWxlIHdvcmxkVW5pdHMgaXMgc2V0IHRvIGZhbHNlLidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHRocmVzaG9sZCA9IHJheWNhc3Rlci5wYXJhbXMuTGluZTIgIT09IHZvaWQgMCA/IHJheWNhc3Rlci5wYXJhbXMuTGluZTIudGhyZXNob2xkIHx8IDAgOiAwO1xuICAgIF9yYXkgPSByYXljYXN0ZXIucmF5O1xuICAgIGNvbnN0IG1hdHJpeFdvcmxkID0gdGhpcy5tYXRyaXhXb3JsZDtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuICAgIF9saW5lV2lkdGggPSBtYXRlcmlhbC5saW5ld2lkdGggKyB0aHJlc2hvbGQ7XG4gICAgaWYgKGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlID09PSBudWxsKSB7XG4gICAgICBnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcbiAgICB9XG4gICAgX3NwaGVyZS5jb3B5KGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlKS5hcHBseU1hdHJpeDQobWF0cml4V29ybGQpO1xuICAgIGxldCBzcGhlcmVNYXJnaW47XG4gICAgaWYgKHdvcmxkVW5pdHMpIHtcbiAgICAgIHNwaGVyZU1hcmdpbiA9IF9saW5lV2lkdGggKiAwLjU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlVG9TcGhlcmUgPSBNYXRoLm1heChjYW1lcmEubmVhciwgX3NwaGVyZS5kaXN0YW5jZVRvUG9pbnQoX3JheS5vcmlnaW4pKTtcbiAgICAgIHNwaGVyZU1hcmdpbiA9IGdldFdvcmxkU3BhY2VIYWxmV2lkdGgoY2FtZXJhLCBkaXN0YW5jZVRvU3BoZXJlLCBtYXRlcmlhbC5yZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgX3NwaGVyZS5yYWRpdXMgKz0gc3BoZXJlTWFyZ2luO1xuICAgIGlmIChfcmF5LmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChnZW9tZXRyeS5ib3VuZGluZ0JveCA9PT0gbnVsbCkge1xuICAgICAgZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG4gICAgfVxuICAgIF9ib3guY29weShnZW9tZXRyeS5ib3VuZGluZ0JveCkuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtcbiAgICBsZXQgYm94TWFyZ2luO1xuICAgIGlmICh3b3JsZFVuaXRzKSB7XG4gICAgICBib3hNYXJnaW4gPSBfbGluZVdpZHRoICogMC41O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXN0YW5jZVRvQm94ID0gTWF0aC5tYXgoY2FtZXJhLm5lYXIsIF9ib3guZGlzdGFuY2VUb1BvaW50KF9yYXkub3JpZ2luKSk7XG4gICAgICBib3hNYXJnaW4gPSBnZXRXb3JsZFNwYWNlSGFsZldpZHRoKGNhbWVyYSwgZGlzdGFuY2VUb0JveCwgbWF0ZXJpYWwucmVzb2x1dGlvbik7XG4gICAgfVxuICAgIF9ib3guZXhwYW5kQnlTY2FsYXIoYm94TWFyZ2luKTtcbiAgICBpZiAoX3JheS5pbnRlcnNlY3RzQm94KF9ib3gpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAod29ybGRVbml0cykge1xuICAgICAgcmF5Y2FzdFdvcmxkVW5pdHModGhpcywgaW50ZXJzZWN0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJheWNhc3RTY3JlZW5TcGFjZSh0aGlzLCBjYW1lcmEsIGludGVyc2VjdHMpO1xuICAgIH1cbiAgfVxuICBvbkJlZm9yZVJlbmRlcihyZW5kZXJlcikge1xuICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5tYXRlcmlhbC51bmlmb3JtcztcbiAgICBpZiAodW5pZm9ybXMgJiYgdW5pZm9ybXMucmVzb2x1dGlvbikge1xuICAgICAgcmVuZGVyZXIuZ2V0Vmlld3BvcnQoX3ZpZXdwb3J0KTtcbiAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS5zZXQoX3ZpZXdwb3J0LnosIF92aWV3cG9ydC53KTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCB7XG4gIExpbmVTZWdtZW50czJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lU2VnbWVudHMyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/lines/LineSegments2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/lines/LineSegmentsGeometry.js":
/*!*****************************************************************!*\
  !*** ./node_modules/three-stdlib/lines/LineSegmentsGeometry.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineSegmentsGeometry: () => (/* binding */ LineSegmentsGeometry)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst _box = new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\nconst _vector = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nclass LineSegmentsGeometry extends three__WEBPACK_IMPORTED_MODULE_0__.InstancedBufferGeometry {\n  constructor() {\n    super();\n    this.isLineSegmentsGeometry = true;\n    this.type = \"LineSegmentsGeometry\";\n    const positions = [-1, 2, 0, 1, 2, 0, -1, 1, 0, 1, 1, 0, -1, 0, 0, 1, 0, 0, -1, -1, 0, 1, -1, 0];\n    const uvs = [-1, 2, 1, 2, -1, 1, 1, 1, -1, -1, 1, -1, -1, -2, 1, -2];\n    const index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5];\n    this.setIndex(index);\n    this.setAttribute(\"position\", new three__WEBPACK_IMPORTED_MODULE_0__.Float32BufferAttribute(positions, 3));\n    this.setAttribute(\"uv\", new three__WEBPACK_IMPORTED_MODULE_0__.Float32BufferAttribute(uvs, 2));\n  }\n  applyMatrix4(matrix) {\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n    if (start !== void 0) {\n      start.applyMatrix4(matrix);\n      end.applyMatrix4(matrix);\n      start.needsUpdate = true;\n    }\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n    return this;\n  }\n  setPositions(array) {\n    let lineSegments;\n    if (array instanceof Float32Array) {\n      lineSegments = array;\n    } else if (Array.isArray(array)) {\n      lineSegments = new Float32Array(array);\n    }\n    const instanceBuffer = new three__WEBPACK_IMPORTED_MODULE_0__.InstancedInterleavedBuffer(lineSegments, 6, 1);\n    this.setAttribute(\"instanceStart\", new three__WEBPACK_IMPORTED_MODULE_0__.InterleavedBufferAttribute(instanceBuffer, 3, 0));\n    this.setAttribute(\"instanceEnd\", new three__WEBPACK_IMPORTED_MODULE_0__.InterleavedBufferAttribute(instanceBuffer, 3, 3));\n    this.computeBoundingBox();\n    this.computeBoundingSphere();\n    return this;\n  }\n  setColors(array, itemSize = 3) {\n    let colors;\n    if (array instanceof Float32Array) {\n      colors = array;\n    } else if (Array.isArray(array)) {\n      colors = new Float32Array(array);\n    }\n    const instanceColorBuffer = new three__WEBPACK_IMPORTED_MODULE_0__.InstancedInterleavedBuffer(colors, itemSize * 2, 1);\n    this.setAttribute(\"instanceColorStart\", new three__WEBPACK_IMPORTED_MODULE_0__.InterleavedBufferAttribute(instanceColorBuffer, itemSize, 0));\n    this.setAttribute(\"instanceColorEnd\", new three__WEBPACK_IMPORTED_MODULE_0__.InterleavedBufferAttribute(instanceColorBuffer, itemSize, itemSize));\n    return this;\n  }\n  fromWireframeGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n  fromEdgesGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n  fromMesh(mesh) {\n    this.fromWireframeGeometry(new three__WEBPACK_IMPORTED_MODULE_0__.WireframeGeometry(mesh.geometry));\n    return this;\n  }\n  fromLineSegments(lineSegments) {\n    const geometry = lineSegments.geometry;\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n  computeBoundingBox() {\n    if (this.boundingBox === null) {\n      this.boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\n    }\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n    if (start !== void 0 && end !== void 0) {\n      this.boundingBox.setFromBufferAttribute(start);\n      _box.setFromBufferAttribute(end);\n      this.boundingBox.union(_box);\n    }\n  }\n  computeBoundingSphere() {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new three__WEBPACK_IMPORTED_MODULE_0__.Sphere();\n    }\n    if (this.boundingBox === null) {\n      this.computeBoundingBox();\n    }\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n    if (start !== void 0 && end !== void 0) {\n      const center = this.boundingSphere.center;\n      this.boundingBox.getCenter(center);\n      let maxRadiusSq = 0;\n      for (let i = 0, il = start.count; i < il; i++) {\n        _vector.fromBufferAttribute(start, i);\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\n        _vector.fromBufferAttribute(end, i);\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\n      }\n      this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n      if (isNaN(this.boundingSphere.radius)) {\n        console.error(\n          \"THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.\",\n          this\n        );\n      }\n    }\n  }\n  toJSON() {\n  }\n  applyMatrix(matrix) {\n    console.warn(\"THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().\");\n    return this.applyMatrix4(matrix);\n  }\n}\n\n//# sourceMappingURL=LineSegmentsGeometry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2xpbmVzL0xpbmVTZWdtZW50c0dlb21ldHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBLO0FBQzFLLGlCQUFpQix1Q0FBSTtBQUNyQixvQkFBb0IsMENBQU87QUFDM0IsbUNBQW1DLDBEQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHlEQUFzQjtBQUM1RCxnQ0FBZ0MseURBQXNCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsK0JBQStCLDZEQUEwQjtBQUN6RCwyQ0FBMkMsNkRBQTBCO0FBQ3JFLHlDQUF5Qyw2REFBMEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0Esb0NBQW9DLDZEQUEwQjtBQUM5RCxnREFBZ0QsNkRBQTBCO0FBQzFFLDhDQUE4Qyw2REFBMEI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvREFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVDQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseUNBQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29sYXItc3lzdGVtLWludGVyYWN0aXZlLy4vbm9kZV9tb2R1bGVzL3RocmVlLXN0ZGxpYi9saW5lcy9MaW5lU2VnbWVudHNHZW9tZXRyeS5qcz8wMzQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJveDMsIFZlY3RvcjMsIEluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5LCBGbG9hdDMyQnVmZmVyQXR0cmlidXRlLCBJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlciwgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUsIFdpcmVmcmFtZUdlb21ldHJ5LCBTcGhlcmUgfSBmcm9tIFwidGhyZWVcIjtcbmNvbnN0IF9ib3ggPSBuZXcgQm94MygpO1xuY29uc3QgX3ZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5jbGFzcyBMaW5lU2VnbWVudHNHZW9tZXRyeSBleHRlbmRzIEluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlzTGluZVNlZ21lbnRzR2VvbWV0cnkgPSB0cnVlO1xuICAgIHRoaXMudHlwZSA9IFwiTGluZVNlZ21lbnRzR2VvbWV0cnlcIjtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBbLTEsIDIsIDAsIDEsIDIsIDAsIC0xLCAxLCAwLCAxLCAxLCAwLCAtMSwgMCwgMCwgMSwgMCwgMCwgLTEsIC0xLCAwLCAxLCAtMSwgMF07XG4gICAgY29uc3QgdXZzID0gWy0xLCAyLCAxLCAyLCAtMSwgMSwgMSwgMSwgLTEsIC0xLCAxLCAtMSwgLTEsIC0yLCAxLCAtMl07XG4gICAgY29uc3QgaW5kZXggPSBbMCwgMiwgMSwgMiwgMywgMSwgMiwgNCwgMywgNCwgNSwgMywgNCwgNiwgNSwgNiwgNywgNV07XG4gICAgdGhpcy5zZXRJbmRleChpbmRleCk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLCBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsIDMpKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywgMikpO1xuICB9XG4gIGFwcGx5TWF0cml4NChtYXRyaXgpIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuYXR0cmlidXRlcy5pbnN0YW5jZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHRoaXMuYXR0cmlidXRlcy5pbnN0YW5jZUVuZDtcbiAgICBpZiAoc3RhcnQgIT09IHZvaWQgMCkge1xuICAgICAgc3RhcnQuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgICBlbmQuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgICBzdGFydC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmJvdW5kaW5nQm94ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5ib3VuZGluZ1NwaGVyZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0UG9zaXRpb25zKGFycmF5KSB7XG4gICAgbGV0IGxpbmVTZWdtZW50cztcbiAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgIGxpbmVTZWdtZW50cyA9IGFycmF5O1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAgIGxpbmVTZWdtZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkoYXJyYXkpO1xuICAgIH1cbiAgICBjb25zdCBpbnN0YW5jZUJ1ZmZlciA9IG5ldyBJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcihsaW5lU2VnbWVudHMsIDYsIDEpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiaW5zdGFuY2VTdGFydFwiLCBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoaW5zdGFuY2VCdWZmZXIsIDMsIDApKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImluc3RhbmNlRW5kXCIsIG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShpbnN0YW5jZUJ1ZmZlciwgMywgMykpO1xuICAgIHRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG4gICAgdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzZXRDb2xvcnMoYXJyYXksIGl0ZW1TaXplID0gMykge1xuICAgIGxldCBjb2xvcnM7XG4gICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICBjb2xvcnMgPSBhcnJheTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICBjb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KGFycmF5KTtcbiAgICB9XG4gICAgY29uc3QgaW5zdGFuY2VDb2xvckJ1ZmZlciA9IG5ldyBJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcihjb2xvcnMsIGl0ZW1TaXplICogMiwgMSk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJpbnN0YW5jZUNvbG9yU3RhcnRcIiwgbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKGluc3RhbmNlQ29sb3JCdWZmZXIsIGl0ZW1TaXplLCAwKSk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJpbnN0YW5jZUNvbG9yRW5kXCIsIG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShpbnN0YW5jZUNvbG9yQnVmZmVyLCBpdGVtU2l6ZSwgaXRlbVNpemUpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBmcm9tV2lyZWZyYW1lR2VvbWV0cnkoZ2VvbWV0cnkpIHtcbiAgICB0aGlzLnNldFBvc2l0aW9ucyhnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBmcm9tRWRnZXNHZW9tZXRyeShnZW9tZXRyeSkge1xuICAgIHRoaXMuc2V0UG9zaXRpb25zKGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGZyb21NZXNoKG1lc2gpIHtcbiAgICB0aGlzLmZyb21XaXJlZnJhbWVHZW9tZXRyeShuZXcgV2lyZWZyYW1lR2VvbWV0cnkobWVzaC5nZW9tZXRyeSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGZyb21MaW5lU2VnbWVudHMobGluZVNlZ21lbnRzKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBsaW5lU2VnbWVudHMuZ2VvbWV0cnk7XG4gICAgdGhpcy5zZXRQb3NpdGlvbnMoZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY29tcHV0ZUJvdW5kaW5nQm94KCkge1xuICAgIGlmICh0aGlzLmJvdW5kaW5nQm94ID09PSBudWxsKSB7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94ID0gbmV3IEJveDMoKTtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmF0dHJpYnV0ZXMuaW5zdGFuY2VTdGFydDtcbiAgICBjb25zdCBlbmQgPSB0aGlzLmF0dHJpYnV0ZXMuaW5zdGFuY2VFbmQ7XG4gICAgaWYgKHN0YXJ0ICE9PSB2b2lkIDAgJiYgZW5kICE9PSB2b2lkIDApIHtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3guc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShzdGFydCk7XG4gICAgICBfYm94LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZW5kKTtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3gudW5pb24oX2JveCk7XG4gICAgfVxuICB9XG4gIGNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpIHtcbiAgICBpZiAodGhpcy5ib3VuZGluZ1NwaGVyZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZSA9IG5ldyBTcGhlcmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYm91bmRpbmdCb3ggPT09IG51bGwpIHtcbiAgICAgIHRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5hdHRyaWJ1dGVzLmluc3RhbmNlU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdGhpcy5hdHRyaWJ1dGVzLmluc3RhbmNlRW5kO1xuICAgIGlmIChzdGFydCAhPT0gdm9pZCAwICYmIGVuZCAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcjtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKGNlbnRlcik7XG4gICAgICBsZXQgbWF4UmFkaXVzU3EgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gc3RhcnQuY291bnQ7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIF92ZWN0b3IuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzdGFydCwgaSk7XG4gICAgICAgIG1heFJhZGl1c1NxID0gTWF0aC5tYXgobWF4UmFkaXVzU3EsIGNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChfdmVjdG9yKSk7XG4gICAgICAgIF92ZWN0b3IuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlbmQsIGkpO1xuICAgICAgICBtYXhSYWRpdXNTcSA9IE1hdGgubWF4KG1heFJhZGl1c1NxLCBjZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoX3ZlY3RvcikpO1xuICAgICAgfVxuICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMgPSBNYXRoLnNxcnQobWF4UmFkaXVzU3EpO1xuICAgICAgaWYgKGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVEhSRUUuTGluZVNlZ21lbnRzR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSBpbnN0YW5jZWQgcG9zaXRpb24gZGF0YSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLlwiLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdG9KU09OKCkge1xuICB9XG4gIGFwcGx5TWF0cml4KG1hdHJpeCkge1xuICAgIGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmVTZWdtZW50c0dlb21ldHJ5OiBhcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gYXBwbHlNYXRyaXg0KCkuXCIpO1xuICAgIHJldHVybiB0aGlzLmFwcGx5TWF0cml4NChtYXRyaXgpO1xuICB9XG59XG5leHBvcnQge1xuICBMaW5lU2VnbWVudHNHZW9tZXRyeVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmVTZWdtZW50c0dlb21ldHJ5LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/lines/LineSegmentsGeometry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/misc/WebGL.js":
/*!*************************************************!*\
  !*** ./node_modules/three-stdlib/misc/WebGL.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   getWebGL2ErrorMessage: () => (/* binding */ getWebGL2ErrorMessage),\n/* harmony export */   getWebGLErrorMessage: () => (/* binding */ getWebGLErrorMessage),\n/* harmony export */   isWebGL2Available: () => (/* binding */ isWebGL2Available),\n/* harmony export */   isWebGLAvailable: () => (/* binding */ isWebGLAvailable)\n/* harmony export */ });\nlet webGLAvailable, webGL2Available;\nfunction isWebGLAvailable() {\n  var _a;\n  if (webGLAvailable !== void 0)\n    return webGLAvailable;\n  try {\n    let gl;\n    const canvas = document.createElement(\"canvas\");\n    webGLAvailable = !!(window.WebGLRenderingContext && (gl = canvas.getContext(\"webgl\")));\n    if (gl)\n      (_a = gl.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _a.loseContext();\n    return webGLAvailable;\n  } catch (e) {\n    return webGLAvailable = false;\n  }\n}\nfunction isWebGL2Available() {\n  var _a;\n  if (webGL2Available !== void 0)\n    return webGL2Available;\n  try {\n    let gl;\n    const canvas = document.createElement(\"canvas\");\n    webGL2Available = !!(window.WebGL2RenderingContext && (gl = canvas.getContext(\"webgl2\")));\n    if (gl)\n      (_a = gl.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _a.loseContext();\n    return webGL2Available;\n  } catch (e) {\n    return webGL2Available = false;\n  }\n}\nfunction getWebGLErrorMessage() {\n  return getErrorMessage(1);\n}\nfunction getWebGL2ErrorMessage() {\n  return getErrorMessage(2);\n}\nfunction getErrorMessage(version) {\n  const names = {\n    1: \"WebGL\",\n    2: \"WebGL 2\"\n  };\n  const contexts = {\n    1: window.WebGLRenderingContext,\n    2: window.WebGL2RenderingContext\n  };\n  const element = document.createElement(\"div\");\n  element.id = \"webglmessage\";\n  element.style.fontFamily = \"monospace\";\n  element.style.fontSize = \"13px\";\n  element.style.fontWeight = \"normal\";\n  element.style.textAlign = \"center\";\n  element.style.background = \"#fff\";\n  element.style.color = \"#000\";\n  element.style.padding = \"1.5em\";\n  element.style.width = \"400px\";\n  element.style.margin = \"5em auto 0\";\n  let message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\n  if (contexts[version]) {\n    message = message.replace(\"$0\", \"graphics card\");\n  } else {\n    message = message.replace(\"$0\", \"browser\");\n  }\n  message = message.replace(\"$1\", names[version]);\n  element.innerHTML = message;\n  return element;\n}\n\n//# sourceMappingURL=WebGL.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL21pc2MvV2ViR0wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb2xhci1zeXN0ZW0taW50ZXJhY3RpdmUvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL21pc2MvV2ViR0wuanM/MDEzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgd2ViR0xBdmFpbGFibGUsIHdlYkdMMkF2YWlsYWJsZTtcbmZ1bmN0aW9uIGlzV2ViR0xBdmFpbGFibGUoKSB7XG4gIHZhciBfYTtcbiAgaWYgKHdlYkdMQXZhaWxhYmxlICE9PSB2b2lkIDApXG4gICAgcmV0dXJuIHdlYkdMQXZhaWxhYmxlO1xuICB0cnkge1xuICAgIGxldCBnbDtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIHdlYkdMQXZhaWxhYmxlID0gISEod2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJiAoZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpKSk7XG4gICAgaWYgKGdsKVxuICAgICAgKF9hID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2EubG9zZUNvbnRleHQoKTtcbiAgICByZXR1cm4gd2ViR0xBdmFpbGFibGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2ViR0xBdmFpbGFibGUgPSBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gaXNXZWJHTDJBdmFpbGFibGUoKSB7XG4gIHZhciBfYTtcbiAgaWYgKHdlYkdMMkF2YWlsYWJsZSAhPT0gdm9pZCAwKVxuICAgIHJldHVybiB3ZWJHTDJBdmFpbGFibGU7XG4gIHRyeSB7XG4gICAgbGV0IGdsO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgd2ViR0wyQXZhaWxhYmxlID0gISEod2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQgJiYgKGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIikpKTtcbiAgICBpZiAoZ2wpXG4gICAgICAoX2EgPSBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sb3NlQ29udGV4dCgpO1xuICAgIHJldHVybiB3ZWJHTDJBdmFpbGFibGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2ViR0wyQXZhaWxhYmxlID0gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFdlYkdMRXJyb3JNZXNzYWdlKCkge1xuICByZXR1cm4gZ2V0RXJyb3JNZXNzYWdlKDEpO1xufVxuZnVuY3Rpb24gZ2V0V2ViR0wyRXJyb3JNZXNzYWdlKCkge1xuICByZXR1cm4gZ2V0RXJyb3JNZXNzYWdlKDIpO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHZlcnNpb24pIHtcbiAgY29uc3QgbmFtZXMgPSB7XG4gICAgMTogXCJXZWJHTFwiLFxuICAgIDI6IFwiV2ViR0wgMlwiXG4gIH07XG4gIGNvbnN0IGNvbnRleHRzID0ge1xuICAgIDE6IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQsXG4gICAgMjogd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHRcbiAgfTtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVsZW1lbnQuaWQgPSBcIndlYmdsbWVzc2FnZVwiO1xuICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSBcIm1vbm9zcGFjZVwiO1xuICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gXCIxM3B4XCI7XG4gIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9IFwibm9ybWFsXCI7XG4gIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gXCIjZmZmXCI7XG4gIGVsZW1lbnQuc3R5bGUuY29sb3IgPSBcIiMwMDBcIjtcbiAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXCIxLjVlbVwiO1xuICBlbGVtZW50LnN0eWxlLndpZHRoID0gXCI0MDBweFwiO1xuICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9IFwiNWVtIGF1dG8gMFwiO1xuICBsZXQgbWVzc2FnZSA9ICdZb3VyICQwIGRvZXMgbm90IHNlZW0gdG8gc3VwcG9ydCA8YSBocmVmPVwiaHR0cDovL2tocm9ub3Mub3JnL3dlYmdsL3dpa2kvR2V0dGluZ19hX1dlYkdMX0ltcGxlbWVudGF0aW9uXCIgc3R5bGU9XCJjb2xvcjojMDAwXCI+JDE8L2E+JztcbiAgaWYgKGNvbnRleHRzW3ZlcnNpb25dKSB7XG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZShcIiQwXCIsIFwiZ3JhcGhpY3MgY2FyZFwiKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKFwiJDBcIiwgXCJicm93c2VyXCIpO1xuICB9XG4gIG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoXCIkMVwiLCBuYW1lc1t2ZXJzaW9uXSk7XG4gIGVsZW1lbnQuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5leHBvcnQge1xuICBnZXRFcnJvck1lc3NhZ2UsXG4gIGdldFdlYkdMMkVycm9yTWVzc2FnZSxcbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2UsXG4gIGlzV2ViR0wyQXZhaWxhYmxlLFxuICBpc1dlYkdMQXZhaWxhYmxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0wuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/misc/WebGL.js\n");

/***/ })

};
;