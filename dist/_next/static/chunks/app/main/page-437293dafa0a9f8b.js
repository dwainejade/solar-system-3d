(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{4466:function(e,t,r){Promise.resolve().then(r.bind(r,4009))},4009:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7437),s=r(9362),a=r(2265),o=r(7871),i=r(3719),u=r(8384),c=r(2079),l=r(8942),p=r(5375),m=r(9373),h=r(4823),d=r(2325),x=r(7776),g=r(878),j=r(1675),f=r(625),y=r(1577),M=r(1045);let _=(0,a.forwardRef)((e,t)=>{let{name:r="Earth",textures:s}=e,{planetsData:o}=(0,u.d2)(),i={...o[r]},{mass:p,radius:_,orbitalOrigin:P,orbitalRadius:k,orbitalSpeed:v,orbitalPeriod:S,orbitalInclination:R,axialTilt:T,rotationPeriod:w,surfaceTemp:E,color:b,gravity:C,initialOrbitalAngle:Z,interestPoints:z}=i,{simSpeed:I,updateRotationCount:D,incrementDate:B,orbitPaths:O,toggleDetailsMenu:N}=(0,u.ZP)(),{planetAngles:U,updatePlanetPosition:Y,selectedPlanet:G,setSelectedPlanet:A,displayLabels:F,setSelectedMoon:X}=(0,u.d2)(),{isSurfaceCameraActive:V,satelliteCamera:H,toggleSatelliteCamera:W}=(0,u.g5)(),q=t||(0,a.useRef)(),J=(0,a.useRef)(U[r]||0),K=(0,a.useRef)(),[L,Q]=(0,a.useState)(!1),$=k*(V?1e-4:c.Hm),ee=_*c.YB;c.E_;let et=G&&G.name===r,er=et?64:32,[en,es]=(0,a.useState)(!1),ea=(0,a.useRef)({x:0,y:0}),eo=(0,a.useRef)(),ei=(0,a.useRef)(),[eu,ec]=(0,a.useState)(ee),el=(0,a.useRef)(1),[ep,em]=(0,a.useState)(!1);(0,m.A)((e,t)=>{let n=t*I;0===J.current?J.current=Math.PI/180*Z:J.current-=2*Math.PI/(86400*S)*n;let s=$*Math.cos(J.current),a=$*Math.sin(J.current);if(q.current){let t=Math.sin(Math.PI/180*R)*$*Math.sin(J.current);if(q.current.position.set(s,t,a),Y(r,{x:s,y:t,z:a}),w){let e=2*Math.PI/(3600*w)*n,t=new x.Vector3(0,1,0);eo.current.rotateOnAxis(t,e),q.current.rotation.y>=2*Math.PI&&et&&(q.current.rotation.y%=2*Math.PI),ei.current&&(ei.current.rotation.y+=e),K.current&&(K.current.rotation.y+=1.2*e)}let o=q.current.position.distanceTo(e.camera.position);o/100<=ee?ec(ee):ec(o/100),em(o<500),el.current&&(el.current=.02*o)}}),(0,a.useEffect)(()=>{eo.current&&(eo.current.rotation.order="YXZ",eo.current.rotation.y=0,eo.current.rotation.x=x.MathUtils.degToRad(T))},[T,G]),(0,a.useEffect)(()=>{let e=new Date(2023,0,1,1,45,30),t=e.getHours(),r=e.getMinutes(),n=e.getSeconds();eo.current&&(eo.current.rotation.order="YXZ",eo.current.rotation.y=(3600*t+60*r+n)/(3600*w)*2*Math.PI,eo.current.rotation.x=x.MathUtils.degToRad(T))},[G]);let eh=e=>{e.stopPropagation(),!en&&(N(!0),et||(A(i),X(null)))},ed=e=>{e.stopPropagation(),es(!1),ea.current={x:e.clientX,y:e.clientY}},ex=e=>{Math.sqrt(Math.pow(e.clientX-ea.current.x,2)+Math.pow(e.clientY-ea.current.y,2))>5&&es(!0)},eg=e=>{es(!1)},[ej,ef]=(0,a.useState)(!1),ey=e=>{e.stopPropagation(),document.body.style.cursor="pointer",ef(!0)},eM=e=>{e.stopPropagation(),document.body.style.cursor="auto",ef(!1)},e_=(0,m.D)(x.TextureLoader,"../assets/saturn/saturn-rings.png");e_.wrapS=x.RepeatWrapping,e_.wrapT=x.ClampToEdgeWrapping;let eP=l._d[r]||[];return(0,n.jsxs)(n.Fragment,{children:[et&&q.current&&(0,n.jsx)(j.Z,{target:q.current,targetName:r,color:b,size:ee,satelliteCamera:H,toggleSatelliteCamera:W}),(0,n.jsxs)("group",{ref:q,children:[(0,n.jsx)("mesh",{visible:!1,onClick:eh,onPointerDown:ed,onPointerMove:ex,onPointerUp:eg,onPointerOver:ey,onPointerOut:eM,children:et?(0,n.jsx)("sphereGeometry",{args:[ee,16,16]}):(0,n.jsx)("sphereGeometry",{args:[3*eu,8,8]})}),(0,n.jsxs)("mesh",{ref:eo,children:[(0,n.jsx)("sphereGeometry",{args:[et?ee:eu,er,er]}),et||!L||ep?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meshStandardMaterial",{metalness:.6,roughness:.8,map:null==s?void 0:s.map,onBuild:()=>Q(!0)}),"Earth"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("mesh",{children:[(0,n.jsx)("sphereGeometry",{args:[1.05*ee,er,er]}),(0,n.jsx)("shaderMaterial",{args:[M.et]})]},"".concat(r,"-atmosphere")),(0,n.jsxs)("mesh",{ref:K,children:[(0,n.jsx)("sphereGeometry",{args:[1.005*ee,er,er]}),(0,n.jsx)("meshStandardMaterial",{alphaMap:null==s?void 0:s.clouds,transparent:!0})]},"".concat(r,"-cloud_texture"))]})]}):(0,n.jsx)("meshBasicMaterial",{color:b})]},et?r+"-textured":r+"-basic"),"Saturn"===r&&(0,n.jsx)("group",{ref:ei,rotation:[x.MathUtils.degToRad(T),0,0],children:(0,n.jsx)(h.KC,{args:[1.7*ee,.5*ee,2,100],position:[0,0,0],rotation:[Math.PI/2,0,0],children:(0,n.jsx)("meshBasicMaterial",{map:e_})})}),(F&&!et||ej&&!et)&&(0,n.jsx)(y.Z,{text:r,size:null==el?void 0:el.current,position:[0,1.2*eu+(null==el?void 0:el.current),0],color:b,handleClick:eh,font:"../assets/fonts/Termina_Black.ttf"},r),F&&et&&(0,n.jsx)(d.V,{as:"span",wrapperClass:"label-wrapper",center:!0,"position-y":et?eu+.25*eu:4*eu,zIndexRange:[100,0],style:{pointerEvents:"none"},children:(0,n.jsx)("span",{className:"planet-label",style:{color:b},onClick:eh,onPointerDown:ed,onPointerMove:ex,onPointerUp:eg,onPointerOver:ey,onPointerOut:eM,children:r})}),et&&eP.map((e,t)=>{var s;return(0,n.jsx)(f.Z,{moonData:e,planetPosition:null===(s=q.current)||void 0===s?void 0:s.position,planetScale:eu},"".concat(r,"-moon-").concat(t))})]}),O&&(0,n.jsx)(g.Z,{origin:P,radius:$,orbitalInclination:R,color:b,name:r,opacity:et||ej?.8:.3,hiRes:et})]})});var P=r(3920),k=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:s,setPrevSpeed:h}=(0,u.ZP)(),{planetPositions:d,selectedPlanet:x,setSelectedPlanet:g,moonPositions:j,selectedMoon:f,setSelectedMoon:y,planetsData:M}=(0,u.d2)(),{satelliteCamera:k,triggerReset:v,setTriggerReset:S,isCameraTransitioning:R,toggleCameraTransitioning:T,satelliteCameraState:w}=(0,u.g5)(),E=(0,a.useRef)(),[b,C]=(0,a.useState)(200),[Z,z]=(0,a.useState)(null),I=e=>4.2*e,D=()=>{if(!E.current)return;g(null),y(null),C(200),E.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};E.current.setPosition(t.x,t.y,t.z,!0)};(0,m.A)(()=>{if(x&&E.current){let e=d[x.name];if(e){let t=I(M[x.name].radius*c.YB);C(t/2),E.current.setTarget(e.x,e.y,e.z,!0),E.current.dollyTo(t,!0)}"Sun"===x.name&&(C(200),E.current.setTarget(0,0,0,!0),E.current.dollyTo(200,!0))}});let B=(e,t)=>l._d[e].find(e=>e.name===t);(0,m.A)(()=>{if(f&&E.current){let e=j[f.name];if(e){let t=I(B(Z,f.name).radius*l.sh);C(t/2),E.current.setTarget(e.x,e.y,e.z,!0),E.current.dollyTo(t,!0)}}}),(0,a.useEffect)(()=>{D&&(D(),S(!1))},[v]),(0,a.useEffect)(()=>{var e;x&&"Sun"!==x.name&&!R&&(h(t),r(0),T(!0),z(x.name)),f&&!R&&(h(t),r(0),T(!0)),null===(e=E.current)||void 0===e||e.camera.updateProjectionMatrix()},[x,f]);let O=(0,o.m)({map:"../assets/earth/8k_earth_daymap.jpg",night:"../assets/earth/2k_earth_nightmap.jpg",normal:"../assets/earth/8k_earth_normal_map.png",clouds:"../assets/earth/8k_earth_clouds.jpg"}),N=(0,o.m)({map:"../assets/sun/8k_sun.jpg"}),U=(0,o.m)({map:"../assets/venus/2k_venus_surface.jpg"}),Y=(0,o.m)({map:"../assets/mercury/2k_mercury.jpg"}),G=(0,o.m)({map:"../assets/mars/2k_mars.jpg"}),A=(0,o.m)({map:"../assets/jupiter/8k_jupiter.jpg"}),F=(0,o.m)({map:"../assets/saturn/2k_saturn.jpg"}),X=(0,o.m)({map:"../assets/uranus/2k_uranus.jpg"}),V=(0,o.m)({map:"../assets/neptune/2k_neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[!k&&(0,n.jsx)(i.B,{ref:E,makeDefault:!k,maxDistance:9e4,smoothTime:.7,polarRotateSpeed:.5,azimuthRotateSpeed:.5,enableDamping:!0,near:.001,far:1e6,minDistance:b}),(0,n.jsx)(P.Z,{}),(0,n.jsx)(_,{name:"Earth",textures:O}),(0,n.jsx)(_,{name:"Mars",textures:G}),(0,n.jsx)(_,{name:"Venus",textures:U}),(0,n.jsx)(_,{name:"Mercury",textures:Y}),(0,n.jsx)(_,{name:"Jupiter",textures:A}),(0,n.jsx)(_,{name:"Saturn",textures:F}),(0,n.jsx)(_,{name:"Uranus",textures:X}),(0,n.jsx)(_,{name:"Neptune",textures:V}),(0,n.jsx)(p.Z,{textures:N,position:e.position,resetCamera:D},"Sun-plain")]})},v=()=>(0,n.jsx)(s.Z,{children:(0,n.jsx)(k,{})})}},function(e){e.O(0,[393,689,851,350,971,190,744],function(){return e(e.s=4466)}),_N_E=e.O()}]);