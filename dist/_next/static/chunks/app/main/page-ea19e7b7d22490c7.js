(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{4466:function(e,t,r){Promise.resolve().then(r.bind(r,1780))},1780:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(7437),a=r(9369),s=r(2265),o=r(7871),u=r(3719),i=r(8384),c=r(2803),l=r(2079),m=r(8942),d=r(5375),p=r(5264),h=r(3920),g=r(9373),x=r(9818),f=r(7776),M=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:a,setPrevSpeed:M,setViewOnlyMode:y}=(0,i.ZP)(),{planetPositions:j,selectedPlanet:w,setSelectedPlanet:b,selectedMoon:T,setSelectedMoon:A,planetsData:S,moonsData:V,moonPositions:P,resetPlanetsData:v}=(0,i.d2)(),{satelliteCamera:Z,isCameraTransitioning:B,toggleCameraTransitioning:C,isZoomingToSun:k,resetCamera:z,toggleZoomingToSun:E,activeCamera:R,setActiveCamera:D,setSceneCameras:H,sceneCameras:_,satelliteCameraState:I,setSatelliteCameraState:N}=(0,i.g5)(),{experimentMode:U,toggleExperimentMode:F}=(0,c.Z)(),L=(0,s.useRef)(),[G,O]=(0,s.useState)(200),[q,J]=(0,s.useState)(!1),Q=[1e5,1e5,1e5],W=[2e4,2e4,2e4],Y=[0,0,0],K=(0,s.useRef)(!1);(0,s.useEffect)(()=>{L.current&&!q&&(L.current.setPosition(...Q,!1),L.current.setTarget(...Y,!1),setTimeout(()=>{L.current.setPosition(...W,!0),L.current.setTarget(...Y,!0),J(!0)},100))},[L.current]);let X=e=>4.2*e,$=(e,t)=>{let r=V[t];return r?r.find(t=>t.name===e):null};(0,g.A)(()=>{if(L.current){if(I?.position&&B){let{position:e,targetPosition:t}=I;L.current.setPosition(e.x,e.y,e.z,!1),L.current.setTarget(t.x,t.y,t.z,!1),L.current.updateCameraUp(),L.current.update(),N(null)}if("planet"===R.type&&"Sun"!==R.name){let e=j[w.name];if(e){let t=X(S[w.name].radius*l.YB);O(t/2),L.current.setTarget(e.x,e.y,e.z,!0),L.current.dollyTo(t,!0),E(!1)}}if("moon"===R.type){let e=P[R.name],t=$(R.name,R.parentName);if(e&&t){let r=X(t.radius*m.sh);O(r/2),L.current.setTarget(e.x,e.y,e.z,!0),L.current.dollyTo(r,!0);let n=new f.Vector3;L.current.getTarget(n),.1>n.distanceTo(new f.Vector3(e.x,e.y,e.z))&&C(!1)}}if("Sun"===R.name&&K.current){let e=new f.Vector3,t=new f.Vector3;L.current.getTarget(e),L.current.getPosition(t),10>Math.abs(t.distanceTo(new f.Vector3(0,0,0))-500)?(K.current=!1,C(!1),L.current.enabled=!0):(L.current.setTarget(0,0,0,!0),L.current.dollyTo(500,!0))}if("Asteroid Belt"===R.name&&K.current){let e=new f.Vector3;L.current.getPosition(e);let t=R.position;100>e.distanceTo(new f.Vector3(t.x,t.y,t.z))?(K.current=!1,C(!1),L.current.enabled=!0):(L.current.setPosition(t.x,t.y,t.z,!0),L.current.setTarget(0,0,0,!0))}if("default"===R.name&&B){let e=R.position,t=R.lookAt,r=new f.Vector3,n=new f.Vector3;L.current.getPosition(r),L.current.getTarget(n),r.distanceTo(e)>100&&L.current.setLookAt(e.x,e.y,e.z,t.x,t.y,t.z,!0),C(!1),O(200)}"orbit"!==R.type||B||(O(200),L.current.maxDistance=16e4)}}),(0,s.useEffect)(()=>{L.current&&!q&&(L.current.setPosition(...Q,!1),L.current.setTarget(...Y,!1),L.current.camera.updateProjectionMatrix(),setTimeout(()=>{z(),J(!0)},100))},[L.current]),(0,s.useEffect)(()=>{if(("Sun"===R.name||"Asteroid Belt"===R.name)&&(K.current=!0,L.current.enabled=!1,A(null),b(null),"Sun"===R.name?(O(200),L.current.maxDistance=1e3):"Asteroid Belt"===R.name&&(O(4250),L.current.maxDistance=9e3)),"planet"===R.type||"moon"===R.type){if(0===t)return;C(!0),M(t),r(0)}L.current?.camera.updateProjectionMatrix()},[R]),(0,s.useEffect)(()=>{y(!1),F(!1);let e=e=>{1===e.button&&e.preventDefault(),L.current&&(L.current.mouseButtons.right=1)};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[]);let ee=(0,o.m)({map:"../assets/earth/earth_daymap.jpg",clouds:"../assets/earth/earth_clouds.jpg"}),et=(0,o.m)({map:"../assets/sun/sun.jpg"}),er=(0,o.m)({map:"../assets/venus/venus_surface.jpg"}),en=(0,o.m)({map:"../assets/mercury/mercury.jpg"}),ea=(0,o.m)({map:"../assets/mars/mars.jpg"}),es=(0,o.m)({map:"../assets/jupiter/jupiter.jpg"}),eo=(0,o.m)({map:"../assets/saturn/saturn.jpg",ringTexture:"../assets/saturn/saturn-rings.png"}),eu=(0,o.m)({map:"../assets/uranus/uranus.jpg",ringTexture:"../assets/uranus/uranus-rings.png"}),ei=(0,o.m)({map:"../assets/neptune/neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.B,{ref:L,makeDefault:!Z,enabled:!Z,maxDistance:16e4,minDistance:G,near:.001,far:15e5,smoothTime:.6,enableDamping:!0,draggingSmoothTime:.25,azimuthRotateSpeed:1,polarRotateSpeed:1,dollySpeed:.4}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(p.Z,{name:"Earth",textures:ee}),(0,n.jsx)(p.Z,{name:"Mars",textures:ea}),(0,n.jsx)(p.Z,{name:"Venus",textures:er}),(0,n.jsx)(p.Z,{name:"Mercury",textures:en}),(0,n.jsx)(p.Z,{name:"Jupiter",textures:es}),(0,n.jsx)(p.Z,{name:"Saturn",textures:eo}),(0,n.jsx)(p.Z,{name:"Uranus",textures:eu}),(0,n.jsx)(p.Z,{name:"Neptune",textures:ei}),(0,n.jsx)(x.Z,{meshCount:2500}),(0,n.jsx)(d.Z,{textures:et,position:e.position,resetCamera:z},"Sun-plain")]})},y=()=>(0,n.jsx)(a.Z,{children:(0,n.jsx)(M,{})})},9818:function(e,t,r){"use strict";var n=r(7437),a=r(2265),s=r(9373),o=r(7776),u=r(8384),i=r(2079);r(8584);var c=r(2325);t.Z=e=>{let{meshCount:t=500}=e,{simSpeed:r}=(0,u.ZP)(),{switchToCustomCamera:l,setAutoRotate:m,activeCamera:d}=(0,u.g5)(),{displayLabels:p}=(0,u.d2)(),h=(0,a.useRef)(!1),g=(0,a.useRef)(1),x=(0,a.useRef)(),f=(0,a.useRef)(),M=("planet"===d.type||"moon"===d.type)&&"Sun"!==d.name?.3:1,y=i.B9.innerRadius,j=i.B9.outerRadius-y;i.Hm;let w={C:{baseHue:.083,hueVariation:.02,saturation:[.15,.25],lightness:[.25,.35]},S:{baseHue:.055,hueVariation:.015,saturation:[.25,.45],lightness:[.35,.45]},M:{baseHue:.1,hueVariation:.01,saturation:[.15,.3],lightness:[.4,.5]},D:{baseHue:.065,hueVariation:.01,saturation:[.15,.2],lightness:[.2,.25]},V:{baseHue:.03,hueVariation:.01,saturation:[.3,.5],lightness:[.3,.4]}},b=(e,t)=>e+Math.random()*(t-e),T=(0,a.useCallback)(()=>{let e=Math.random(),t=w[e<.75?"C":e<.92?"S":e<.97?"M":e<.99?"D":"V"],r=t.baseHue+(Math.random()-.5)*t.hueVariation,n=b(...t.saturation),a=b(...t.lightness),s=new o.Color().setHSL(o.MathUtils.clamp(r,0,1),o.MathUtils.clamp(n,0,1),o.MathUtils.clamp(a+(Math.random()-.5)*.05,0,1));return s.multiplyScalar(1.2),s},[]),A=(0,a.useCallback)(()=>4+11*Math.pow(Math.random(),4),[]),S=(0,a.useCallback)(e=>{let t=y+Math.pow(Math.random(),.7)*j,r=Math.sqrt(i.G*i.Gw/(1e3*t));return{semiMajorAxis:t*i.Hm,eccentricity:Math.min(.3,Math.abs(.15+.07*(Math.random()+Math.random()+Math.random()-1.5))),orbitalSpeed:-(1e-10*r),angle:Math.random()*Math.PI*2,inclination:Math.PI/180*Math.abs(8.5+6.2*(Math.random()+Math.random()+Math.random()-1.5)),scale:A(),rotationAxis:new o.Vector3(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),rotationSpeed:(.1+.9*Math.random())*1e-5,color:T()}},[]),V=(0,a.useMemo)(()=>{let e=Array.from({length:t},(e,t)=>S(t)),r=new Float32Array(3*t);return e.forEach((e,t)=>{r[3*t]=e.color.r,r[3*t+1]=e.color.g,r[3*t+2]=e.color.b}),f.current=r,e},[t,S]),P=(0,a.useRef)(),v=new o.Matrix4,Z=new o.Vector3,B=new o.Quaternion,C=new o.Vector3;(0,s.A)((e,n)=>{let a=-n*r*.06;if(0!==a){for(let r=0;r<t;r++){let t=V[r];t.angle+=t.orbitalSpeed*a;let n=t.semiMajorAxis*(1-t.eccentricity*t.eccentricity)/(1+t.eccentricity*Math.cos(t.angle));Z.set(n*Math.cos(t.angle),n*Math.sin(t.inclination)*Math.sin(t.angle),n*Math.cos(t.inclination)*Math.sin(t.angle)),B.setFromAxisAngle(t.rotationAxis,e.clock.elapsedTime*t.rotationSpeed),C.setScalar(t.scale),v.compose(Z,B,C),P.current.setMatrixAt(r,v)}if(P.current.instanceMatrix.needsUpdate=!0,x.current){let t=x.current.getWorldPosition(new o.Vector3);g.current=.02*e.camera.position.distanceTo(t)}}});let k=(0,a.useMemo)(()=>{let e=new o.IcosahedronGeometry(1,1),t=new o.InstancedBufferGeometry().copy(e);return t.setAttribute("color",new o.InstancedBufferAttribute(f.current,3)),t},[]);return(0,n.jsxs)("group",{children:[(p||h.current)&&(0,n.jsx)(c.V,{position:[-100,700,3600],as:"div",wrapperClass:"label-wrapper",center:!0,zIndexRange:[100,0],children:(0,n.jsx)("span",{className:"planet-label",style:{color:"#FFA500",cursor:"pointer",fontSize:"12px",textAlign:"center",whiteSpace:"nowrap"},onClick:()=>{"Asteroid Belt"!==d.name&&l("Asteroid Belt"),console.log("clicked")},onMouseEnter:()=>{h.current=!0,document.body.style.cursor="pointer"},onMouseLeave:()=>{h.current=!1,document.body.style.cursor="auto"},children:"Asteroid Belt"})}),(0,n.jsx)("instancedMesh",{ref:P,args:[k,null,t],onClick:e=>{e.stopPropagation(),"Asteroid Belt"!==d.name&&(l("Asteroid Belt"),m(!0))},onPointerOver:()=>{h.current=!0,document.body.style.cursor="pointer"},onPointerOut:()=>{h.current=!1,document.body.style.cursor="auto"},children:(0,n.jsx)("meshStandardMaterial",{vertexColors:!0,roughness:.7,metalness:.5,emissive:"#999",emissiveIntensity:"planet"===d.type?0:.1,toneMapped:!1,transparent:!0,opacity:M})})]})}}},function(e){e.O(0,[260,689,251,927,264,971,190,744],function(){return e(e.s=4466)}),_N_E=e.O()}]);