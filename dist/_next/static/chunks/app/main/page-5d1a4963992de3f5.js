(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{9512:function(e,t,r){Promise.resolve().then(r.bind(r,644))},644:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(7437),s=r(9362),a=r(2265),o=r(7871),u=r(3719),i=r(8384),l=r(2079),c=r(5375),m=r(7776),p=r(9373),d=r(2325),h=r(878),x=r(1675),g=r(625),j=r(1577),f=r(8942),M=r(1045),y=e=>{let{innerRadius:t,outerRadius:r,height:s=0,rotation:o,texture:u,detail:i=16}=e,l=(0,a.useMemo)(()=>{let e=new m.CylinderGeometry(r,t,s,i,1,!0),n=e.attributes.uv;for(let e=0;e<n.count;e++){let t=n.getX(e),r=n.getY(e);n.setXY(e,t,r)}return e},[t,r,s]),c=(0,a.useMemo)(()=>new m.MeshBasicMaterial({map:u,side:m.DoubleSide,transparent:!0}),[u]);return(0,n.jsx)("mesh",{geometry:l,material:c,rotation:o})};let v=(0,a.forwardRef)((e,t)=>{let{name:r="Earth",textures:s}=e,{planetsData:o}=(0,i.d2)(),u={...o[r]},{radius:c,orbitalOrigin:v,orbitalRadius:P,orbitalPeriod:_,orbitalInclination:k,axialTilt:w,rotationPeriod:R,color:S,initialOrbitalAngle:T}=u,{simSpeed:b,toggleDetailsMenu:E}=(0,i.ZP)(),{planetAngles:C,updatePlanetPosition:D,selectedPlanet:Z,setSelectedPlanet:U,displayLabels:z,selectedMoon:B,setSelectedMoon:F,orbitPaths:I}=(0,i.d2)(),{isSurfaceCameraActive:O,satelliteCamera:Y,toggleSatelliteCamera:N,setAutoRotate:G,autoRotate:X}=(0,i.g5)(),A=t||(0,a.useRef)(),V=(0,a.useRef)(C[r]||0),L=(0,a.useRef)(),[q,H]=(0,a.useState)(!1),J=P*(O?1e-4:l.Hm),K=c*l.YB;l.E_;let Q=Z&&Z.name===r,W=Q?64:16,[$,ee]=(0,a.useState)(!1),et=(0,a.useRef)({x:0,y:0}),er=(0,a.useRef)(null),[en,es]=(0,a.useState)(K),ea=(0,a.useRef)(1),[eo,eu]=(0,a.useState)(!1),[ei,el]=(0,a.useState)(1),ec={};ec.atmosphereDayColor="#0088FF",ec.atmosphereTwilightColor="#FF9D00",(0,p.A)((e,t)=>{let n=t*b;0===V.current?V.current=Math.PI/180*T:V.current-=2*Math.PI/(86400*_)*n;let s=J*Math.cos(V.current),a=J*Math.sin(V.current);if(A.current){let t=Math.sin(Math.PI/180*k)*J*Math.sin(V.current);if(A.current.position.set(s,t,a),D(r,{x:s,y:t,z:a}),R){let e=2*Math.PI/(3600*R)*n,t=new m.Vector3(0,1,0);er.current.rotateOnAxis(t,e),A.current.rotation.y>=2*Math.PI&&Q&&(A.current.rotation.y%=2*Math.PI),L.current&&(L.current.rotation.y+=1.1*e)}let o=A.current.position.distanceTo(e.camera.position);o/100<=K?es(K):es(o/100),eu(o<500);let u=100*K,i=10*K;el(Math.max(0,Math.min(1,(o-i)/(u-i)))),ea.current&&(ea.current=.02*o)}}),(0,a.useEffect)(()=>{er.current&&(er.current.rotation.order="YXZ",er.current.rotation.y=0,er.current.rotation.x=m.MathUtils.degToRad(w))},[w,Z]);let em=e=>{e.stopPropagation(),!$&&(E(!0),F(null),Q||U(u))},ep=e=>{e.stopPropagation(),ee(!1),et.current={x:e.clientX,y:e.clientY}},ed=e=>{Math.sqrt(Math.pow(e.clientX-et.current.x,2)+Math.pow(e.clientY-et.current.y,2))>5&&ee(!0)},eh=e=>{ee(!1)},[ex,eg]=(0,a.useState)(!1),ej=e=>{e.stopPropagation(),document.body.style.cursor="pointer",eg(!0)},ef=e=>{e.stopPropagation(),document.body.style.cursor="auto",eg(!1)},eM=f._d[r]||[];return(0,n.jsxs)(n.Fragment,{children:[Q&&!B&&A.current&&(0,n.jsx)(x.Z,{target:A.current,targetName:r,size:K,satelliteCamera:Y,toggleSatelliteCamera:N}),(0,n.jsxs)("group",{ref:A,children:[(0,n.jsx)("mesh",{visible:!1,onClick:em,onPointerDown:ep,onPointerMove:ed,onPointerUp:eh,onPointerOver:ej,onPointerOut:ef,children:Q?null:(0,n.jsx)("sphereGeometry",{args:[3*en,8,8]})}),(0,n.jsxs)("mesh",{ref:er,onDoubleClick:e=>{e.stopPropagation(),G(!X)},children:[(0,n.jsx)("sphereGeometry",{args:[Q?K:en,W,W/2]}),!Q&&q?(0,n.jsx)("meshBasicMaterial",{color:S}):(0,n.jsxs)(n.Fragment,{children:["Earth"===r&&Q&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("mesh",{ref:L,children:[(0,n.jsx)("sphereGeometry",{args:[Math.min(1.008*K),W,W/2]}),(0,n.jsx)("meshStandardMaterial",{alphaMap:null==s?void 0:s.clouds,transparent:!0,opacity:.8})]},"".concat(r,"-cloud_texture")),(0,n.jsxs)("mesh",{children:[(0,n.jsx)("sphereGeometry",{args:[Math.min(1.02*K),W,W/2]}),(0,n.jsx)("shaderMaterial",{args:[M.et]})]},"".concat(r,"-atmosphere_texture"))]}),(0,n.jsx)("meshStandardMaterial",{metalness:.6,roughness:.8,map:null==s?void 0:s.map,onBuild:()=>H(!0)})]})]},Q?r+"-textured":r+"-basic"),"Saturn"===r&&eo&&(0,n.jsx)(y,{innerRadius:1.2*K,outerRadius:2*K,height:0,rotation:[m.MathUtils.degToRad(w),0,0],texture:Q?null==s?void 0:s.ringTexture:null,detail:Math.max(W,32)},W+r+"-ring"),"Uranus"===r&&eo&&(0,n.jsx)(y,{innerRadius:1.5*K,outerRadius:1.9*K,height:0,texture:Q?null==s?void 0:s.ringTexture:null,detail:Math.max(W,32),rotation:[m.MathUtils.degToRad(w),0,0]},W+r+"-ring"),(z&&!Q||ex&&!Q)&&(0,n.jsx)(j.Z,{text:r,size:null==ea?void 0:ea.current,position:[0,1.2*en+(null==ea?void 0:ea.current),0],color:S,handleClick:em,handlePointerDown:ep,font:"../assets/fonts/Termina_Black.ttf"},r),z&&Q&&(0,n.jsx)(d.V,{as:"span",wrapperClass:"label-wrapper",center:!0,"position-y":Q?en+.25*en:4*en,zIndexRange:[100,0],style:{pointerEvents:"none"},children:(0,n.jsx)("span",{className:"planet-label",style:{color:S},onClick:em,onPointerDown:ep,onPointerMove:ed,onPointerUp:eh,onPointerOver:ej,onPointerOut:ef,children:r})}),Q&&eM.map((e,t)=>{var s;let a=["Saturn","Uranus"].includes(r);return(0,n.jsx)("group",{rotation:a?[m.MathUtils.degToRad(w),0,0]:[0,0,0],children:(0,n.jsx)(g.Z,{moonData:e,planetPosition:null===(s=A.current)||void 0===s?void 0:s.position},"".concat(r,"-moon-").concat(t))},"".concat(r,"-moon-group-").concat(t))})]}),I&&(0,n.jsx)(h.Z,{origin:v,radius:J,orbitalInclination:k,color:S,name:r+"-orbit-path",opacity:Q||!Z?ei:.4,hiRes:Q})]})});var P=r(3920),_=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:s,setPrevSpeed:m}=(0,i.ZP)(),{planetPositions:d,selectedPlanet:h,setSelectedPlanet:x,selectedMoon:g,setSelectedMoon:j,planetsData:f}=(0,i.d2)(),{satelliteCamera:M,triggerReset:y,setTriggerReset:_,isCameraTransitioning:k,toggleCameraTransitioning:w,isZoomingToSun:R,toggleZoomingToSun:S}=(0,i.g5)(),T=(0,a.useRef)(),[b,E]=(0,a.useState)(200),C=e=>4.2*e,D=()=>{if(!T.current)return;x(null),j(null),E(200),T.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};T.current.setPosition(t.x,t.y,t.z,!0)};(0,p.A)(()=>{if(h&&!g&&T.current){j(null);let e=d[h.name];if(e){let t=C(f[h.name].radius*l.YB);E(t/2),T.current.setTarget(e.x,e.y,e.z,!0),T.current.dollyTo(t,!0),S(!1)}"Sun"===h.name&&R&&(E(200),T.current.setTarget(0,0,0,!0),T.current.distance<800&&S(!1),T.current.dollyTo(200,!0))}}),(0,a.useEffect)(()=>{D&&(D(),_(!1))},[y]),(0,a.useEffect)(()=>{var e;!h||g||"Sun"===h.name||k||(j(null),w(!0),m(t),r(0)),h||g||(S(!1),r(s),w(!1)),(null==h?void 0:h.name)==="Sun"&&(S(!0),0===t&&(r(s),w(!1))),null===(e=T.current)||void 0===e||e.camera.updateProjectionMatrix()},[h,g]),(0,a.useEffect)(()=>{let e=e=>{1===e.button&&e.preventDefault(),T.current&&(T.current.mouseButtons.right=1)};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[]);let Z=(0,o.m)({map:"../assets/earth/8k_earth_daymap.jpg",clouds:"../assets/earth/8k_earth_clouds.jpg"}),U=(0,o.m)({map:"../assets/sun/8k_sun.jpg"}),z=(0,o.m)({map:"../assets/venus/2k_venus_surface.jpg"}),B=(0,o.m)({map:"../assets/mercury/2k_mercury.jpg"}),F=(0,o.m)({map:"../assets/mars/1k_mars.jpg"}),I=(0,o.m)({map:"../assets/jupiter/8k_jupiter.jpg"}),O=(0,o.m)({map:"../assets/saturn/2k_saturn.jpg",ringTexture:"../assets/saturn/saturn-rings.png"}),Y=(0,o.m)({map:"../assets/uranus/2k_uranus.jpg",ringTexture:"../assets/uranus/uranus-rings-2.png"}),N=(0,o.m)({map:"../assets/neptune/2k_neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[!M&&(0,n.jsx)(u.B,{ref:T,makeDefault:!M,maxDistance:9e4,smoothTime:.65,enableDamping:!0,near:.1,far:1e6,minDistance:b,maxZoom:10}),(0,n.jsx)(P.Z,{}),(0,n.jsx)(v,{name:"Earth",textures:Z}),(0,n.jsx)(v,{name:"Mars",textures:F}),(0,n.jsx)(v,{name:"Venus",textures:z}),(0,n.jsx)(v,{name:"Mercury",textures:B}),(0,n.jsx)(v,{name:"Jupiter",textures:I}),(0,n.jsx)(v,{name:"Saturn",textures:O}),(0,n.jsx)(v,{name:"Uranus",textures:Y}),(0,n.jsx)(v,{name:"Neptune",textures:N}),(0,n.jsx)(c.Z,{textures:U,position:e.position,resetCamera:D},"Sun-plain")]})},k=()=>(0,n.jsx)(s.Z,{children:(0,n.jsx)(_,{})})}},function(e){e.O(0,[393,689,918,673,350,971,190,744],function(){return e(e.s=9512)}),_N_E=e.O()}]);