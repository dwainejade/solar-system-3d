(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{756:function(e,t,r){Promise.resolve().then(r.bind(r,7150))},7150:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(7437),s=r(3757),a=r(2265),o=r(7871),i=r(3719),u=r(8384),c=r(2079),l=r(8942),p=r(625),m=r(5375),d=r(15),x=r(4823),h=r(2325),g=r(7776),j=r(878),f=r(4510);let y=(0,a.forwardRef)((e,t)=>{let{name:r="Earth",textures:s}=e,{planetsData:o}=(0,u.d2)(),i={...o[r]},{mass:m,radius:y,orbitalOrigin:P,orbitalRadius:M,orbitalSpeed:_,orbitalPeriod:k,orbitalInclination:v,axialTilt:S,rotationPeriod:b,surfaceTemp:T,color:w,gravity:R,initialOrbitalAngle:E,interestPoints:C}=i,{simSpeed:D,updateRotationCount:I,incrementDate:Z,orbitPaths:z}=(0,u.ZP)(),{planetAngles:O,updatePlanetPosition:B,selectedPlanet:A,setSelectedPlanet:N,displayLabels:U,setSelectedMoon:Y}=(0,u.d2)(),{isSurfaceCameraActive:V,satelliteCamera:X,toggleSatelliteCamera:F}=(0,u.g5)(),W=t||(0,a.useRef)(),q=(0,a.useRef)(O[r]||0),[G,H]=(0,a.useState)(!1),J=M*(V?1e-4:c.Hm),K=y*c.YB;c.E_;let L=A&&A.name===r,Q=L?64:32,[$,ee]=(0,a.useState)(!1),et=(0,a.useRef)({x:0,y:0}),er=(0,a.useRef)(),en=(0,a.useRef)();(0,d.A)((e,t)=>{let n=t*D;0===q.current?q.current=Math.PI/180*E:q.current-=2*Math.PI/(86400*k)*n;let s=J*Math.cos(q.current),a=J*Math.sin(q.current);if(W.current){let e=Math.sin(Math.PI/180*v)*J*Math.sin(q.current);if(W.current.position.set(s,e,a),B(r,{x:s,y:e,z:a}),b){let e=2*Math.PI/(3600*b)*n,t=new g.Vector3(0,1,0);er.current.rotateOnAxis(t,e),W.current.rotation.y>=2*Math.PI&&(W.current.rotation.y%=2*Math.PI,I(r,1),"Earth"===r&&Z()),en.current&&(en.current.rotation.y+=e)}}}),(0,a.useEffect)(()=>{er.current&&(er.current.rotation.order="YXZ",er.current.rotation.y=0,er.current.rotation.x=g.MathUtils.degToRad(S))},[S,A]);let es=e=>{e.stopPropagation(),$||(N(i),Y(null))},ea=e=>{e.stopPropagation(),ee(!1),et.current={x:e.clientX,y:e.clientY}},eo=e=>{Math.sqrt(Math.pow(e.clientX-et.current.x,2)+Math.pow(e.clientY-et.current.y,2))>5&&ee(!0)},ei=e=>{ee(!1)},[eu,ec]=(0,a.useState)(!1),el=e=>{e.stopPropagation(),document.body.style.cursor="pointer",ec(!0)},ep=e=>{e.stopPropagation(),document.body.style.cursor="auto",ec(!1)},[em,ed]=(0,a.useState)(K);(0,d.A)(e=>{let{camera:t}=e;if(!er.current)return;let r=W.current.position.distanceTo(t.position);r/100<=K?ed(K):ed(r/100)});let ex=(0,d.D)(g.TextureLoader,"../assets/saturn/saturn-rings.png");ex.wrapS=g.RepeatWrapping,ex.wrapT=g.ClampToEdgeWrapping;let eh=l._d[r]||[];return(0,n.jsxs)(n.Fragment,{children:[L&&W.current&&(0,n.jsx)(f.Z,{target:W.current,color:w,size:K,satelliteCamera:X,toggleSatelliteCamera:F}),(0,n.jsxs)("group",{ref:W,children:[(0,n.jsxs)("mesh",{ref:er,onClick:es,onPointerDown:ea,onPointerMove:eo,onPointerUp:ei,onPointerOver:el,onPointerOut:ep,children:[(0,n.jsx)("sphereGeometry",{args:[em,Q,Q]}),!L&&G?(0,n.jsx)("meshBasicMaterial",{color:w}):(0,n.jsx)("meshStandardMaterial",{metalness:.6,roughness:.8,map:null==s?void 0:s.map,onBuild:()=>H(!0)})]},L?r+"-textured":r+"-basic"),"Saturn"===r&&(0,n.jsx)("group",{ref:en,rotation:[g.MathUtils.degToRad(S),0,0],children:(0,n.jsx)(x.KC,{args:[1.7*K,.5*K,2,100],position:[0,0,0],rotation:[Math.PI/2,0,0],children:(0,n.jsx)("meshBasicMaterial",{map:ex,side:g.DoubleSide,transparent:!0})})}),U&&(0,n.jsx)(h.V,{as:"span",wrapperClass:"label-wrapper",center:!0,occlude:!0,"position-y":em+.25*em,zIndexRange:[100,0],children:(0,n.jsx)("span",{className:"planet-label",style:{color:w},onClick:es,onPointerDown:ea,onPointerMove:eo,onPointerUp:ei,onPointerOver:el,onPointerOut:ep,children:r})}),eu&&!L&&!U&&(0,n.jsx)(h.V,{position:[0,100,0],style:{pointerEvents:"none"},children:(0,n.jsx)("div",{style:{color:"white",padding:"6px 10px",background:"rgba(0,0,0,0.5)",borderRadius:"8px"},children:r})}),L&&eh.map((e,t)=>{var s;return(0,n.jsx)(p.Z,{moonData:e,planetPosition:null===(s=W.current)||void 0===s?void 0:s.position},"".concat(r,"-moon-").concat(t))})]}),z&&(0,n.jsx)(j.Z,{origin:P,radius:J,orbitalInclination:v,color:w,name:r,hiRes:L})]})});var P=r(3920),M=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:s,setPrevSpeed:p}=(0,u.ZP)(),{planetPositions:x,selectedPlanet:h,setSelectedPlanet:g,selectedMoon:j,setSelectedMoon:f,planetsData:M}=(0,u.d2)(),{satelliteCamera:_,triggerReset:k,setTriggerReset:v,toggleCameraTransitioning:S,isCameraTransitioning:b}=(0,u.g5)(),T=(0,a.useRef)(),[w,R]=(0,a.useState)(200),E=e=>4.2*e,C=()=>{if(!T.current)return;g(null),f(null),R(200),T.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};T.current.setPosition(t.x,t.y,t.z,!0)};(0,d.A)(()=>{if(h&&T.current){let e=x[h.name];if(e){let t=E(M[h.name].radius*c.YB);R(t/2),T.current.setTarget(e.x,e.y,e.z,!0),T.current.dollyTo(t,!0)}"Sun"===h.name&&(R(200),T.current.setTarget(0,0,0,!0),T.current.dollyTo(200,!0))}}),(0,d.A)(()=>{if(j&&T.current){let e=j.position;if(e){let t=E(j.bodyData.radius*l.sh);R(t/2),T.current.setTarget(e.x,e.y,e.z,!0),T.current.dollyTo(t,!0)}}}),(0,a.useEffect)(()=>{C&&(C(),v(!1))},[k]),(0,a.useEffect)(()=>{h&&(p(t),r(0),S(!0))},[h]);let D=(0,o.m)({map:"../assets/earth/8k_earth_daymap.jpg",clouds:"../assets/earth/2k_earth_clouds.jpg"}),I=(0,o.m)({map:"../assets/venus/2k_venus_surface.jpg"}),Z=(0,o.m)({map:"../assets/mercury/2k_mercury.jpg"}),z=(0,o.m)({map:"../assets/mars/2k_mars.jpg"}),O=(0,o.m)({map:"../assets/jupiter/2k_jupiter.jpg"}),B=(0,o.m)({map:"../assets/saturn/2k_saturn.jpg"}),A=(0,o.m)({map:"../assets/uranus/2k_uranus.jpg"}),N=(0,o.m)({map:"../assets/neptune/2k_neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[!_&&(0,n.jsx)(i.B,{ref:T,makeDefault:!_,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,near:.001,far:1e6,minDistance:Math.min(1,w)}),(0,n.jsx)(P.Z,{}),(0,n.jsx)(y,{name:"Earth",textures:D}),(0,n.jsx)(y,{name:"Mars",textures:z}),(0,n.jsx)(y,{name:"Venus",textures:I}),(0,n.jsx)(y,{name:"Mercury",textures:Z}),(0,n.jsx)(y,{name:"Jupiter",textures:O}),(0,n.jsx)(y,{name:"Saturn",textures:B}),(0,n.jsx)(y,{name:"Uranus",textures:A}),(0,n.jsx)(y,{name:"Neptune",textures:N}),(0,n.jsx)(m.Z,{position:e.position,resetCamera:C},"Sun-plain")]})},_=()=>(0,n.jsx)(s.Z,{children:(0,n.jsx)(M,{})})}},function(e){e.O(0,[393,689,723,162,882,971,190,744],function(){return e(e.s=756)}),_N_E=e.O()}]);