(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{4056:function(e,t,r){Promise.resolve().then(r.bind(r,4720))},4720:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(3827),s=r(2532),a=r(4090),o=r(7475),i=r(7808),u=r(7912),c=r(424),p=r(440),l=r(5556),m=r(8675),x=r(1653),d=r(2509),h=r(2311),j=r(6959);let f=(0,a.forwardRef)((e,t)=>{let{name:r="Earth",textures:s}=e,{planetsData:o}=(0,u.d2)(),i={...o[r]},{mass:p,radius:l,orbitalOrigin:m,orbitalRadius:f,orbitalSpeed:y,orbitalPeriod:P,orbitalInclination:g,axialTilt:M,rotationPeriod:_,surfaceTemp:k,color:v,gravity:b,initialOrbitalAngle:S}=i,{simSpeed:z,updateRotationCount:C,incrementDate:E,simulationDate:I,orbitPaths:w}=(0,u.ZP)(),{planetAngles:O,updatePlanetPosition:R,selectedPlanet:T,setSelectedPlanet:D,displayLabels:N,planetPositions:Z}=(0,u.d2)(),{setSurfacePoint:B,surfacePoint:F,isSurfaceCameraActive:U,setCameraSurfacePoint:Y}=(0,u.g5)(),V=t||(0,a.useRef)(),A=(0,a.useRef)(O[r]||0),K=f*(U?1e-4:c.Hm),X=l*c.YB;c.E_;let q=T&&T.name===r,[G,H]=(0,a.useState)({x:0,y:0,z:0}),[J,L]=(0,a.useState)(!1),Q=(0,a.useRef)({x:0,y:0}),W=(0,a.useRef)();(0,x.A)((e,t)=>{let n=t*z;0===A.current?A.current=Math.PI/180*S:A.current-=2*Math.PI/(86400*P)*n;let s=K*Math.cos(A.current),a=K*Math.sin(A.current);if(V.current){let e=Math.sin(Math.PI/180*g)*K*Math.sin(A.current);V.current.position.set(s,e,a),R(r,{x:s,y:e,z:a}),_&&(V.current.rotation.y+=2*Math.PI/(3600*_)*n,H({x:V.current.rotation.x,y:V.current.rotation.y,z:V.current.rotation.z}),V.current.rotation.y>=2*Math.PI&&(V.current.rotation.y%=2*Math.PI,C(r,1),"Earth"===r&&E()))}});let[$,ee]=(0,a.useState)(!1);(0,x.A)(e=>{let{camera:t}=e;V.current&&ee(8e3>t.position.distanceTo(V.current.position))});let et=e=>{e.stopPropagation(),J||D(i)},er=e=>{e.stopPropagation(),L(!1),Q.current={x:e.clientX,y:e.clientY}},en=e=>{Math.sqrt(Math.pow(e.clientX-Q.current.x,2)+Math.pow(e.clientY-Q.current.y,2))>5&&L(!0)},es=e=>{L(!1)},ea=e=>{e.stopPropagation(),document.body.style.cursor="pointer"},eo=e=>{e.stopPropagation(),document.body.style.cursor="auto"},ei=q?64:32;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("group",{ref:V,children:[(0,n.jsxs)("mesh",{ref:W,onClick:et,onPointerDown:er,onPointerMove:en,onPointerUp:es,onPointerOver:ea,onPointerOut:eo,children:[(0,n.jsx)("sphereGeometry",{args:[X,ei,ei]}),s?(0,n.jsx)("meshStandardMaterial",{metalness:.3,roughness:.65,map:s.map}):(0,n.jsx)("meshStandardMaterial",{color:v})]}),"Saturn"===r&&(0,n.jsxs)("group",{children:[(0,n.jsx)(h.KC,{args:[2*X,.15*X,2,80],position:[0,0,0],rotation:[Math.PI/2,0,0],children:(0,n.jsx)("meshBasicMaterial",{color:"#Ffffff",transparent:!0,opacity:.6})}),(0,n.jsx)(h.KC,{args:[1.5*X,.3*X,2,80],position:[0,0,0],rotation:[Math.PI/2,0,0],children:(0,n.jsx)("meshBasicMaterial",{color:"#F4E1C1",transparent:!0,opacity:.6})})]}),N?(0,n.jsx)(j.V,{as:"span",wrapperClass:"label-wrapper",center:!0,occlude:!0,"position-y":X+.25*X,zIndexRange:[100,0],children:(0,n.jsx)("span",{className:"planet-label",style:{color:v},onClick:et,onPointerDown:er,onPointerMove:en,onPointerUp:es,onPointerOver:ea,onPointerOut:eo,children:r})}):(0,n.jsx)(j.V,{as:"div",center:!0,zIndexRange:[100,0],children:(0,n.jsx)("div",{className:"planet-point",style:{backgroundColor:v},onClick:et,onPointerDown:er,onPointerMove:en,onPointerUp:es,onPointerOver:ea,onPointerOut:eo})})]}),w&&(0,n.jsx)(d.Z,{origin:m,radius:K,orbitalInclination:g,color:v,name:r})]})});var y=r(3833),P=()=>{let{sunSettings:e,rotationCounts:t,simulationDate:r}=(0,u.ZP)(),{planetPositions:s,selectedPlanet:x,setSelectedPlanet:d,selectedMoon:h,setSelectedMoon:j,planetsData:P}=(0,u.d2)(),{surfacePoint:g,isSurfaceCameraActive:M,triggerReset:_,setTriggerReset:k}=(0,u.g5)();(0,a.useRef)();let v=(0,a.useRef)(),[b,S]=(0,a.useState)(200),z=e=>4.2*e,C=()=>{if(!v.current)return;d(null),j(null),S(200),v.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};v.current.setPosition(t.x,t.y,t.z,!0)};(0,a.useEffect)(()=>{if(x&&v.current){let e=s[x.name];if(e){let t=z(P[x.name].radius*c.YB);S(t/2),v.current.setTarget(e.x,e.y,e.z,!0),v.current.dollyTo(t,!0)}"Sun"===x.name&&(S(200),v.current.setTarget(0,0,0,!0),v.current.dollyTo(200,!0))}},[x,s]),(0,a.useEffect)(()=>{if(h&&v.current){let e=h.position;if(e){let t=z(h.bodyData.radius*p.sh);S(t/2),v.current.setTarget(e.x,e.y,e.z,!0),v.current.dollyTo(t,!0)}}},[h,p._d]),(0,a.useEffect)(()=>{C&&(C(),k(!1))},[_]);let E=(0,o.m)({map:"../assets/earth/2k_earth_daymap.jpg"}),I=(0,o.m)({map:"../assets/venus/2k_venus_surface.jpg",surface:"../assets/venus/2k_venus_atmosphere.jpg"}),w=(0,o.m)({map:"../assets/mercury/2k_mercury.jpg"}),O=(0,o.m)({map:"../assets/mars/2k_mars.jpg"}),R=(0,o.m)({map:"../assets/jupiter/2k_jupiter.jpg"}),T=(0,o.m)({map:"../assets/saturn/2k_saturn.jpg"}),D=(0,o.m)({map:"../assets/uranus/2k_uranus.jpg"}),N=(0,o.m)({map:"../assets/neptune/2k_neptune.jpg"}),Z=(e,t)=>(p._d[e]||[]).map((t,r)=>(0,n.jsx)(l.Z,{bodyData:t,parentPosition:s[e],parentName:e},"".concat(e,"-moon-").concat(r)));return(0,n.jsxs)(n.Fragment,{children:[!M&&(0,n.jsx)(i.B,{ref:v,makeDefault:!0,maxDistance:9e4,smoothTime:1,truckSpeed:.6,rotateSpeed:.6,minDistance:Math.min(1,b)}),(0,n.jsx)(y.Z,{}),(0,n.jsx)(f,{name:"Earth",textures:E}),(0,n.jsx)(f,{name:"Mars",textures:O}),(0,n.jsx)(f,{name:"Venus",textures:I}),(0,n.jsx)(f,{name:"Mercury",textures:w}),(0,n.jsx)(f,{name:"Jupiter",textures:R}),(0,n.jsx)(f,{name:"Saturn",textures:T}),(0,n.jsx)(f,{name:"Uranus",textures:D}),(0,n.jsx)(f,{name:"Neptune",textures:N}),Object.entries(p._d).map(e=>{let[t,r]=e;return Z(t,r)}),(0,n.jsx)(m.Z,{position:e.position,resetCamera:C},"Sun-plain")]})},g=()=>(0,n.jsx)(s.Z,{children:(0,n.jsx)(P,{})})}},function(e){e.O(0,[689,723,800,176,351,971,468,744],function(){return e(e.s=4056)}),_N_E=e.O()}]);