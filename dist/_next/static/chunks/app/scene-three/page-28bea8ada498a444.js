(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{756:function(e,t,r){Promise.resolve().then(r.bind(r,7150))},7150:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(7437),s=r(9362),a=r(2265),o=r(7871),i=r(3719),u=r(8384),c=r(2079),l=r(8942),p=r(625),m=r(5375),x=r(15),d=r(4823),h=r(2325),j=r(7776),g=r(878),f=r(1675);let y=(0,a.forwardRef)((e,t)=>{let{name:r="Earth",textures:s}=e,{planetsData:o}=(0,u.d2)(),i={...o[r]},{mass:m,radius:y,orbitalOrigin:P,orbitalRadius:M,orbitalSpeed:_,orbitalPeriod:k,orbitalInclination:v,axialTilt:S,rotationPeriod:T,surfaceTemp:E,color:b,gravity:w,initialOrbitalAngle:R,interestPoints:C}=i,{simSpeed:D,updateRotationCount:I,incrementDate:Z,orbitPaths:z,toggleDetailsMenu:O}=(0,u.ZP)(),{planetAngles:B,updatePlanetPosition:N,selectedPlanet:A,setSelectedPlanet:U,displayLabels:Y,setSelectedMoon:G}=(0,u.d2)(),{isSurfaceCameraActive:V,satelliteCamera:X,toggleSatelliteCamera:F}=(0,u.g5)(),W=t||(0,a.useRef)(),q=(0,a.useRef)(B[r]||0),[H,J]=(0,a.useState)(!1),K=M*(V?1e-4:c.Hm),L=y*c.YB;c.E_;let Q=A&&A.name===r,$=Q?64:32,[ee,et]=(0,a.useState)(!1),er=(0,a.useRef)({x:0,y:0}),en=(0,a.useRef)(),es=(0,a.useRef)();(0,x.A)((e,t)=>{let n=t*D;0===q.current?q.current=Math.PI/180*R:q.current-=2*Math.PI/(86400*k)*n;let s=K*Math.cos(q.current),a=K*Math.sin(q.current);if(W.current){let e=Math.sin(Math.PI/180*v)*K*Math.sin(q.current);if(W.current.position.set(s,e,a),N(r,{x:s,y:e,z:a}),T){let e=2*Math.PI/(3600*T)*n,t=new j.Vector3(0,1,0);en.current.rotateOnAxis(t,e),W.current.rotation.y>=2*Math.PI&&(W.current.rotation.y%=2*Math.PI,I(r,1),"Earth"===r&&Z()),es.current&&(es.current.rotation.y+=e)}}}),(0,a.useEffect)(()=>{en.current&&(en.current.rotation.order="YXZ",en.current.rotation.y=0,en.current.rotation.x=j.MathUtils.degToRad(S))},[S,A]);let ea=e=>{e.stopPropagation(),!ee&&(O(!0),Q||(U(i),G(null)))},eo=e=>{e.stopPropagation(),et(!1),er.current={x:e.clientX,y:e.clientY}},ei=e=>{Math.sqrt(Math.pow(e.clientX-er.current.x,2)+Math.pow(e.clientY-er.current.y,2))>5&&et(!0)},eu=e=>{et(!1)},[ec,el]=(0,a.useState)(!1),ep=e=>{e.stopPropagation(),document.body.style.cursor="pointer",el(!0)},em=e=>{e.stopPropagation(),document.body.style.cursor="auto",el(!1)},[ex,ed]=(0,a.useState)(L);(0,x.A)(e=>{let{camera:t}=e;if(!en.current)return;let r=W.current.position.distanceTo(t.position);r/100<=L?ed(L):ed(r/100)});let eh=(0,x.D)(j.TextureLoader,"../assets/saturn/saturn-rings.png");eh.wrapS=j.RepeatWrapping,eh.wrapT=j.ClampToEdgeWrapping;let ej=l._d[r]||[];return(0,n.jsxs)(n.Fragment,{children:[Q&&W.current&&(0,n.jsx)(f.Z,{target:W.current,targetName:r,color:b,size:L,satelliteCamera:X,toggleSatelliteCamera:F}),(0,n.jsxs)("group",{ref:W,children:[(0,n.jsx)("mesh",{visible:!1,onClick:ea,onPointerDown:eo,onPointerMove:ei,onPointerUp:eu,onPointerOver:ep,onPointerOut:em,children:Q?(0,n.jsx)("sphereGeometry",{args:[L,16,16]}):(0,n.jsx)("sphereGeometry",{args:[3*ex,8,8]})}),(0,n.jsxs)("mesh",{ref:en,children:[(0,n.jsx)("sphereGeometry",{args:[ex,$,$]}),!Q&&H?(0,n.jsx)("meshBasicMaterial",{color:b}):(0,n.jsx)("meshStandardMaterial",{metalness:.6,roughness:.8,map:null==s?void 0:s.map,onBuild:()=>J(!0)})]},Q?r+"-textured":r+"-basic"),"Saturn"===r&&(0,n.jsx)("group",{ref:es,rotation:[j.MathUtils.degToRad(S),0,0],children:(0,n.jsx)(d.KC,{args:[1.7*L,.5*L,2,100],position:[0,0,0],rotation:[Math.PI/2,0,0],children:(0,n.jsx)("meshBasicMaterial",{map:eh,side:j.DoubleSide,transparent:!0})})}),(Y||ec&&!Q)&&(0,n.jsx)(h.V,{as:"span",wrapperClass:"label-wrapper",center:!0,occlude:!0,"position-y":Q?ex+.25*ex:4*ex,zIndexRange:[100,0],style:{pointerEvents:"none"},children:(0,n.jsx)("span",{className:"planet-label",style:{color:b,pointerEvents:ec?"none":"auto"},onClick:ea,onPointerDown:eo,onPointerMove:ei,onPointerUp:eu,onPointerOver:ep,onPointerOut:em,children:r})}),Q&&ej.map((e,t)=>{var s;return(0,n.jsx)(p.Z,{moonData:e,planetPosition:null===(s=W.current)||void 0===s?void 0:s.position},"".concat(r,"-moon-").concat(t))})]}),z&&(0,n.jsx)(g.Z,{origin:P,radius:K,orbitalInclination:v,color:b,name:r,hiRes:Q})]})});var P=r(3920),M=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:s,setPrevSpeed:p}=(0,u.ZP)(),{planetPositions:d,selectedPlanet:h,setSelectedPlanet:j,selectedMoon:g,setSelectedMoon:f,planetsData:M}=(0,u.d2)(),{satelliteCamera:_,triggerReset:k,setTriggerReset:v,toggleCameraTransitioning:S,isCameraTransitioning:T}=(0,u.g5)(),E=(0,a.useRef)(),[b,w]=(0,a.useState)(200),R=e=>4.2*e,C=()=>{if(!E.current)return;j(null),f(null),w(200),E.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};E.current.setPosition(t.x,t.y,t.z,!0)};(0,x.A)(()=>{if(h&&E.current){let e=d[h.name];if(e){let t=R(M[h.name].radius*c.YB);w(t/2),E.current.setTarget(e.x,e.y,e.z,!0),E.current.dollyTo(t,!0)}"Sun"===h.name&&(w(200),E.current.setTarget(0,0,0,!0),E.current.dollyTo(200,!0))}}),(0,x.A)(()=>{if(g&&E.current){let e=g.position;if(e){let t=R(g.bodyData.radius*l.sh);w(t/2),E.current.setTarget(e.x,e.y,e.z,!0),E.current.dollyTo(t,!0)}}}),(0,a.useEffect)(()=>{C&&(C(),v(!1))},[k]),(0,a.useEffect)(()=>{h&&"Sun"!==h.name&&(p(t),r(0),S(!0))},[h]);let D=(0,o.m)({map:"../assets/earth/8k_earth_daymap.jpg",clouds:"../assets/earth/2k_earth_clouds.jpg"}),I=(0,o.m)({map:"../assets/venus/2k_venus_surface.jpg"}),Z=(0,o.m)({map:"../assets/mercury/2k_mercury.jpg"}),z=(0,o.m)({map:"../assets/mars/2k_mars.jpg"}),O=(0,o.m)({map:"../assets/jupiter/2k_jupiter.jpg"}),B=(0,o.m)({map:"../assets/saturn/2k_saturn.jpg"}),N=(0,o.m)({map:"../assets/uranus/2k_uranus.jpg"}),A=(0,o.m)({map:"../assets/neptune/2k_neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[!_&&(0,n.jsx)(i.B,{ref:E,makeDefault:!_,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,near:.001,far:1e6,minDistance:b,maxDistance:9e4}),(0,n.jsx)(P.Z,{}),(0,n.jsx)(y,{name:"Earth",textures:D}),(0,n.jsx)(y,{name:"Mars",textures:z}),(0,n.jsx)(y,{name:"Venus",textures:I}),(0,n.jsx)(y,{name:"Mercury",textures:Z}),(0,n.jsx)(y,{name:"Jupiter",textures:O}),(0,n.jsx)(y,{name:"Saturn",textures:B}),(0,n.jsx)(y,{name:"Uranus",textures:N}),(0,n.jsx)(y,{name:"Neptune",textures:A}),(0,n.jsx)(m.Z,{position:e.position,resetCamera:C},"Sun-plain")]})},_=()=>(0,n.jsx)(s.Z,{children:(0,n.jsx)(M,{})})}},function(e){e.O(0,[393,689,723,828,350,971,190,744],function(){return e(e.s=756)}),_N_E=e.O()}]);