(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{327:function(e,t,r){Promise.resolve().then(r.bind(r,1420))},1420:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),a=r(2226),o=r(2265),i=r(7871),s=r(3719),u=r(8384),c=r(2079),l=r(5375),m=r(5264),d=r(3920),p=r(9373),h=r(1875),f=r(7776),g=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:a,setPrevSpeed:g,setViewOnlyMode:x}=(0,u.ZP)(),{planetPositions:y,selectedPlanet:j,selectedMoon:M,setSelectedMoon:b,planetsData:v,moonsData:A,moonPositions:w}=(0,u.d2)(),{satelliteCamera:z,isCameraTransitioning:_,toggleCameraTransitioning:P,isZoomingToSun:S,resetCamera:T,toggleZoomingToSun:k,activeCamera:C}=(0,u.g5)(),Z=(0,o.useRef)(),[E,F]=(0,o.useState)(200),[B,R]=(0,o.useState)(!1),V=[1e5,1e5,1e5],D=[2e4,2e4,2e4],I=[0,0,0];(0,o.useEffect)(()=>{Z.current&&!B&&(Z.current.setPosition(...V,!1),Z.current.setTarget(...I,!1),setTimeout(()=>{Z.current.setPosition(...D,!0),Z.current.setTarget(...I,!0),R(!0)},100))},[Z.current]);let N=e=>"moon"===C.type?Math.max(.5*e,.01):4.2*e,G=(e,t)=>{let r=A[t];return r?r.find(t=>t.name===e):null};(0,p.A)(()=>{if(Z.current){if("planet"===C.type){let e=y[j.name];if(b(null),e){let t=N(v[j.name].radius*c.YB);F(t/2),Z.current.setTarget(e.x,e.y,e.z,!0),Z.current.dollyTo(t,!0),k(!1)}}if("moon"===C.type){let e=w[C.name],t=G(C.name,C.parentName);if(e&&t){let r=t.radius*c.YB,n=N(r);F(2*r),Z.current.setTarget(e.x,e.y,e.z,!0),Z.current.dollyTo(4*n,!0);let a=new f.Vector3;Z.current.getTarget(a),.1>a.distanceTo(new f.Vector3(e.x,e.y,e.z))&&(k(!1),P(!1))}}if("Sun"===C.name&&(F(200),Z.current.setTarget(0,0,0,!0),Z.current.distance<800&&k(!1),Z.current.dollyTo(200,!0)),"custom"===C.type&&(Z.current.setPosition(C.position.x,C.position.y,C.position.z,!0),Z.current.setTarget(C.target.x,C.target.y,C.target.z,!0)),"orbit"===C.type&&"default"===C.name&&_){let e=C.position,t=C.lookAt,r=new f.Vector3,n=new f.Vector3;Z.current.getPosition(r),Z.current.getTarget(n),r.distanceTo(e)>100&&Z.current.setLookAt(e.x,e.y,e.z,t.x,t.y,t.z,!0),P(!1),F(200)}"orbit"!==C.type||_||F(200)}}),(0,o.useEffect)(()=>{Z.current&&!B&&(Z.current.setPosition(...V,!1),Z.current.setTarget(...I,!1),Z.current.camera.updateProjectionMatrix(),setTimeout(()=>{T(),R(!0)},100))},[Z.current]),(0,o.useEffect)(()=>{var e;("planet"===C.type||"moon"===C.type)&&(P(!0),g(t),r(0)),"orbit"===C.type&&"default"===C.name&&0===t&&r(a),j||M||(k(!1),0===t&&r(a)),"Sun"===C.name&&(k(!0),0===t&&(r(a),P(!1))),null===(e=Z.current)||void 0===e||e.camera.updateProjectionMatrix()},[j,M,C]),(0,o.useEffect)(()=>{x(!0);let e=e=>{1===e.button&&e.preventDefault(),Z.current&&(Z.current.mouseButtons.right=1)};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[]);let Y=(0,i.m)({map:"../assets/earth/8k_earth_daymap.jpg",clouds:"../assets/earth/8k_earth_clouds.jpg"}),L=(0,i.m)({map:"../assets/sun/8k_sun.jpg"}),O=(0,i.m)({map:"../assets/venus/2k_venus_surface.jpg"}),q=(0,i.m)({map:"../assets/mercury/2k_mercury.jpg"}),H=(0,i.m)({map:"../assets/mars/1k_mars.jpg"}),J=(0,i.m)({map:"../assets/jupiter/8k_jupiter.jpg"}),U=(0,i.m)({map:"../assets/saturn/2k_saturn.jpg",ringTexture:"../assets/saturn/saturn-rings.png"}),W=(0,i.m)({map:"../assets/uranus/2k_uranus.jpg",ringTexture:"../assets/uranus/uranus-rings-2.png"}),K=(0,i.m)({map:"../assets/neptune/2k_neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[!z&&(0,n.jsx)(s.B,{ref:Z,makeDefault:!z,maxDistance:9e4,smoothTime:.6,enableDamping:!0,near:.01,far:1e6,minDistance:E,autoRotate:!0}),(0,n.jsx)(d.Z,{}),(0,n.jsx)(m.Z,{name:"Earth",textures:Y}),(0,n.jsx)(m.Z,{name:"Mars",textures:H}),(0,n.jsx)(m.Z,{name:"Venus",textures:O}),(0,n.jsx)(m.Z,{name:"Mercury",textures:q}),(0,n.jsx)(m.Z,{name:"Jupiter",textures:J}),(0,n.jsx)(m.Z,{name:"Saturn",textures:U}),(0,n.jsx)(m.Z,{name:"Uranus",textures:W}),(0,n.jsx)(m.Z,{name:"Neptune",textures:K}),(0,n.jsx)(h.Z,{particleCount:5e3}),(0,n.jsx)(l.Z,{textures:L,position:e.position,resetCamera:T},"Sun-plain")]})},x=()=>(0,n.jsx)(a.Z,{children:(0,n.jsx)(g,{})})},1875:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(7437),a=r(2265),o=r(9373),i=r(7776),s=r(2079),u=r(8384),c=r(1577),l=e=>{let{count:t=1e3}=e,r=(0,a.useRef)([]),s=(0,a.useMemo)(()=>{let e=[new i.IcosahedronGeometry(1,0),new i.DodecahedronGeometry(1,0),new i.OctahedronGeometry(1,0)];return Array.from({length:t},()=>({position:new i.Vector3((Math.random()-.5)*2e3,(Math.random()-.5)*200,(Math.random()-.5)*2e3),rotation:new i.Euler(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),scale:.5+2*Math.random(),geometry:e[Math.floor(Math.random()*e.length)],rotationSpeed:{x:(Math.random()-.5)*.002,y:(Math.random()-.5)*.002,z:(Math.random()-.5)*.002},color:new i.Color(.4+.2*Math.random(),.3+.2*Math.random(),.2+.2*Math.random())}))},[t]);(0,o.A)(()=>{r.current.forEach((e,t)=>{e&&(e.rotation.x+=s[t].rotationSpeed.x,e.rotation.y+=s[t].rotationSpeed.y,e.rotation.z+=s[t].rotationSpeed.z)})});let u=(0,a.useMemo)(()=>new i.MeshStandardMaterial({roughness:.8,metalness:.2,flatShading:!0}),[]);return(0,n.jsx)("group",{children:s.map((e,t)=>(0,n.jsx)("mesh",{ref:e=>r.current[t]=e,position:e.position,rotation:e.rotation,scale:e.scale,geometry:e.geometry,children:(0,n.jsx)("primitive",{object:u,attach:"material",color:e.color})},t))})},m=e=>{let{particleCount:t=5e3}=e,{simSpeed:r}=(0,u.ZP)(),{displayLabels:m}=(0,u.d2)(),{activeCamera:d,switchToCustomCamera:p,setAutoRotate:h}=(0,u.g5)(),f=(0,a.useRef)(!1),g=(0,a.useRef)(),x=(0,a.useRef)(1),y=(0,a.useRef)(),j=s.B9.innerRadius*s.Hm,M=s.B9.outerRadius*s.Hm,b=(j+M)/2,v=new i.Vector3(.8*b,.01*b,0),{positions:A,sizes:w,colors:z,velocities:_,initialAngles:P,eccentricities:S,semiMajorAxes:T}=(0,a.useMemo)(()=>{let e=new Float32Array(3*t),r=new Float32Array(t),n=new Float32Array(3*t),a=new Float32Array(t),o=new Float32Array(t),i=new Float32Array(t),s=new Float32Array(t);for(let u=0;u<t;u++){let t=j+Math.pow(Math.random(),.5)*(M-j),c=.3*Math.random(),l=Math.random()*Math.PI*2,m=20*Math.random()*(Math.PI/275),d=t*(1-c*c)/(1+c*Math.cos(l)),p=d*Math.cos(l),h=d*Math.sin(m)*Math.sin(l),f=d*Math.cos(m)*Math.sin(l);e[3*u]=p,e[3*u+1]=h,e[3*u+2]=f,r[u]=50*Math.pow(Math.random(),3)+10,a[u]=.1*Math.sqrt(b/t),o[u]=l,i[u]=c,s[u]=t;let g=Math.random();g>.8?(n[3*u]=.545,n[3*u+1]=.45,n[3*u+2]=.33):g>.5?(n[3*u]=.29,n[3*u+1]=.29,n[3*u+2]=.29):(n[3*u]=.63,n[3*u+1]=.32,n[3*u+2]=.18)}return{positions:e,sizes:r,colors:n,velocities:a,initialAngles:o,eccentricities:i,semiMajorAxes:s}},[t]);(0,o.A)((e,t)=>{let n=t*r/s.E_;if(g.current&&(g.current.material.uniforms.time.value+=n),e.camera){let t=e.camera.position.distanceTo(v);x.current=.02*t}});let k=(0,a.useMemo)(()=>new i.ShaderMaterial({vertexShader:"\n                attribute float size;\n                attribute vec3 color;\n                attribute float velocity;\n                attribute float initialAngle;\n                attribute float eccentricity;\n                attribute float semiMajorAxis;\n                \n                varying vec3 vColor;\n                \n                uniform float time;\n                \n                void main() {\n                    vColor = color;\n                    \n                    // Calculate true anomaly (angle from perihelion)\n                    float meanAnomaly = initialAngle + velocity * time;\n                    float angle = meanAnomaly; // Approximation of true anomaly\n                    \n                    // Calculate radius using orbital equation\n                    float radius = semiMajorAxis * (1.0 - eccentricity * eccentricity) / \n                                 (1.0 + eccentricity * cos(angle));\n                    \n                    // Calculate new position\n                    vec3 pos = position;\n                    float baseY = pos.y / length(pos.xz); // Preserve inclination ratio\n                    pos.x = radius * cos(angle);\n                    pos.z = radius * sin(angle);\n                    pos.y = baseY * length(pos.xz); // Apply inclination to new radius\n                    \n                    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n                    \n                    gl_PointSize = size * (300.0 / -mvPosition.z);\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n                varying vec3 vColor;\n                \n                void main() {\n                    vec2 coord = gl_PointCoord - vec2(0.5);\n                    if (length(coord) > 0.5) discard;\n                    \n                    float distanceFromCenter = length(coord);\n                    float brightness = 1.0 - distanceFromCenter * 0.5;\n                    \n                    gl_FragColor = vec4(vColor * brightness, 1.0);\n                }\n            ",uniforms:{time:{value:0}},transparent:!1,depthWrite:!1,blending:i.NoBlending}),[]);return(0,n.jsxs)(n.Fragment,{children:[(m||f.current)&&(0,n.jsx)("group",{ref:y,position:v,children:(0,n.jsx)(c.Z,{text:"Asteroid Belt",size:x.current,color:"orangered",handleClick:e=>{e.stopPropagation(),(null==d?void 0:d.name)!=="Asteroid Belt"&&(p("Asteroid Belt"),h(!0))}})}),(null==d?void 0:d.name)==="Asteroid Belt"&&(0,n.jsx)(l,{}),(0,n.jsx)("group",{children:(0,n.jsxs)("points",{ref:g,children:[(0,n.jsxs)("bufferGeometry",{children:[(0,n.jsx)("bufferAttribute",{attach:"attributes-position",count:t,array:A,itemSize:3}),(0,n.jsx)("bufferAttribute",{attach:"attributes-size",count:t,array:w,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-color",count:t,array:z,itemSize:3}),(0,n.jsx)("bufferAttribute",{attach:"attributes-velocity",count:t,array:_,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-initialAngle",count:t,array:P,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-eccentricity",count:t,array:S,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-semiMajorAxis",count:t,array:T,itemSize:1})]}),(0,n.jsx)("primitive",{object:k,attach:"material"})]})})]})}}},function(e){e.O(0,[433,689,623,533,264,971,190,744],function(){return e(e.s=327)}),_N_E=e.O()}]);