(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{4507:function(e,t,s){Promise.resolve().then(s.bind(s,3841))},3841:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var r=s(3827),a=s(1336),n=s(4090),u=s(7475),o=s(7808),i=s(4541),p=s(7912),c=s(424),m=s(440),x=s(6376),d=s(1653),l=s(5556),f=s(8675),y=s(2597),j=()=>{let{sunSettings:e,rotationCounts:t,simulationDate:s}=(0,p.ZP)(),{planetPositions:a,selectedPlanet:j,selectedMoon:Z}=(0,p.d2)(),{surfacePoint:_,isSurfaceCameraActive:k}=(0,p.g5)(),b=(0,n.useRef)(),g=(0,n.useRef)(),[D,h]=(0,n.useState)(200),P=()=>{if(!g.current)return;h(200),g.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};g.current.setPosition(t.x,t.y,t.z,!0)};(0,n.useEffect)(()=>{if(j&&g.current){let e=a[j.name];if(e){let t=c.ZP[j.name].radius*c.YB*4;h(t/2),g.current.setTarget(e.x,e.y,e.z,!0),g.current.dollyTo(t,!0)}"Sun"===j.name&&(h(200),g.current.setTarget(0,0,0,!0),g.current.dollyTo(200,!0))}},[j,a]),(0,n.useEffect)(()=>{if(Z&&g.current){let e=Z.position;if(e){let t=Z.bodyData.radius*m.sh*4;h(t/2),g.current.setTarget(e.x,e.y,e.z,!0),g.current.dollyTo(t,!0)}}},[Z,m._d]),(0,n.useEffect)(()=>{!j&&g.current&&P()},[j,e.position]),(0,d.A)(()=>{if(k&&_&&j){let e=a[j.name];if(e){let t=new x.Vector3(e.x,e.y,e.z),s=new x.Vector3(_.x,_.y,_.z).sub(t).normalize(),r=new x.Vector3(_.x,_.y,_.z).add(s.multiplyScalar(.1));b.current.position.copy(r);let a=r.clone().add(s);b.current.lookAt(a),b.current.up.copy(s)}}});let z=(0,u.m)({map:"../assets/earth/2k_earth_daymap.jpg"}),S=(0,u.m)({map:"../assets/venus/2k_venus_surface.jpg",surface:"../assets/venus/2k_venus_atmosphere.jpg"}),T=(0,u.m)({map:"../assets/mercury/2k_mercury.jpg"}),v=(0,u.m)({map:"../assets/mars/2k_mars.jpg"}),E=(0,u.m)({map:"../assets/jupiter/2k_jupiter.jpg"}),w=(0,u.m)({map:"../assets/saturn/2k_saturn.jpg"}),N=(0,u.m)({map:"../assets/uranus/2k_uranus.jpg"}),V=(0,u.m)({map:"../assets/neptune/2k_neptune.jpg"}),C=(e,t)=>(m._d[e]||[]).map((t,s)=>(0,r.jsx)(l.Z,{bodyData:t,parentPosition:a[e],parentName:e},"".concat(e,"-moon-").concat(s)));return(0,r.jsxs)(r.Fragment,{children:[!k&&(0,r.jsx)(o.B,{ref:g,makeDefault:!0,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,zoomSpeed:.1,minDistance:Math.max(.02,D)}),_&&k&&(0,r.jsx)(i.c,{ref:b,makeDefault:!0,position:[_.x,_.y+10,_.z],fov:70,near:.01,far:1e6}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Earth,textures:z}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Mars,textures:v}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Venus,textures:S}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Mercury,textures:T}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Jupiter,textures:E}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Saturn,textures:w}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Uranus,textures:N}),(0,r.jsx)(y.Z,{bodyData:c.ZP.Neptune,textures:V}),Object.entries(m._d).map(e=>{let[t,s]=e;return C(t,s)}),(0,r.jsx)(f.Z,{position:e.position,resetCamera:P},"Sun-plain")]})},Z=()=>(0,r.jsx)(a.Z,{children:(0,r.jsx)(j,{})})}},function(e){e.O(0,[689,723,800,896,417,971,468,744],function(){return e(e.s=4507)}),_N_E=e.O()}]);