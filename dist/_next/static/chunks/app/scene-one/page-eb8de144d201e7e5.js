(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{6669:function(e,t,s){Promise.resolve().then(s.bind(s,8083))},8083:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=s(7437),r=s(2226),n=s(2265),u=s(7871),o=s(3719),i=s(5533),p=s(8384),c=s(2079),m=s(8942),l=s(7776),x=s(9373),f=s(2167),y=s(5375),d=s(5264),j=s(3920),Z=()=>{let{sunSettings:e,rotationCounts:t,simulationDate:s}=(0,p.ZP)(),{planetPositions:r,selectedPlanet:Z,setSelectedPlanet:_,selectedMoon:k,setSelectedMoon:D}=(0,p.d2)(),{surfacePoint:b,isSurfaceCameraActive:g,triggerReset:h,setTriggerReset:P}=(0,p.g5)(),z=(0,n.useRef)(),S=(0,n.useRef)(),[T,v]=(0,n.useState)(200),E=()=>{if(!S.current)return;_(null),D(null),v(200),S.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};S.current.setPosition(t.x,t.y,t.z,!0)};(0,n.useEffect)(()=>{if(Z&&S.current){let e=r[Z.name];if(e){let t=c.ZP[Z.name].radius*c.YB*4;v(t/2),S.current.setTarget(e.x,e.y,e.z,!0),S.current.dollyTo(t,!0)}"Sun"===Z.name&&(v(200),S.current.setTarget(0,0,0,!0),S.current.dollyTo(200,!0))}},[Z,r]),(0,n.useEffect)(()=>{if(k&&S.current){let e=k.position;if(e){let t=k.bodyData.radius*m.sh*4;v(t/2),S.current.setTarget(e.x,e.y,e.z,!0),S.current.dollyTo(t,!0)}}},[k,m.moonsData]),(0,n.useEffect)(()=>{E&&(E(),P(!1))},[h]),(0,x.A)(()=>{if(g&&b&&Z){let e=r[Z.name];if(e){let t=new l.Vector3(e.x,e.y,e.z),s=new l.Vector3(b.x,b.y,b.z).sub(t).normalize(),a=new l.Vector3(b.x,b.y,b.z).add(s.multiplyScalar(.1));z.current.position.copy(a);let r=a.clone().add(s);z.current.lookAt(r),z.current.up.copy(s)}}});let w=(0,u.m)({map:"../assets/earth/2k_earth_daymap.jpg"}),N=(0,u.m)({map:"../assets/venus/2k_venus_surface.jpg",surface:"../assets/venus/2k_venus_atmosphere.jpg"}),V=(0,u.m)({map:"../assets/mercury/2k_mercury.jpg"}),C=(0,u.m)({map:"../assets/mars/2k_mars.jpg"}),M=(0,u.m)({map:"../assets/jupiter/2k_jupiter.jpg"}),O=(0,u.m)({map:"../assets/saturn/2k_saturn.jpg"}),A=(0,u.m)({map:"../assets/uranus/2k_uranus.jpg"}),B=(0,u.m)({map:"../assets/neptune/2k_neptune.jpg"}),R=(e,t)=>(m.moonsData[e]||[]).map((t,s)=>(0,a.jsx)(f.Z,{bodyData:t,parentPosition:r[e],parentName:e},"".concat(e,"-moon-").concat(s)));return(0,a.jsxs)(a.Fragment,{children:[!g&&(0,a.jsx)(o.B,{ref:S,makeDefault:!0,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,zoomSpeed:.1,minDistance:Math.max(.02,T)}),b&&g&&(0,a.jsx)(i.c,{ref:z,makeDefault:!0,position:[b.x,b.y+10,b.z],fov:70,near:.01,far:1e6}),(0,a.jsx)(j.Z,{}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Earth,textures:w}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Mars,textures:C}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Venus,textures:N}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Mercury,textures:V}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Jupiter,textures:M}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Saturn,textures:O}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Uranus,textures:A}),(0,a.jsx)(d.Z,{bodyData:c.ZP.Neptune,textures:B}),Object.entries(m.moonsData).map(e=>{let[t,s]=e;return R(t,s)}),(0,a.jsx)(y.Z,{position:e.position,resetCamera:E},"Sun-plain")]})},_=()=>(0,a.jsx)(r.Z,{children:(0,a.jsx)(Z,{})})}},function(e){e.O(0,[433,689,623,533,264,971,190,744],function(){return e(e.s=6669)}),_N_E=e.O()}]);