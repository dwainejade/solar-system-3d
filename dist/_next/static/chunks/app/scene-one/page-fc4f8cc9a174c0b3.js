(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{2782:function(e,t,s){Promise.resolve().then(s.bind(s,6223)),Promise.resolve().then(s.bind(s,1336))},6223:function(e,t,s){"use strict";s.r(t);var a=s(3827),r=s(4090),n=s(7475),o=s(7808),u=s(4541),i=s(7912),p=s(424),m=s(440),c=s(6376),d=s(1653),x=s(5556),l=s(8675),y=s(2597);t.default=()=>{let{sunSettings:e,rotationCounts:t,simulationDate:s}=(0,i.ZP)(),{planetPositions:f,selectedPlanet:_,selectedMoon:j}=(0,i.d2)(),{surfacePoint:D,isSurfaceCameraActive:Z}=(0,i.g5)(),k=(0,r.useRef)(),b=(0,r.useRef)(),[g,h]=(0,r.useState)(200),P=()=>{if(!b.current)return;h(200),b.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};b.current.setPosition(t.x,t.y,t.z,!0)};(0,r.useEffect)(()=>{if(_&&b.current){let e=f[_.name];if(e){let t=p.ZP[_.name].radius*p.YB*4;h(t/2),b.current.setTarget(e.x,e.y,e.z,!0),b.current.dollyTo(t,!0)}"Sun"===_.name&&(h(200),b.current.setTarget(0,0,0,!0),b.current.dollyTo(200,!0))}},[_,f]),(0,r.useEffect)(()=>{if(j&&b.current){let e=j.position;if(e){let t=j.bodyData.radius*m.sh*4;h(t/2),b.current.setTarget(e.x,e.y,e.z,!0),b.current.dollyTo(t,!0)}}},[j,m._d]),(0,r.useEffect)(()=>{!_&&b.current&&P()},[_,e.position]),(0,d.A)(()=>{if(Z&&D&&_){let e=f[_.name];if(e){let t=new c.Vector3(e.x,e.y,e.z),s=new c.Vector3(D.x,D.y,D.z).sub(t).normalize(),a=new c.Vector3(D.x,D.y,D.z).add(s.multiplyScalar(.1));k.current.position.copy(a);let r=a.clone().add(s);k.current.lookAt(r),k.current.up.copy(s)}}});let z=(0,n.m)({map:"/assets/earth/2k_earth_daymap.jpg"}),S=(0,n.m)({map:"/assets/venus/2k_venus_surface.jpg",surface:"/assets/venus/2k_venus_atmosphere.jpg"}),v=(0,n.m)({map:"/assets/mercury/2k_mercury.jpg"}),E=(0,n.m)({map:"/assets/mars/2k_mars.jpg"}),T=(0,n.m)({map:"/assets/jupiter/2k_jupiter.jpg"}),N=(0,n.m)({map:"/assets/saturn/2k_saturn.jpg"}),w=(0,n.m)({map:"/assets/uranus/2k_uranus.jpg"}),M=(0,n.m)({map:"/assets/neptune/2k_neptune.jpg"}),V=(e,t)=>(m._d[e]||[]).map((t,s)=>(0,a.jsx)(x.Z,{bodyData:t,parentPosition:f[e],parentName:e},"".concat(e,"-moon-").concat(s)));return(0,a.jsxs)(a.Fragment,{children:[!Z&&(0,a.jsx)(o.B,{ref:b,makeDefault:!0,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,zoomSpeed:.1,minDistance:Math.max(.02,g)}),D&&Z&&(0,a.jsx)(u.c,{ref:k,makeDefault:!0,position:[D.x,D.y+10,D.z],fov:70,near:.01,far:1e6}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Earth,textures:z,moonsData:m._d.Earth}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Mars,textures:E,moonsData:m._d.Mars}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Venus,textures:S,moonsData:m._d.Venus}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Mercury,textures:v,moonsData:m._d.Mercury}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Jupiter,textures:T,moonsData:m._d.Jupiter}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Saturn,textures:N,moonsData:m._d.Saturn}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Uranus,textures:w,moonsData:m._d.Uranus}),(0,a.jsx)(y.Z,{bodyData:p.ZP.Neptune,textures:M,moonsData:m._d.Neptune}),Object.entries(m._d).map(e=>{let[t,s]=e;return V(t,s)}),(0,a.jsx)(l.Z,{position:e.position,resetCamera:P},"Sun-plain")]})}}},function(e){e.O(0,[689,723,800,896,417,971,69,744],function(){return e(e.s=2782)}),_N_E=e.O()}]);