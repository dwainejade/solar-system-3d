(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{206:function(e,t,r){Promise.resolve().then(r.bind(r,5289))},5289:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(7437),a=r(2265),o=r(2226),s=r(7871),i=r(3719),u=r(8384),c=r(2803),l=r(2079),m=r(5375),h=r(7776),d=r(9373),p=r(2325),f=r(878),x=r(1675),M=r(2167),g=r(1577),y=r(8942),v=r(1045),j=r(8236),b=r(4851),w=e=>{let{planetRef:t,numTriangles:r=5,radius:o,eccentricity:s=0,orbitalInclination:i,color:u="white"}=e,[c,l]=(0,a.useState)(null),[m,h]=(0,a.useState)([]),[p,f]=(0,a.useState)(0),[x,M]=(0,a.useState)(null),g=(0,a.useMemo)(()=>{let e=[];for(let t=0;t<=r;t++){let n=t/r*2*Math.PI,a=n;for(let e=0;e<10;e++){let e=(a-s*Math.sin(a)-n)/(1-s*Math.cos(a));if(a-=e,1e-6>Math.abs(e))break}let o=2*Math.atan(Math.sqrt((1+s)/(1-s))*Math.tan(a/2));e.push(o)}return e},[r,s]),y=e=>{let t=o*(1-s*s)/(1+s*Math.cos(e)),r=t*Math.sin(e),n=Math.PI/180*i;return[t*Math.cos(e),Math.sin(n)*r,Math.cos(n)*r]},v=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=[[0,0,0]];for(let a=0;a<=r;a++){let o=e+a/r*(t-e);n.push(y(o))}return n.push([0,0,0]),n},j=e=>{for(;e<0;)e+=2*Math.PI;for(;e>=2*Math.PI;)e-=2*Math.PI;return e},w=(e,t,r)=>(e=j(e),(t=j(t))<=(r=j(r)))?e>=t&&e<=r:e>=t||e<=r;return(0,d.A)(()=>{if(!t.current)return;let e=t.current.position,n=Math.atan2(e.z,e.x);if(n=j(n),null===x){M(n);return}if(x>5&&n<1){h([]),f(0),l(null),M(n);return}if(p<r){let e=g[p],t=g[p+1];c?!w(n,e,t)&&w(x,e,t)?(h(r=>[...r,{points:v(e,t),color:c.color}]),p<r-1?(f(e=>e+1),l({startAngle:t,endAngle:n,color:"hsl(".concat((p+1)*360/r,", 70%, 50%)")})):l(null)):l(e=>({...e,endAngle:n})):l({startAngle:e,endAngle:n,color:"hsl(".concat(360*p/r,", 70%, 50%)")})}M(n)}),(0,n.jsxs)("group",{children:[m.map((e,t)=>(0,n.jsx)(b.x,{points:e.points,color:e.color,lineWidth:2,transparent:!0,opacity:.5},"complete-".concat(t))),c&&(0,n.jsx)(b.x,{points:v(c.startAngle,c.endAngle),color:c.color,lineWidth:2})]})},P=e=>{let{name:t="Earth",textures:r}=e,{planetsData:o}=(0,u.d2)(),{experimentType:s,experimentPlanet:i}=(0,c.Z)(),m={...o[t]},{radius:b,orbitalOrigin:P,orbitalRadius:A,orbitalPeriod:S,orbitalInclination:E,axialTilt:k,rotationPeriod:z,color:C,initialOrbitalAngle:R=0,eccentricity:T}=m,{simSpeed:_,toggleDetailsMenu:I}=(0,u.ZP)(),{planetAngles:Z,updatePlanetPosition:L,selectedPlanet:Y,setSelectedPlanet:F,displayLabels:B,selectedMoon:D,setSelectedMoon:V,orbitPaths:X}=(0,u.d2)(),{isSurfaceCameraActive:N,satelliteCamera:U,toggleSatelliteCamera:G,setAutoRotate:O,autoRotate:W,activeCamera:q,switchToPlanetCamera:H}=(0,u.g5)(),J=(0,a.useRef)(),K=(0,a.useRef)(Z[t]||0),Q=(0,a.useRef)(),$=(0,a.useRef)(null),[ee,et]=(0,a.useState)(!1),[er,en]=(0,a.useState)(!1),[ea,eo]=(0,a.useState)(!1),es=(0,a.useRef)({x:0,y:0}),ei=A*(N?1e-4:l.Hm),eu=b*l.YB;l.E_;let ec=Y&&Y.name===t,el=()=>!!ec||(null==D?void 0:D.parentName)===t,em=ec||el()?64:16,[eh,ed]=(0,a.useState)(eu),ep=(0,a.useRef)(1),[ef,ex]=(0,a.useState)(!1),[eM,eg]=(0,a.useState)(1);(0,d.A)((e,r)=>{let n=r*_;0===K.current?K.current=Math.PI/180*R:K.current-=2*Math.PI/(86400*S)*n;let a=K.current;for(let e=0;e<10;e++){let e=(a-T*Math.sin(a)-K.current)/(1-T*Math.cos(a));if(a-=e,1e-6>Math.abs(e))break}let o=2*Math.atan(Math.sqrt((1+T)/(1-T))*Math.tan(a/2)),s=ei*(1-T*T)/(1+T*Math.cos(o)),i=s*Math.cos(-o),u=s*Math.sin(-o);if(J.current){let r=Math.PI/180*E,a=Math.sin(r)*u,o=Math.cos(r)*u;if(J.current.position.set(i,a,o),L(t,{x:i,y:a,z:o}),z){let e=2*Math.PI/(3600*z)*n,t=new h.Vector3(0,1,0);$.current.rotateOnAxis(t,e),J.current.rotation.y>=2*Math.PI&&ec&&(J.current.rotation.y%=2*Math.PI),Q.current&&(Q.current.rotation.y+=1.1*e)}let s=J.current.position.distanceTo(e.camera.position);s/1e3<=eu?ed(eu):ed(s/1e3),ex("moon"===q.type||s<500);let c=100*eu,l=1*eu;eg(Math.max(0,Math.min(1,(s-l)/(c-l)))),ep.current&&(ep.current=.02*s)}}),(0,a.useEffect)(()=>{$.current&&($.current.rotation.order="YXZ",$.current.rotation.y=0,$.current.rotation.x=h.MathUtils.degToRad(k))},[k,Y]);let ey=e=>{e.stopPropagation(),er||q.name===t||(I(!0),V(null),F(m),H(t))},ev=e=>{e.stopPropagation(),en(!1),es.current={x:e.clientX,y:e.clientY}},ej=e=>{Math.sqrt(Math.pow(e.clientX-es.current.x,2)+Math.pow(e.clientY-es.current.y,2))>5&&en(!0)},eb=e=>{en(!1)},ew=e=>{e.stopPropagation(),document.body.style.cursor="pointer",eo(!0)},eP=e=>{e.stopPropagation(),document.body.style.cursor="auto",eo(!1)},eA=y.ZP[t]||[];return(0,n.jsxs)(n.Fragment,{children:[(null==q?void 0:q.name)===t&&J.current&&(0,n.jsx)(x.Z,{target:J.current,targetName:t,size:eu}),"kepler-2"===s&&(0,n.jsx)(w,{planetRef:J,numTriangles:5,radius:ei,eccentricity:T,orbitalInclination:E}),(0,n.jsxs)("group",{ref:J,children:[(0,n.jsx)("mesh",{visible:!1,onClick:ey,onPointerDown:ev,onPointerMove:ej,onPointerUp:eb,onPointerOver:ew,onPointerOut:eP,children:(null==q?void 0:q.name)!==t&&(0,n.jsx)("sphereGeometry",{args:[el()?eu:8*eh,8,8]})}),(0,n.jsxs)("mesh",{ref:$,onDoubleClick:e=>{e.stopPropagation(),O(!W)},children:[(0,n.jsx)("sphereGeometry",{args:[el()?eu:8*eh,em,em/2]}),ec||el()||!ee?(0,n.jsxs)(n.Fragment,{children:["Earth"===t&&ec&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("mesh",{ref:Q,children:[(0,n.jsx)("sphereGeometry",{args:[Math.min(1.008*eu),em,em/2]}),(0,n.jsx)("meshStandardMaterial",{alphaMap:null==r?void 0:r.clouds,transparent:!0,opacity:.8})]},"".concat(t,"-cloud_texture")),(0,n.jsxs)("mesh",{children:[(0,n.jsx)("sphereGeometry",{args:[Math.min(1.02*eu),em,em/2]}),(0,n.jsx)("shaderMaterial",{args:[v.et]})]},"".concat(t,"-atmosphere_texture"))]}),(0,n.jsx)("meshStandardMaterial",{metalness:.6,roughness:.8,map:null==r?void 0:r.map,onBuild:()=>et(!0)})]}):(0,n.jsx)("meshBasicMaterial",{color:C})]},ec?t+"-textured":t+"-basic"),"Saturn"===t&&ef&&(0,n.jsx)(j.Z,{innerRadius:1.2*eu,outerRadius:2*eu,height:0,rotation:[h.MathUtils.degToRad(k),0,0],texture:ec?null==r?void 0:r.ringTexture:null,detail:Math.max(em,32)},em+t+"-ring"),"Uranus"===t&&ef&&(0,n.jsx)(j.Z,{innerRadius:1.5*eu,outerRadius:1.9*eu,height:0,texture:ec?null==r?void 0:r.ringTexture:null,detail:Math.max(em,32),rotation:[h.MathUtils.degToRad(k),0,0]},em+t+"-ring"),(B&&!ec||ea&&!ec)&&(0,n.jsx)(g.Z,{text:t,size:null==ep?void 0:ep.current,position:[0,1.2*eh+(null==ep?void 0:ep.current),0],color:C,handleClick:ey,handlePointerDown:ev,font:"../assets/fonts/Termina_Black.ttf"},t),B&&ec&&(0,n.jsx)(p.V,{as:"span",wrapperClass:"label-wrapper",center:!0,"position-y":ec?eh+.25*eh:4*eh,zIndexRange:[100,0],style:{pointerEvents:"none"},children:(0,n.jsx)("span",{className:"planet-label",style:{color:C},onClick:ey,onPointerDown:ev,onPointerMove:ej,onPointerUp:eb,onPointerOver:ew,onPointerOut:eP,children:t})}),el()&&eA.map((e,r)=>{var a;let o=["Saturn","Uranus"].includes(t);return(0,n.jsx)("group",{rotation:o?[h.MathUtils.degToRad(k),0,0]:[0,0,0],children:(0,n.jsx)(M.Z,{moonData:e,planetPosition:null===(a=J.current)||void 0===a?void 0:a.position,parentName:t},"".concat(t,"-moon-").concat(r))},"".concat(t,"-moon-group-").concat(r))})]}),X&&(0,n.jsx)(f.Z,{origin:P,radius:ei,eccentricity:T,orbitalInclination:E,color:C,name:t+"-orbit-path",opacity:.4,hiRes:ec})]})},A=r(3920);r(1875);var S=()=>{let{sunSettings:e,simSpeed:t,setSimSpeed:r,prevSpeed:o,setPrevSpeed:p,setViewOnlyMode:f}=(0,u.ZP)(),{planetPositions:x,selectedPlanet:M,selectedMoon:g,setSelectedMoon:y,planetsData:v,moonsData:j,moonPositions:b}=(0,u.d2)(),{satelliteCamera:w,isCameraTransitioning:S,toggleCameraTransitioning:E,isZoomingToSun:k,resetCamera:z,toggleZoomingToSun:C,activeCamera:R}=(0,u.g5)(),{experimentMode:T,experimentType:_,experimentPlanet:I}=(0,c.Z)(),Z=(0,a.useRef)(),[L,Y]=(0,a.useState)(200),[F,B]=(0,a.useState)(!1),D=[1e5,1e5,1e5],V=[2e4,2e4,2e4],X=[0,0,0];(0,a.useEffect)(()=>{Z.current&&!F&&(Z.current.setPosition(...D,!1),Z.current.setTarget(...X,!1),setTimeout(()=>{Z.current.setPosition(...V,!0),Z.current.setTarget(...X,!0),B(!0)},100))},[Z.current]);let N=e=>"moon"===R.type?Math.max(.5*e,.01):4.2*e,U=(e,t)=>{let r=j[t];return r?r.find(t=>t.name===e):null};(0,d.A)(()=>{if(Z.current){if("planet"===R.type){let e=x[M.name];if(y(null),e){let t=N(v[M.name].radius*l.YB);Y(t/2),Z.current.setTarget(e.x,e.y,e.z,!0),Z.current.dollyTo(t,!0),C(!1)}}if("moon"===R.type){let e=b[R.name],t=U(R.name,R.parentName);if(e&&t){let r=t.radius*l.YB,n=N(r);Y(2*r),Z.current.setTarget(e.x,e.y,e.z,!0),Z.current.dollyTo(4*n,!0);let a=new h.Vector3;Z.current.getTarget(a),.1>a.distanceTo(new h.Vector3(e.x,e.y,e.z))&&(C(!1),E(!1))}}if("Sun"===R.name&&(Y(200),Z.current.setTarget(0,0,0,!0),Z.current.distance<800&&C(!1),Z.current.dollyTo(200,!0)),"custom"===R.type&&(Z.current.setPosition(R.position.x,R.position.y,R.position.z,!0),Z.current.setTarget(R.target.x,R.target.y,R.target.z,!0)),"orbit"===R.type&&"default"===R.name&&S){let e=R.position,t=R.lookAt,r=new h.Vector3,n=new h.Vector3;Z.current.getPosition(r),Z.current.getTarget(n),r.distanceTo(e)>100&&Z.current.setLookAt(e.x,e.y,e.z,t.x,t.y,t.z,!0),E(!1),Y(200)}"orbit"!==R.type||S||Y(200)}}),(0,a.useEffect)(()=>{Z.current&&!F&&(Z.current.setPosition(...D,!1),Z.current.setTarget(...X,!1),Z.current.camera.updateProjectionMatrix(),setTimeout(()=>{z(),B(!0)},100))},[Z.current]),(0,a.useEffect)(()=>{var e;("planet"===R.type||"moon"===R.type)&&(E(!0),p(t),r(0)),"orbit"===R.type&&"default"===R.name&&0===t&&r(o),M||g||(C(!1),0===t&&r(o)),"Sun"===R.name&&(C(!0),0===t&&(r(o),E(!1))),null===(e=Z.current)||void 0===e||e.camera.updateProjectionMatrix()},[M,g,R]),(0,a.useEffect)(()=>{let e=e=>{1===e.button&&e.preventDefault(),Z.current&&(Z.current.mouseButtons.right=1)};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[]);let G=(0,s.m)({map:"../assets/earth/8k_earth_daymap.jpg",clouds:"../assets/earth/8k_earth_clouds.jpg"}),O=(0,s.m)({map:"../assets/sun/8k_sun.jpg"}),W=(0,s.m)({map:"../assets/venus/2k_venus_surface.jpg"}),q=(0,s.m)({map:"../assets/mercury/2k_mercury.jpg"}),H=(0,s.m)({map:"../assets/mars/1k_mars.jpg"}),J=(0,s.m)({map:"../assets/jupiter/8k_jupiter.jpg"}),K=(0,s.m)({map:"../assets/saturn/2k_saturn.jpg",ringTexture:"../assets/saturn/saturn-rings.png"}),Q=(0,s.m)({map:"../assets/uranus/2k_uranus.jpg",ringTexture:"../assets/uranus/uranus-rings-2.png"}),$=(0,s.m)({map:"../assets/neptune/2k_neptune.jpg"});return(0,n.jsxs)(n.Fragment,{children:[!w&&(0,n.jsx)(i.B,{ref:Z,makeDefault:!w,maxDistance:9e4,smoothTime:.6,enableDamping:!0,near:.01,far:1e6,minDistance:L,autoRotate:!0}),(0,n.jsx)(A.Z,{}),(()=>{switch(I){case"Earth":default:return(0,n.jsx)(P,{name:"Earth",textures:G});case"Mars":return(0,n.jsx)(P,{name:"Mars",textures:H});case"Venus":return(0,n.jsx)(P,{name:"Venus",textures:W});case"Mercury":return(0,n.jsx)(P,{name:"Mercury",textures:q});case"Jupiter":return(0,n.jsx)(P,{name:"Jupiter",textures:J});case"Saturn":return(0,n.jsx)(P,{name:"Saturn",textures:K});case"Uranus":return(0,n.jsx)(P,{name:"Uranus",textures:Q});case"Neptune":return(0,n.jsx)(P,{name:"Neptune",textures:$})}})(),(0,n.jsx)(m.Z,{textures:O,position:e.position,resetCamera:z},"Sun-plain")]})};r(7045);var E=()=>{let{experimentMode:e,toggleExperimentMode:t}=(0,c.Z)();return(0,a.useEffect)(()=>{t(!0)},[]),(0,n.jsx)(o.Z,{mode:e?"experiments":"main",children:(0,n.jsx)(S,{})})}},8236:function(e,t,r){"use strict";var n=r(7437),a=r(2265),o=r(7776);t.Z=e=>{let{innerRadius:t,outerRadius:r,height:s=0,rotation:i,texture:u,detail:c=16}=e,l=(0,a.useMemo)(()=>{let e=new o.CylinderGeometry(r,t,s,c,1,!0),n=e.attributes.uv;for(let e=0;e<n.count;e++){let t=n.getX(e),r=n.getY(e);n.setXY(e,t,r)}return e},[t,r,s]),m=(0,a.useMemo)(()=>new o.MeshBasicMaterial({map:u,side:o.DoubleSide,transparent:!0}),[u]);return(0,n.jsx)("mesh",{geometry:l,material:m,rotation:i})}},1675:function(e,t,r){"use strict";var n=r(7437),a=r(2265),o=r(9373),s=r(5533),i=r(7776),u=r(8384);t.Z=e=>{let{target:t,size:r,targetName:c}=e,{toggleCameraTransitioning:l,setAutoRotate:m,autoRotate:h,activeCamera:d,toggleSatelliteCamera:p,satelliteCamera:f}=(0,u.g5)(),{prevSpeed:x,setSimSpeed:M}=(0,u.ZP)(),{gl:g,camera:y}=(0,o.z)(),v=(0,a.useRef)(),j=(0,a.useRef)(!1),b=(0,a.useRef)({x:0,y:0}),w=(0,a.useRef)(new i.Spherical(6*r,Math.PI/2,0)),P=(0,a.useCallback)(()=>{m(!1)},[m]),A=(0,a.useCallback)(e=>{j.current=!0,b.current={x:e.clientX,y:e.clientY}},[]),S=(0,a.useCallback)(()=>{j.current=!1},[]),E=(0,a.useCallback)(e=>{if(!j.current)return;P();let t=e.clientX-b.current.x,r=e.clientY-b.current.y,n=w.current.phi-.45*r*.01,a=w.current.theta-.45*t*.01;w.current.phi=Math.max(.1,Math.min(Math.PI-.1,n)),w.current.theta=a,b.current={x:e.clientX,y:e.clientY}},[P]),k=(0,a.useCallback)(e=>{if(!f)return;let t=.01*e.deltaY,n=i.MathUtils.clamp(w.current.radius+t,2.5*r,500);w.current.radius=n,P()},[f,r,P]),z=(0,a.useCallback)(e=>{j.current=!0,e.touches?(e.preventDefault(),b.current={x:e.touches[0].clientX,y:e.touches[0].clientY}):b.current={x:e.clientX,y:e.clientY}},[]),C=(0,a.useCallback)(e=>{if(!j.current)return;P();let t=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY,n=t-b.current.x,a=r-b.current.y,o=w.current.phi-.003*a,s=w.current.theta-.003*n;w.current.phi=Math.max(.1,Math.min(Math.PI-.1,o)),w.current.theta=s,b.current={x:t,y:r}},[P]);(0,o.A)((e,n)=>{if(!v.current||!t)return;let a=new i.Vector3;t.getWorldPosition(a);let o=t.position.clone();h&&(w.current.theta+=.05*n);let s=new i.Vector3().setFromSpherical(w.current).add(o);v.current.position.copy(s),v.current.lookAt(o),v.current.updateMatrixWorld(),d.name===c&&!f&&y.position.distanceTo(a)<=Math.max(4.3*r,.01)&&R(y,a)});let R=(0,a.useCallback)((e,r)=>{let n=e.position.clone(),a=t.parent.matrixWorld.clone().invert(),o=n.applyMatrix4(a),s=t.position.clone(),i=o.sub(s);w.current.setFromVector3(i),v.current.position.copy(o),v.current.lookAt(s),p(!0),l(!1),M(x)},[t,p,l,M,x]);return(0,a.useEffect)(()=>{let e=g.domElement;return e.addEventListener("mousedown",A),window.addEventListener("mousemove",E),window.addEventListener("mouseup",S),e.addEventListener("wheel",k,{passive:!0}),e.addEventListener("touchstart",z),e.addEventListener("touchmove",C),e.addEventListener("touchend",S),e.addEventListener("contextmenu",e=>e.preventDefault()),()=>{e.removeEventListener("mousedown",A),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",S),e.removeEventListener("wheel",k),e.removeEventListener("touchstart",z),e.removeEventListener("touchmove",C),e.removeEventListener("touchend",S),e.removeEventListener("contextmenu",e=>e.preventDefault()),f&&p(!1)}},[A,E,S,k,z,C,g.domElement,f,p]),(0,n.jsx)(s.c,{ref:v,name:"satellite-camera-"+c,makeDefault:f,fov:50,near:.01,far:1e6},c)}},1875:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(7437),a=r(2265),o=r(9373),s=r(7776),i=r(2079),u=r(8384),c=r(1577),l=e=>{let{count:t=1e3}=e,r=(0,a.useRef)([]),i=(0,a.useMemo)(()=>{let e=[new s.IcosahedronGeometry(1,0),new s.DodecahedronGeometry(1,0),new s.OctahedronGeometry(1,0)];return Array.from({length:t},()=>({position:new s.Vector3((Math.random()-.5)*2e3,(Math.random()-.5)*200,(Math.random()-.5)*2e3),rotation:new s.Euler(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),scale:.5+2*Math.random(),geometry:e[Math.floor(Math.random()*e.length)],rotationSpeed:{x:(Math.random()-.5)*.002,y:(Math.random()-.5)*.002,z:(Math.random()-.5)*.002},color:new s.Color(.4+.2*Math.random(),.3+.2*Math.random(),.2+.2*Math.random())}))},[t]);(0,o.A)(()=>{r.current.forEach((e,t)=>{e&&(e.rotation.x+=i[t].rotationSpeed.x,e.rotation.y+=i[t].rotationSpeed.y,e.rotation.z+=i[t].rotationSpeed.z)})});let u=(0,a.useMemo)(()=>new s.MeshStandardMaterial({roughness:.8,metalness:.2,flatShading:!0}),[]);return(0,n.jsx)("group",{children:i.map((e,t)=>(0,n.jsx)("mesh",{ref:e=>r.current[t]=e,position:e.position,rotation:e.rotation,scale:e.scale,geometry:e.geometry,children:(0,n.jsx)("primitive",{object:u,attach:"material",color:e.color})},t))})},m=e=>{let{particleCount:t=5e3}=e,{simSpeed:r}=(0,u.ZP)(),{displayLabels:m}=(0,u.d2)(),{activeCamera:h,switchToCustomCamera:d,setAutoRotate:p}=(0,u.g5)(),f=(0,a.useRef)(!1),x=(0,a.useRef)(),M=(0,a.useRef)(1),g=(0,a.useRef)(),y=i.B9.innerRadius*i.Hm,v=i.B9.outerRadius*i.Hm,j=(y+v)/2,b=new s.Vector3(.8*j,.01*j,0),{positions:w,sizes:P,colors:A,velocities:S,initialAngles:E,eccentricities:k,semiMajorAxes:z}=(0,a.useMemo)(()=>{let e=new Float32Array(3*t),r=new Float32Array(t),n=new Float32Array(3*t),a=new Float32Array(t),o=new Float32Array(t),s=new Float32Array(t),i=new Float32Array(t);for(let u=0;u<t;u++){let t=y+Math.pow(Math.random(),.5)*(v-y),c=.3*Math.random(),l=Math.random()*Math.PI*2,m=20*Math.random()*(Math.PI/275),h=t*(1-c*c)/(1+c*Math.cos(l)),d=h*Math.cos(l),p=h*Math.sin(m)*Math.sin(l),f=h*Math.cos(m)*Math.sin(l);e[3*u]=d,e[3*u+1]=p,e[3*u+2]=f,r[u]=50*Math.pow(Math.random(),3)+10,a[u]=.1*Math.sqrt(j/t),o[u]=l,s[u]=c,i[u]=t;let x=Math.random();x>.8?(n[3*u]=.545,n[3*u+1]=.45,n[3*u+2]=.33):x>.5?(n[3*u]=.29,n[3*u+1]=.29,n[3*u+2]=.29):(n[3*u]=.63,n[3*u+1]=.32,n[3*u+2]=.18)}return{positions:e,sizes:r,colors:n,velocities:a,initialAngles:o,eccentricities:s,semiMajorAxes:i}},[t]);(0,o.A)((e,t)=>{let n=t*r/i.E_;if(x.current&&(x.current.material.uniforms.time.value+=n),e.camera){let t=e.camera.position.distanceTo(b);M.current=.02*t}});let C=(0,a.useMemo)(()=>new s.ShaderMaterial({vertexShader:"\n                attribute float size;\n                attribute vec3 color;\n                attribute float velocity;\n                attribute float initialAngle;\n                attribute float eccentricity;\n                attribute float semiMajorAxis;\n                \n                varying vec3 vColor;\n                \n                uniform float time;\n                \n                void main() {\n                    vColor = color;\n                    \n                    // Calculate true anomaly (angle from perihelion)\n                    float meanAnomaly = initialAngle + velocity * time;\n                    float angle = meanAnomaly; // Approximation of true anomaly\n                    \n                    // Calculate radius using orbital equation\n                    float radius = semiMajorAxis * (1.0 - eccentricity * eccentricity) / \n                                 (1.0 + eccentricity * cos(angle));\n                    \n                    // Calculate new position\n                    vec3 pos = position;\n                    float baseY = pos.y / length(pos.xz); // Preserve inclination ratio\n                    pos.x = radius * cos(angle);\n                    pos.z = radius * sin(angle);\n                    pos.y = baseY * length(pos.xz); // Apply inclination to new radius\n                    \n                    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n                    \n                    gl_PointSize = size * (300.0 / -mvPosition.z);\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n                varying vec3 vColor;\n                \n                void main() {\n                    vec2 coord = gl_PointCoord - vec2(0.5);\n                    if (length(coord) > 0.5) discard;\n                    \n                    float distanceFromCenter = length(coord);\n                    float brightness = 1.0 - distanceFromCenter * 0.5;\n                    \n                    gl_FragColor = vec4(vColor * brightness, 1.0);\n                }\n            ",uniforms:{time:{value:0}},transparent:!1,depthWrite:!1,blending:s.NoBlending}),[]);return(0,n.jsxs)(n.Fragment,{children:[(m||f.current)&&(0,n.jsx)("group",{ref:g,position:b,children:(0,n.jsx)(c.Z,{text:"Asteroid Belt",size:M.current,color:"orangered",handleClick:e=>{e.stopPropagation(),(null==h?void 0:h.name)!=="Asteroid Belt"&&(d("Asteroid Belt"),p(!0))}})}),(null==h?void 0:h.name)==="Asteroid Belt"&&(0,n.jsx)(l,{}),(0,n.jsx)("group",{children:(0,n.jsxs)("points",{ref:x,children:[(0,n.jsxs)("bufferGeometry",{children:[(0,n.jsx)("bufferAttribute",{attach:"attributes-position",count:t,array:w,itemSize:3}),(0,n.jsx)("bufferAttribute",{attach:"attributes-size",count:t,array:P,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-color",count:t,array:A,itemSize:3}),(0,n.jsx)("bufferAttribute",{attach:"attributes-velocity",count:t,array:S,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-initialAngle",count:t,array:E,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-eccentricity",count:t,array:k,itemSize:1}),(0,n.jsx)("bufferAttribute",{attach:"attributes-semiMajorAxis",count:t,array:z,itemSize:1})]}),(0,n.jsx)("primitive",{object:C,attach:"material"})]})})]})}},7045:function(){}},function(e){e.O(0,[433,689,623,533,971,190,744],function(){return e(e.s=206)}),_N_E=e.O()}]);