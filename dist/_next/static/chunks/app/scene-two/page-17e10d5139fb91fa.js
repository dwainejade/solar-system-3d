(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{6841:function(e,t,r){Promise.resolve().then(r.bind(r,7968)),Promise.resolve().then(r.bind(r,1336))},7968:function(e,t,r){"use strict";r.r(t);var n=r(3827),s=r(4090),a=r(7475),o=r(7808),i=r(4541),u=r(7912),c=r(424),l=r(440),p=r(6376),m=r(1653),f=r(5556),d=r(8675),y=r(2597);t.default=()=>{let{sunSettings:e,rotationCounts:t,simulationDate:r}=(0,u.ZP)(),{planetPositions:x,selectedPlanet:_,selectedMoon:h}=(0,u.d2)(),{surfacePoint:k,isSurfaceCameraActive:z}=(0,u.g5)(),g=(0,s.useRef)(),b=(0,s.useRef)(),[j,v]=(0,s.useState)(200),D=()=>{if(!b.current)return;v(200),b.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};b.current.setPosition(t.x,t.y,t.z,!0)};(0,s.useEffect)(()=>{if(_&&b.current){let e=x[_.name];if(e){let t=c.ZP[_.name].radius*c.YB*4;v(t/2),b.current.setTarget(e.x,e.y,e.z,!0),b.current.dollyTo(t,!0)}"Sun"===_.name&&(v(200),b.current.setTarget(0,0,0,!0),b.current.dollyTo(200,!0))}},[_,x]),(0,s.useEffect)(()=>{if(h&&b.current){let e=h.position;if(e){let t=h.bodyData.radius*l.sh*4;v(t/2),b.current.setTarget(e.x,e.y,e.z,!0),b.current.dollyTo(t,!0)}}},[h,l._d]),(0,s.useEffect)(()=>{!_&&b.current&&D()},[_,e.position]),(0,m.A)(()=>{if(z&&k&&_){let e=x[_.name];if(e){let t=new p.Vector3(e.x,e.y,e.z),r=new p.Vector3(k.x,k.y,k.z).sub(t).normalize(),n=new p.Vector3(k.x,k.y,k.z).add(r.multiplyScalar(.1));g.current.position.copy(n);let s=n.clone().add(r);g.current.lookAt(s),g.current.up.copy(r)}}});let E=(0,a.m)({map:"/solar-system-interactive/assets/earth/2k_earth_daymap.jpg",normal:"/solar-system-interactive/assets/earth/2k_earth_normal_map.png",specular:"/solar-system-interactive/assets/earth/2k_earth_specular_map.png"}),T=(0,a.m)({map:"/solar-system-interactive/assets/sun/2k_sun.jpg"}),P=(e,t)=>(l._d[e]||[]).map((t,r)=>(0,n.jsx)(f.Z,{bodyData:t,parentPosition:x[e],parentName:e},"".concat(e,"-moon-").concat(r)));return(0,n.jsxs)(n.Fragment,{children:[!z&&(0,n.jsx)(o.B,{ref:b,makeDefault:!0,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,zoomSpeed:.1,minDistance:Math.max(.02,j)}),k&&z&&(0,n.jsx)(i.c,{ref:g,makeDefault:!0,position:[k.x,k.y+10,k.z],fov:70,near:.01,far:1e6,lookAt:[0,0,0]}),(0,n.jsx)(y.Z,{bodyData:c.ZP.Earth,textures:E,moonsData:l._d.Earth}),Object.entries(l._d).map(e=>{let[t,r]=e;return P(t,r)}),(0,n.jsx)(d.Z,{position:e.position,textures:T,resetCamera:D},"Sun-plain")]})}}},function(e){e.O(0,[689,723,800,896,417,971,69,744],function(){return e(e.s=6841)}),_N_E=e.O()}]);