(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{2092:function(e,t,r){Promise.resolve().then(r.bind(r,6602))},6602:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(3827),s=r(1336),a=r(4090),o=r(7475),i=r(7808),u=r(4541),c=r(7912),l=r(424),p=r(440),m=r(6376),f=r(1653),d=r(5556),y=r(8675),x=r(2597),_=()=>{let{sunSettings:e}=(0,c.ZP)(),{planetPositions:t,selectedPlanet:r,selectedMoon:s}=(0,c.d2)(),{surfacePoint:_,isSurfaceCameraActive:h}=(0,c.g5)(),k=(0,a.useRef)(),z=(0,a.useRef)(),[j,g]=(0,a.useState)(200),b=()=>{if(!z.current)return;g(200),z.current.setTarget(e.position.x,e.position.y,e.position.z,!0);let t={x:e.position.x+-2e3,y:e.position.y+1e3,z:e.position.z+1e3};z.current.setPosition(t.x,t.y,t.z,!0)};(0,a.useEffect)(()=>{if(r&&z.current){let e=t[r.name];if(e){let t=l.ZP[r.name].radius*l.YB*4;g(t/2),z.current.setTarget(e.x,e.y,e.z,!0),z.current.dollyTo(t,!0)}"Sun"===r.name&&(g(200),z.current.setTarget(0,0,0,!0),z.current.dollyTo(200,!0))}},[r,t]),(0,a.useEffect)(()=>{if(s&&z.current){let e=s.position;if(e){let t=s.bodyData.radius*p.sh*4;g(t/2),z.current.setTarget(e.x,e.y,e.z,!0),z.current.dollyTo(t,!0)}}},[s,p._d]),(0,a.useEffect)(()=>{!r&&z.current&&b()},[r,e.position]),(0,f.A)(()=>{if(h&&_&&r){let e=t[r.name];if(e){let t=new m.Vector3(e.x,e.y,e.z),r=new m.Vector3(_.x,_.y,_.z).sub(t).normalize(),n=new m.Vector3(_.x,_.y,_.z).add(r.multiplyScalar(.1));k.current.position.copy(n);let s=n.clone().add(r);k.current.lookAt(s),k.current.up.copy(r)}}});let T=(0,o.m)({map:"/solar-system-interactive/assets/earth/2k_earth_daymap.jpg",normal:"/solar-system-interactive/assets/earth/2k_earth_normal_map.png",specular:"/solar-system-interactive/assets/earth/2k_earth_specular_map.png"}),v=(0,o.m)({map:"/solar-system-interactive/assets/sun/2k_sun.jpg"}),D=e=>(p._d[e]||[]).map((r,s)=>(0,n.jsx)(d.Z,{bodyData:r,parentPosition:t[e],parentName:e},"".concat(e,"-moon-").concat(s)));return(0,n.jsxs)(n.Fragment,{children:[!h&&(0,n.jsx)(i.B,{ref:z,makeDefault:!0,maxDistance:9e4,smoothTime:.8,truckSpeed:1,rotateSpeed:1,zoomSpeed:.1,minDistance:Math.max(.02,j)}),_&&h&&(0,n.jsx)(u.c,{ref:k,makeDefault:!0,position:[_.x,_.y+10,_.z],fov:70,near:.01,far:1e6,lookAt:[0,0,0]}),(0,n.jsx)(x.Z,{bodyData:l.ZP.Earth,textures:T}),Object.entries(p._d).map(e=>{let[t,r]=e;return D(t,r)}),(0,n.jsx)(y.Z,{position:e.position,textures:v,resetCamera:b},"Sun-plain")]})},h=()=>(0,n.jsx)(s.Z,{children:(0,n.jsx)(_,{})})}},function(e){e.O(0,[689,723,800,896,417,971,69,744],function(){return e(e.s=2092)}),_N_E=e.O()}]);